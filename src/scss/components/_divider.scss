/**
 * UX Divider Component
 * Part of the UX CSS Library
 */

@use '../core/mixins' as *;

// ==========================================================
// Divider Base
// ==========================================================

.ux-divider {
  --ux-divider-color: var(--ux-border-color);
  --ux-divider-thickness: 1px;
  --ux-divider-spacing: var(--ux-space-md);

  display: flex;
  align-items: center;
  margin: var(--ux-divider-spacing) 0;
  color: var(--ux-text-tertiary);
  font-size: var(--ux-font-size-sm);

  &::before,
  &::after {
    content: '';
    flex: 1;
    height: var(--ux-divider-thickness);
    background-color: var(--ux-divider-color);
  }

  // Sin contenido - linea simple
  &:empty::before {
    flex: 1;
  }

  &:empty::after {
    display: none;
  }

  // Con contenido - texto centrado
  &:not(:empty)::before {
    margin-right: var(--ux-space-md);
  }

  &:not(:empty)::after {
    margin-left: var(--ux-space-md);
  }

  // ==========================================================
  // Vertical Divider
  // ==========================================================

  &--vertical {
    flex-direction: column;
    width: var(--ux-divider-thickness);
    height: auto;
    min-height: 1rem;
    margin: 0 var(--ux-divider-spacing);
    align-self: stretch;

    &::before,
    &::after {
      width: var(--ux-divider-thickness);
      height: auto;
      flex: 1;
    }

    &:not(:empty)::before {
      margin-right: 0;
      margin-bottom: var(--ux-space-sm);
    }

    &:not(:empty)::after {
      margin-left: 0;
      margin-top: var(--ux-space-sm);
    }
  }

  // ==========================================================
  // Thickness Variants
  // ==========================================================

  &--thin {
    --ux-divider-thickness: 1px;
  }

  &--medium {
    --ux-divider-thickness: 2px;
  }

  &--thick {
    --ux-divider-thickness: 4px;
  }

  // ==========================================================
  // Spacing Variants
  // ==========================================================

  &--xs {
    --ux-divider-spacing: var(--ux-space-xs);
  }

  &--sm {
    --ux-divider-spacing: var(--ux-space-sm);
  }

  &--lg {
    --ux-divider-spacing: var(--ux-space-lg);
  }

  &--xl {
    --ux-divider-spacing: var(--ux-space-xl);
  }

  &--none {
    --ux-divider-spacing: 0;
  }

  // ==========================================================
  // Style Variants
  // ==========================================================

  &--dashed {
    &::before,
    &::after {
      background: repeating-linear-gradient(
        90deg,
        var(--ux-divider-color) 0,
        var(--ux-divider-color) 6px,
        transparent 6px,
        transparent 12px
      );
    }

    &.ux-divider--vertical::before,
    &.ux-divider--vertical::after {
      background: repeating-linear-gradient(
        180deg,
        var(--ux-divider-color) 0,
        var(--ux-divider-color) 6px,
        transparent 6px,
        transparent 12px
      );
    }
  }

  &--dotted {
    &::before,
    &::after {
      background: repeating-linear-gradient(
        90deg,
        var(--ux-divider-color) 0,
        var(--ux-divider-color) 2px,
        transparent 2px,
        transparent 6px
      );
    }

    &.ux-divider--vertical::before,
    &.ux-divider--vertical::after {
      background: repeating-linear-gradient(
        180deg,
        var(--ux-divider-color) 0,
        var(--ux-divider-color) 2px,
        transparent 2px,
        transparent 6px
      );
    }
  }

  // ==========================================================
  // Gradient Variant
  // ==========================================================

  &--gradient {
    &::before {
      background: linear-gradient(90deg, transparent, var(--ux-divider-color));
    }

    &::after {
      background: linear-gradient(90deg, var(--ux-divider-color), transparent);
    }

    &:empty::before {
      background: linear-gradient(90deg, transparent, var(--ux-divider-color) 50%, transparent);
    }

    &.ux-divider--vertical::before {
      background: linear-gradient(180deg, transparent, var(--ux-divider-color));
    }

    &.ux-divider--vertical::after {
      background: linear-gradient(180deg, var(--ux-divider-color), transparent);
    }
  }

  // ==========================================================
  // Color Variants
  // ==========================================================

  &--primary {
    --ux-divider-color: var(--ux-primary);
  }

  &--secondary {
    --ux-divider-color: var(--ux-text-secondary);
  }

  &--light {
    --ux-divider-color: var(--ux-gray-200);
  }

  &--dark {
    --ux-divider-color: var(--ux-gray-600);
  }

  // ==========================================================
  // Text Position (with content)
  // ==========================================================

  &--left::before {
    flex: 0 0 2rem;
  }

  &--right::after {
    flex: 0 0 2rem;
  }

  // ==========================================================
  // Inset (for lists)
  // ==========================================================

  &--inset {
    margin-left: var(--ux-space-lg);
  }

  &--inset-end {
    margin-right: var(--ux-space-lg);
  }

  &--inset-both {
    margin-left: var(--ux-space-lg);
    margin-right: var(--ux-space-lg);
  }
}

// ==========================================================
// Dark Mode
// ==========================================================

@media (prefers-color-scheme: dark) {
  .ux-divider {
    --ux-divider-color: var(--ux-border-color);

    &--light {
      --ux-divider-color: var(--ux-gray-700);
    }

    &--dark {
      --ux-divider-color: var(--ux-gray-400);
    }
  }
}

.ux-dark {
  .ux-divider {
    --ux-divider-color: var(--ux-border-color);

    &--light {
      --ux-divider-color: var(--ux-gray-700);
    }

    &--dark {
      --ux-divider-color: var(--ux-gray-400);
    }
  }
}

// ==========================================================
// Reduced Motion
// ==========================================================

@media (prefers-reduced-motion: reduce) {
  .ux-divider {
    transition: none;
  }
}
