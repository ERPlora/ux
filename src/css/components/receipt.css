/* UX v3 - Receipt Component */

@layer components {
  /* ==========================================================================
     Receipt Container
     ========================================================================== */

  .receipt {
    font-family: 'Courier New', Courier, monospace;
    color: var(--color-base-content);
    background: #fff;
    width: 280px;
    box-shadow: 0 2px 8px color-mix(in oklch, var(--color-base-content) 10%, transparent);
    @apply text-xs leading-relaxed mx-auto;
    @apply py-4 px-3;
  }

  /* ==========================================================================
     Receipt Header
     ========================================================================== */

  .receipt-header {
    border-bottom: 1px dashed var(--color-base-300);
    @apply text-center pb-3 mb-3;
  }

  .receipt-logo {
    @apply mx-auto mb-2;
    max-width: 120px;
    max-height: 60px;
  }

  .receipt-logo img {
    @apply max-w-full max-h-full object-contain;
  }

  .receipt-company {
    @apply text-base font-bold uppercase tracking-wide mb-1;
  }

  .receipt-address,
  .receipt-phone,
  .receipt-tax-id {
    color: var(--color-base-content);
    @apply text-[11px] my-0.5;
    opacity: 0.7;
  }

  /* ==========================================================================
     Receipt Info
     ========================================================================== */

  .receipt-info {
    border-bottom: 1px dashed var(--color-base-300);
    @apply flex justify-between flex-wrap pb-3 mb-3 text-[11px];
    gap: 4px 16px;
  }

  .receipt-info-item {
    @apply flex gap-1;
  }

  .receipt-info-label {
    color: color-mix(in oklch, var(--color-base-content) 60%, transparent);
  }

  .receipt-info-value {
    @apply font-semibold;
  }

  /* ==========================================================================
     Receipt Items
     ========================================================================== */

  .receipt-items {
    border-bottom: 1px dashed var(--color-base-300);
    @apply pb-3 mb-3;
  }

  .receipt-items-header {
    border-bottom: 1px solid var(--color-base-200);
    color: color-mix(in oklch, var(--color-base-content) 60%, transparent);
    @apply flex justify-between pb-1 mb-2 text-[10px] font-bold uppercase;
  }

  .receipt-item {
    @apply flex justify-between items-start gap-2 py-1;
  }

  .receipt-item-discount {
    color: var(--color-error);
    @apply text-[11px];
  }

  .receipt-item-discount .receipt-item-name {
    @apply pl-2;
  }

  .receipt-item-name {
    @apply flex-1 min-w-0 break-words;
  }

  .receipt-item-qty {
    color: color-mix(in oklch, var(--color-base-content) 60%, transparent);
    @apply shrink-0 text-center;
    width: 30px;
  }

  .receipt-item-price {
    @apply shrink-0 text-right;
    width: 60px;
  }

  .receipt-item-total {
    @apply shrink-0 text-right font-semibold;
    width: 70px;
  }

  /* ==========================================================================
     Receipt Totals
     ========================================================================== */

  .receipt-totals {
    border-bottom: 1px dashed var(--color-base-300);
    @apply pb-3 mb-3;
  }

  .receipt-total-row {
    @apply flex justify-between;
    padding: 2px 0;
  }

  .receipt-total-row-subtotal {
    @apply pt-1;
  }

  .receipt-total-row-grand {
    border-top: 2px solid var(--color-base-content);
    @apply text-base font-bold pt-2 mt-2;
  }

  .receipt-total-row-grand .receipt-total-value {
    @apply text-lg;
  }

  .receipt-total-label {
    color: color-mix(in oklch, var(--color-base-content) 60%, transparent);
  }

  .receipt-total-value {
    @apply font-medium text-right;
  }

  /* ==========================================================================
     Receipt Payment
     ========================================================================== */

  .receipt-payment {
    border-bottom: 1px dashed var(--color-base-300);
    @apply pb-3 mb-3;
  }

  .receipt-payment-title {
    color: color-mix(in oklch, var(--color-base-content) 60%, transparent);
    @apply text-[10px] font-bold uppercase mb-1;
  }

  .receipt-payment-row {
    @apply flex justify-between;
    padding: 2px 0;
  }

  .receipt-payment-method {
    @apply flex items-center gap-1;
  }

  .receipt-payment-icon {
    @apply size-3.5;
  }

  .receipt-change {
    border-top: 1px solid var(--color-base-200);
    @apply text-sm font-bold pt-1 mt-1;
  }

  /* ==========================================================================
     Receipt Footer
     ========================================================================== */

  .receipt-footer {
    color: color-mix(in oklch, var(--color-base-content) 60%, transparent);
    @apply text-center text-[11px];
  }

  .receipt-thanks {
    color: var(--color-base-content);
    @apply text-sm font-bold mb-2;
  }

  .receipt-message {
    @apply italic my-2;
  }

  .receipt-social {
    @apply mt-2;
  }

  /* ==========================================================================
     Receipt QR Code
     ========================================================================== */

  .receipt-qr {
    border-top: 1px dashed var(--color-base-300);
    @apply flex flex-col items-center py-3 mt-3;
  }

  .receipt-qr-code {
    @apply size-20 mb-1;
  }

  .receipt-qr-code img,
  .receipt-qr-code svg {
    @apply w-full h-full;
  }

  .receipt-qr-label {
    color: color-mix(in oklch, var(--color-base-content) 60%, transparent);
    @apply text-[10px];
  }

  /* ==========================================================================
     Receipt Barcode
     ========================================================================== */

  .receipt-barcode {
    border-top: 1px dashed var(--color-base-300);
    @apply flex flex-col items-center py-3 mt-3;
  }

  .receipt-barcode-image {
    max-width: 200px;
    height: 40px;
    @apply mb-1;
  }

  .receipt-barcode-image img,
  .receipt-barcode-image svg {
    @apply w-full h-full;
  }

  .receipt-barcode-number {
    letter-spacing: 2px;
    @apply text-[10px];
  }

  /* ==========================================================================
     Receipt Divider
     ========================================================================== */

  .receipt-divider {
    border: none;
    border-top: 1px dashed var(--color-base-300);
    @apply my-3;
  }

  .receipt-divider-double {
    border-top-width: 2px;
    border-top-style: double;
    border-color: var(--color-base-content);
  }

  /* ==========================================================================
     Receipt Copy Indicator
     ========================================================================== */

  .receipt-copy {
    border: 1px dashed var(--color-base-300);
    color: color-mix(in oklch, var(--color-base-content) 45%, transparent);
    @apply text-center text-[10px] font-bold uppercase py-2 mt-3;
  }

  /* ==========================================================================
     Paper Sizes
     ========================================================================== */

  .receipt-58mm {
    width: 200px;
    @apply text-[10px];
  }

  .receipt-58mm .receipt-company {
    @apply text-sm;
  }

  .receipt-58mm .receipt-total-row-grand {
    @apply text-sm;
  }

  .receipt-58mm .receipt-total-row-grand .receipt-total-value {
    @apply text-base;
  }

  .receipt-80mm {
    width: 280px;
  }

  .receipt-a4 {
    width: 100%;
    max-width: 500px;
    @apply text-sm p-6;
  }

  .receipt-a4 .receipt-company {
    @apply text-xl;
  }

  .receipt-a4 .receipt-total-row-grand {
    @apply text-lg;
  }

  /* ==========================================================================
     Receipt Preview Wrapper
     ========================================================================== */

  .receipt-preview {
    background: var(--color-base-200);
    border-radius: var(--radius-box, 0.75rem);
    @apply p-6 overflow-auto;
  }

  .receipt-preview-toolbar {
    @apply flex items-center justify-center gap-2 mb-6;
  }

  /* ==========================================================================
     Glass Variant
     ========================================================================== */

  .receipt-preview.glass {
    background: color-mix(in oklch, var(--color-base-200) 50%, transparent);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border: 0.5px solid color-mix(in oklch, var(--color-base-content) 12%, transparent);
  }
}

/* ==========================================================================
   Print Styles
   ========================================================================== */

@media print {
  .receipt-preview {
    background: none !important;
    padding: 0 !important;
  }

  .receipt-preview-toolbar {
    display: none !important;
  }

  .receipt {
    box-shadow: none;
    margin: 0;
    padding: 8px;
    width: auto;
    max-width: none;
    position: absolute;
    left: 0;
    top: 0;
  }

  body * {
    visibility: hidden;
  }

  .receipt,
  .receipt * {
    visibility: visible;
  }
}
