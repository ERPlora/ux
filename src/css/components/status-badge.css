/* UX v3 - Status Badge Component */
/* Badge with colored dot indicator for showing state (active, inactive, pending, etc.) */

@layer components {

  /* =============================================
     Base Status Badge
     ============================================= */

  .status-badge {
    --status-bg: color-mix(in oklch, var(--color-neutral) 10%, transparent);
    --status-color: var(--color-neutral);
    --status-dot: 6px;
    --status-gap: 0.375rem;
    --status-px: 0.5rem;
    --status-py: 0.25rem;
    --status-font: 0.75rem;

    @apply inline-flex items-center font-semibold whitespace-nowrap leading-tight;
    gap: var(--status-gap);
    padding: var(--status-py) var(--status-px);
    font-size: var(--status-font);
    border-radius: 9999px;
    background-color: var(--status-bg);
    color: var(--status-color);
  }

  /* =============================================
     Status Dot
     ============================================= */

  .status-badge-dot {
    @apply rounded-full shrink-0;
    width: var(--status-dot);
    height: var(--status-dot);
    background-color: var(--status-color);
  }

  /* Pulse animation */
  .status-badge-pulse .status-badge-dot {
    animation: status-badge-pulse 2s ease-in-out infinite;
  }

  /* =============================================
     Color Variants
     ============================================= */

  /* Active / Online / Success */
  .status-badge-active,
  .status-badge-online,
  .status-badge-success {
    --status-bg: color-mix(in oklch, var(--color-success) 12%, transparent);
    --status-color: var(--color-success);
  }

  /* Inactive / Offline */
  .status-badge-inactive,
  .status-badge-offline {
    --status-bg: color-mix(in oklch, var(--color-neutral) 10%, transparent);
    --status-color: var(--color-neutral);
  }

  /* Pending / Warning */
  .status-badge-pending,
  .status-badge-warning {
    --status-bg: color-mix(in oklch, var(--color-warning) 12%, transparent);
    --status-color: var(--color-warning);
  }

  /* Error / Danger */
  .status-badge-error,
  .status-badge-danger {
    --status-bg: color-mix(in oklch, var(--color-error) 12%, transparent);
    --status-color: var(--color-error);
  }

  /* Info / Primary */
  .status-badge-info,
  .status-badge-primary {
    --status-bg: color-mix(in oklch, var(--color-info) 12%, transparent);
    --status-color: var(--color-info);
  }

  /* Away / Idle */
  .status-badge-away,
  .status-badge-idle {
    --status-bg: color-mix(in oklch, var(--color-warning) 12%, transparent);
    --status-color: var(--color-warning);
  }

  /* Busy / Do Not Disturb */
  .status-badge-busy,
  .status-badge-dnd {
    --status-bg: color-mix(in oklch, var(--color-error) 12%, transparent);
    --status-color: var(--color-error);
  }

  /* Draft */
  .status-badge-draft {
    --status-bg: color-mix(in oklch, var(--color-base-content) 8%, transparent);
    --status-color: color-mix(in oklch, var(--color-base-content) 50%, transparent);
  }

  /* Archived */
  .status-badge-archived {
    --status-bg: color-mix(in oklch, var(--color-base-content) 8%, transparent);
    --status-color: color-mix(in oklch, var(--color-base-content) 40%, transparent);
  }

  /* Beta / New */
  .status-badge-beta,
  .status-badge-new {
    --status-bg: color-mix(in oklch, var(--color-secondary) 12%, transparent);
    --status-color: var(--color-secondary);
  }

  /* =============================================
     Sizes
     ============================================= */

  .status-badge-sm {
    --status-px: 0.375rem;
    --status-py: 0.125rem;
    --status-font: 0.625rem;
    --status-dot: 5px;
    --status-gap: 0.25rem;
  }

  .status-badge-lg {
    --status-px: 0.75rem;
    --status-py: 0.375rem;
    --status-font: 0.875rem;
    --status-dot: 8px;
    --status-gap: 0.5rem;
  }

  /* =============================================
     Dot Only (no text)
     ============================================= */

  .status-badge-dot-only {
    @apply p-0 bg-transparent;
    width: var(--status-dot);
    height: var(--status-dot);
  }

  .status-badge-dot-only .status-badge-dot {
    @apply w-full h-full;
  }

  .status-badge-dot-only.status-badge-sm {
    @apply size-2;
  }

  .status-badge-dot-only.status-badge-lg {
    @apply size-3;
  }

  /* =============================================
     Outlined Variant
     ============================================= */

  .status-badge-outlined {
    @apply bg-transparent;
    border: 1px solid var(--status-color);
  }

  /* =============================================
     Solid Variant (filled background)
     ============================================= */

  .status-badge-solid {
    background-color: var(--status-color);
    @apply text-white;
  }

  .status-badge-solid .status-badge-dot {
    @apply bg-white;
  }

  /* =============================================
     With Icon (instead of dot)
     ============================================= */

  .status-badge-icon {
    @apply size-3 shrink-0;
  }

  .status-badge-sm .status-badge-icon {
    @apply size-2.5;
  }

  .status-badge-lg .status-badge-icon {
    @apply size-3.5;
  }

  /* =============================================
     Glass Variant
     ============================================= */

  .status-badge.glass {
    @apply glass;
  }

  /* =============================================
     Corner Positioning (for avatar overlays)
     ============================================= */

  .status-badge-corner {
    @apply absolute;
  }

  .status-badge-corner-br { @apply bottom-0 right-0; }
  .status-badge-corner-bl { @apply bottom-0 left-0; }
  .status-badge-corner-tr { @apply top-0 right-0; }
  .status-badge-corner-tl { @apply top-0 left-0; }

  /* =============================================
     Animation
     ============================================= */

  @keyframes status-badge-pulse {
    0%, 100% {
      opacity: 1;
      transform: scale(1);
    }
    50% {
      opacity: 0.5;
      transform: scale(0.85);
    }
  }
}

/* =============================================
   Reduced Motion
   ============================================= */

@media (prefers-reduced-motion: reduce) {
  .status-badge-pulse .status-badge-dot {
    animation: none;
  }
}
