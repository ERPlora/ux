/* UX v3 - Textarea Component */
/* Multi-line text input */

@layer components {

  /* =============================================
     Base textarea
     ============================================= */

  .textarea {
    @apply w-full appearance-none outline-none resize-y;
    min-height: 6rem;
    padding: 0.75rem;
    font-size: 1rem;
    line-height: 1.5;
    color: var(--color-base-content);
    background-color: var(--color-base-100);
    border: var(--border) solid var(--color-base-300);
    border-radius: var(--radius-field);
    transition: border-color 0.15s, box-shadow 0.15s;

    &::placeholder {
      color: color-mix(in oklch, var(--color-base-content) 40%, transparent);
    }

    &:hover {
      border-color: color-mix(in oklch, var(--color-base-content) 30%, transparent);
    }

    &:focus {
      border-color: var(--color-primary);
      box-shadow: 0 0 0 3px color-mix(in oklch, var(--color-primary) 15%, transparent);
    }

    &:disabled {
      @apply opacity-50 cursor-not-allowed resize-none;
      background-color: var(--color-base-200);
    }
  }

  /* =============================================
     Sizes
     ============================================= */

  .textarea-sm {
    min-height: 4rem;
    padding: 0.5rem;
    font-size: 0.875rem;
  }

  .textarea-lg {
    min-height: 10rem;
    padding: 1rem;
    font-size: 1.125rem;
  }

  /* =============================================
     Resize options
     ============================================= */

  .textarea-no-resize { @apply resize-none; }
  .textarea-resize-x  { resize: horizontal; }
  .textarea-resize-both { resize: both; }

  /* =============================================
     Variants
     ============================================= */

  .textarea-filled {
    background-color: var(--color-base-200);
    border-color: transparent;
    border-radius: var(--radius-field) var(--radius-field) 0 0;
    border-bottom: 2px solid var(--color-base-300);

    &:focus {
      border-bottom-color: var(--color-primary);
      @apply shadow-none;
    }
  }

  .textarea-ghost {
    @apply bg-transparent border-transparent;

    &:focus {
      border-color: var(--color-primary);
    }
  }

  /* =============================================
     States
     ============================================= */

  .textarea-error {
    border-color: var(--color-error);

    &:focus {
      box-shadow: 0 0 0 3px color-mix(in oklch, var(--color-error) 15%, transparent);
    }
  }

  .textarea-success {
    border-color: var(--color-success);

    &:focus {
      box-shadow: 0 0 0 3px color-mix(in oklch, var(--color-success) 15%, transparent);
    }
  }

  /* =============================================
     Glass variant
     ============================================= */

  .textarea.glass {
    @apply glass;
    border: 0.5px solid var(--glass-border);

    &:focus {
      box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.5);
    }
  }
}

/* =============================================
   Reduced motion
   ============================================= */

@media (prefers-reduced-motion: reduce) {
  .textarea {
    transition: none;
  }
}
