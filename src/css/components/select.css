/* UX v3 - Select Component */
/* Native <select> styling â€” for custom dropdowns, compose with popover + list */

@layer components {

  /* =============================================
     Base select (native <select>)
     ============================================= */

  .select {
    @apply w-full appearance-none outline-none cursor-pointer;
    height: 2.75rem;
    padding: 0.5rem 2.5rem 0.5rem 0.75rem;
    font-size: 1rem;
    line-height: 1.5;
    color: var(--color-base-content);
    background-color: var(--color-base-100);
    border: var(--border) solid var(--color-base-300);
    border-radius: var(--radius-field);
    transition: border-color 0.15s, box-shadow 0.15s;

    /* Chevron arrow */
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%236b7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 0.75rem center;
    background-size: 1rem;

    &:hover {
      border-color: color-mix(in oklch, var(--color-base-content) 30%, transparent);
    }

    &:focus {
      border-color: var(--color-primary);
      box-shadow: 0 0 0 3px color-mix(in oklch, var(--color-primary) 15%, transparent);
    }

    &:disabled {
      @apply opacity-50 cursor-not-allowed;
      background-color: var(--color-base-200);
    }

    /* Remove default arrow in IE */
    &::-ms-expand {
      @apply hidden;
    }
  }

  /* =============================================
     Sizes
     ============================================= */

  .select-sm {
    height: 2.25rem;
    padding: 0.375rem 2rem 0.375rem 0.625rem;
    font-size: 0.875rem;
  }

  .select-lg {
    height: 3.25rem;
    padding: 0.625rem 2.75rem 0.625rem 1rem;
    font-size: 1.125rem;
  }

  /* =============================================
     Variants
     ============================================= */

  .select-filled {
    background-color: var(--color-base-200);
    border-color: transparent;
    border-radius: var(--radius-field) var(--radius-field) 0 0;
    border-bottom: 2px solid var(--color-base-300);

    &:focus {
      border-bottom-color: var(--color-primary);
      @apply shadow-none;
    }
  }

  .select-ghost {
    @apply bg-transparent border-transparent;

    &:focus {
      border-color: var(--color-primary);
    }
  }

  /* =============================================
     States
     ============================================= */

  .select-error {
    border-color: var(--color-error);

    &:focus {
      box-shadow: 0 0 0 3px color-mix(in oklch, var(--color-error) 15%, transparent);
    }
  }

  .select-success {
    border-color: var(--color-success);

    &:focus {
      box-shadow: 0 0 0 3px color-mix(in oklch, var(--color-success) 15%, transparent);
    }
  }

  /* =============================================
     Color composition
     ============================================= */

  .select.color-primary,
  .select.color-secondary,
  .select.color-accent,
  .select.color-info,
  .select.color-success,
  .select.color-warning,
  .select.color-error {
    border-color: var(--c);

    &:focus {
      box-shadow: 0 0 0 3px color-mix(in oklch, var(--c) 15%, transparent);
    }
  }

  /* =============================================
     Glass variant
     ============================================= */

  .select.glass {
    @apply glass;
    border: 0.5px solid var(--glass-border);

    &:focus {
      box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.5);
    }
  }
}

/* =============================================
   Reduced motion
   ============================================= */

@media (prefers-reduced-motion: reduce) {
  .select {
    transition: none;
  }
}
