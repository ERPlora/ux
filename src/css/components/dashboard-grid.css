/* UX v3 - Dashboard Grid Component */
/* Responsive grid layout for dashboard widgets with stat cards, drag-and-drop states */

@layer components {

  /* =============================================
     Container
     ============================================= */

  .dashboard-grid {
    @apply grid p-4;
    grid-template-columns: repeat(4, 1fr);
    gap: 1rem;
  }

  /* =============================================
     Column variants
     ============================================= */

  .dashboard-grid-cols-2 { grid-template-columns: repeat(2, 1fr); }
  .dashboard-grid-cols-3 { grid-template-columns: repeat(3, 1fr); }
  .dashboard-grid-cols-4 { grid-template-columns: repeat(4, 1fr); }
  .dashboard-grid-cols-6 { grid-template-columns: repeat(6, 1fr); }

  /* =============================================
     Gap variants
     ============================================= */

  .dashboard-grid-gap-none { gap: 0; }
  .dashboard-grid-gap-sm { gap: 0.5rem; }
  .dashboard-grid-gap-lg { gap: 1.5rem; }

  /* =============================================
     Item
     ============================================= */

  .dashboard-grid-item {
    @apply relative flex flex-col overflow-hidden;
    min-height: 200px;
    background-color: var(--color-base-100);
    border-radius: var(--radius-box, 0.75rem);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
    transition: transform 0.15s ease, box-shadow 0.15s ease;

    &:hover {
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
  }

  /* Span variants */
  .dashboard-grid-item-sm { grid-column: span 1; }
  .dashboard-grid-item-md { grid-column: span 2; }
  .dashboard-grid-item-lg { grid-column: span 3; }
  .dashboard-grid-item-full { grid-column: 1 / -1; }

  /* Tall variants */
  .dashboard-grid-item-tall { grid-row: span 2; }

  /* Style variants */
  .dashboard-grid-item-outline {
    box-shadow: none;
    border: 1px solid var(--color-base-300);

    &:hover {
      box-shadow: none;
      border-color: var(--color-primary);
    }
  }

  .dashboard-grid-item-elevated {
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);

    &:hover {
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
      transform: translateY(-2px);
    }
  }

  /* =============================================
     Item structure
     ============================================= */

  .dashboard-grid-item-header {
    @apply flex items-center justify-between shrink-0;
    padding: 1rem;
    border-bottom: 1px solid var(--color-base-300);
  }

  .dashboard-grid-item-title {
    @apply font-semibold truncate m-0;
    color: var(--color-base-content);
  }

  .dashboard-grid-item-subtitle {
    @apply text-xs m-0;
    color: color-mix(in oklch, var(--color-base-content) 60%, transparent);
  }

  .dashboard-grid-item-actions {
    @apply flex items-center gap-1 ml-auto;
  }

  .dashboard-grid-item-content {
    @apply flex-1 p-4 overflow-auto;
  }

  .dashboard-grid-item-content-centered {
    @apply flex items-center justify-center;
  }

  .dashboard-grid-item-footer {
    @apply flex items-center justify-between shrink-0 text-sm;
    padding: 0.5rem 1rem;
    border-top: 1px solid var(--color-base-300);
    color: color-mix(in oklch, var(--color-base-content) 60%, transparent);
  }

  /* =============================================
     Stat widget
     ============================================= */

  .dashboard-grid-stat {
    @apply flex flex-col items-center justify-center text-center h-full;
  }

  .dashboard-grid-stat-value {
    @apply font-bold leading-none;
    font-size: 2.5rem;
    color: var(--color-base-content);
    margin-bottom: 0.25rem;
  }

  .dashboard-grid-stat-label {
    @apply text-sm uppercase tracking-wide;
    color: color-mix(in oklch, var(--color-base-content) 60%, transparent);
  }

  .dashboard-grid-stat-trend {
    @apply inline-flex items-center gap-1 text-xs font-medium;
    margin-top: 0.5rem;
    padding: 2px 0.5rem;
    border-radius: var(--radius-field, 0.25rem);
  }

  .dashboard-grid-stat-trend-up {
    background-color: color-mix(in oklch, var(--color-success) 15%, transparent);
    color: var(--color-success);
  }

  .dashboard-grid-stat-trend-down {
    background-color: color-mix(in oklch, var(--color-error) 15%, transparent);
    color: var(--color-error);
  }

  /* =============================================
     Placeholder / Add
     ============================================= */

  .dashboard-grid-placeholder {
    @apply flex items-center justify-center text-sm font-medium;
    min-height: 200px;
    border: 2px dashed var(--color-primary);
    border-radius: var(--radius-box, 0.75rem);
    background-color: color-mix(in oklch, var(--color-primary) 5%, transparent);
    color: var(--color-primary);
  }

  .dashboard-grid-add {
    @apply flex flex-col items-center justify-center gap-2 text-sm cursor-pointer;
    min-height: 200px;
    border: 2px dashed var(--color-base-300);
    border-radius: var(--radius-box, 0.75rem);
    color: color-mix(in oklch, var(--color-base-content) 60%, transparent);
    transition: border-color 0.15s, color 0.15s, background-color 0.15s;

    &:hover {
      border-color: var(--color-primary);
      color: var(--color-primary);
      background-color: color-mix(in oklch, var(--color-primary) 5%, transparent);
    }
  }

  /* =============================================
     Glass
     ============================================= */

  .dashboard-grid.glass .dashboard-grid-item,
  .dashboard-grid-item.glass {
    @apply glass;
  }
}

/* =============================================
   Responsive
   ============================================= */

@media (max-width: 1199px) {
  .dashboard-grid { grid-template-columns: repeat(3, 1fr); }
  .dashboard-grid-cols-6 { grid-template-columns: repeat(4, 1fr); }
  .dashboard-grid-item-lg { grid-column: span 2; }
}

@media (max-width: 991px) {
  .dashboard-grid,
  .dashboard-grid-cols-3,
  .dashboard-grid-cols-4 { grid-template-columns: repeat(2, 1fr); }
  .dashboard-grid-cols-6 { grid-template-columns: repeat(3, 1fr); }
  .dashboard-grid-item-md { grid-column: span 2; }
  .dashboard-grid-item-lg { grid-column: span 2; }
}

@media (max-width: 767px) {
  .dashboard-grid,
  .dashboard-grid-cols-2,
  .dashboard-grid-cols-3,
  .dashboard-grid-cols-4,
  .dashboard-grid-cols-6 {
    grid-template-columns: 1fr;
    padding: 0.5rem;
  }

  .dashboard-grid-item-sm,
  .dashboard-grid-item-md,
  .dashboard-grid-item-lg,
  .dashboard-grid-item-full {
    grid-column: span 1;
  }

  .dashboard-grid-item-tall {
    grid-row: span 1;
  }

  .dashboard-grid-stat-value {
    font-size: 2rem;
  }
}

/* =============================================
   Reduced motion
   ============================================= */

@media (prefers-reduced-motion: reduce) {
  .dashboard-grid-item {
    transition: none;
  }

  .dashboard-grid-item-elevated:hover {
    transform: none;
  }
}
