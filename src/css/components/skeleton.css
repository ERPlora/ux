/* UX v3 - Skeleton Component */
/* Placeholder loading shapes with shimmer animation */

@layer components {

  /* =============================================
     Base skeleton
     ============================================= */

  .skeleton {
    @apply relative block overflow-hidden;
    background-color: var(--color-base-200);
    border-radius: var(--radius-field);

    &::after {
      content: '';
      @apply absolute inset-0;
      background: linear-gradient(
        90deg,
        transparent 0%,
        color-mix(in oklch, var(--color-base-100) 60%, transparent) 50%,
        transparent 100%
      );
      transform: translateX(-100%);
      animation: skeleton-shimmer 1.5s infinite;
    }
  }

  /* =============================================
     Shapes
     ============================================= */

  .skeleton-circle {
    @apply rounded-full;
  }

  .skeleton-text {
    @apply h-4 rounded;
    margin-bottom: 0.5rem;

    &:last-child {
      @apply w-[70%];
    }
  }

  .skeleton-title {
    @apply h-6 rounded;
    margin-bottom: 0.75rem;
  }

  /* =============================================
     Preset sizes (height)
     ============================================= */

  .skeleton-xs { @apply h-2; }
  .skeleton-sm { @apply h-3; }
  .skeleton-lg { @apply h-8; }
  .skeleton-xl { @apply h-12; }

  /* =============================================
     Pulse variant (alternative animation)
     ============================================= */

  .skeleton-pulse {
    animation: skeleton-pulse 1.5s ease-in-out infinite;

    &::after {
      @apply hidden;
    }
  }

  /* No animation */
  .skeleton-static::after {
    @apply hidden;
  }

  /* =============================================
     Keyframes
     ============================================= */

  @keyframes skeleton-shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
  }

  @keyframes skeleton-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
  }
}

/* =============================================
   Reduced motion
   ============================================= */

@media (prefers-reduced-motion: reduce) {
  .skeleton::after {
    animation: none;
  }

  .skeleton-pulse {
    animation: none;
  }
}
