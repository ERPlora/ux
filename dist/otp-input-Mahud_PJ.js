let t=0,e="",s="";function i(){if(0===t){e=document.body.style.overflow,s=document.body.style.paddingRight;const t=window.innerWidth-document.documentElement.clientWidth;document.body.style.overflow="hidden",t>0&&(document.body.style.paddingRight=`${t}px`)}t++}function n(){t=Math.max(0,t-1),0===t&&(document.body.style.overflow=e,document.body.style.paddingRight=s)}const o=["a[href]","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[tabindex]:not([tabindex="-1"])',"audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function l(t){const e=t.querySelectorAll(o),s=e[0],i=e[e.length-1];function n(t){"Tab"===t.key&&(t.shiftKey?document.activeElement===s&&(t.preventDefault(),i?.focus()):document.activeElement===i&&(t.preventDefault(),s?.focus()))}return t.addEventListener("keydown",n),s&&s.focus(),()=>{t.removeEventListener("keydown",n)}}function u(t,e){const s="string"==typeof t?document.querySelector(t):t;if(!s)return;s.dataset.state=e;const i={open:{"aria-hidden":"false"},closed:{"aria-hidden":"true"},expanded:{"aria-expanded":"true"},collapsed:{"aria-expanded":"false"},selected:{"aria-selected":"true"},loading:{"aria-busy":"true"},disabled:{"aria-disabled":"true"}};i[e]&&Object.entries(i[e]).forEach(([t,e])=>{s.setAttribute(t,e)})}function a(t){const e="string"==typeof t?document.querySelector(t):t;return e?.dataset.state}function h(t,e){return a(t)===e}function c(t,e,s={}){const i="string"==typeof t?document.querySelector(t):t;i&&i.dispatchEvent(new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s}))}function r(t,e){function s(s){t.contains(s.target)||e(s)}return document.addEventListener("click",s,!0),()=>{document.removeEventListener("click",s,!0)}}function p(t){function e(e){"Escape"===e.key&&t(e)}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}const d={open(t){u(t,"open"),i(),c(t,"ux:opened")},close(t){u(t,"closed"),n(),c(t,"ux:closed")},toggle(t){h(t,"open")?this.close(t):this.open(t)}},v=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,announce:function(t,e="polite"){let s=document.getElementById("ux-announcer");s||(s=document.createElement("div"),s.id="ux-announcer",s.setAttribute("aria-live",e),s.setAttribute("aria-atomic","true"),s.style.cssText="\n      position: absolute;\n      width: 1px;\n      height: 1px;\n      padding: 0;\n      margin: -1px;\n      overflow: hidden;\n      clip: rect(0, 0, 0, 0);\n      white-space: nowrap;\n      border: 0;\n    ",document.body.appendChild(s)),s.setAttribute("aria-live",e),s.textContent="",requestAnimationFrame(()=>{s.textContent=t})},dispatch:c,forceUnlockScroll:function(){t=0,document.body.style.overflow=e,document.body.style.paddingRight=s},getState:a,hasState:h,lockScroll:i,modal:d,nextTick:function(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})},onClickOutside:r,onEscape:p,setState:u,toggleState:function(t,e,s){h(t,e)?u(t,s):u(t,e)},trapFocus:l,unlockScroll:n},Symbol.toStringTag,{value:"Module"})),f="undefined"!=typeof window&&window.Node?window.Node.ELEMENT_NODE:1;function m(t){return t&&t.querySelectorAll?t:document}function g(t,e){const s=m(t),i=Array.from(s.querySelectorAll(e));return s&&s.nodeType===f&&s.matches(e)&&i.unshift(s),i}function y({version:t,classMap:e,attributeMap:s,manualMap:i,exportedComponents:n}){const o={},l=i||{};Object.entries(l).forEach(([t,e])=>{o[t.toLowerCase().replace(/[\s_-]/g,"")]=e});const u=s||{},a={version:t,...v,...n||{},_instances:/* @__PURE__ */new WeakMap,init(t=document){const s=m(t);g(s,'[data-ux="js"]').forEach(t=>{if(!this._instances.has(t))for(const[s,i]of Object.entries(e))if(t.classList.contains(s)){const e=new i(t);t._uxComponent=e,this._instances.set(t,e);break}}),Object.entries(u).forEach(([t,e])=>{g(s,`[${t}]`).forEach(t=>{if(this._instances.has(t))return;const s=new e(t);t._uxComponent=s,this._instances.set(t,s)})})},get(t){const e="string"==typeof t?document.querySelector(t):t;return e?._uxComponent||this._instances.get(e)},create(t,e,s={}){const i=t.toLowerCase().replace(/[\s_-]/g,""),n=o[i];if(!n)return null;const l="string"==typeof e?document.querySelector(e):e;if(!l)return null;const u=new n(l,s);return l._uxComponent=u,this._instances.set(l,u),u},destroy(t){const e=this.get(t);e&&"function"==typeof e.destroy&&e.destroy();const s="string"==typeof t?document.querySelector(t):t;s&&(delete s._uxComponent,this._instances.delete(s))}};return"undefined"!=typeof document&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>a.init()):a.init()),function(t){if("undefined"==typeof document||t._domListenersAttached)return;const e=e=>{e?t.init(e):t.init()};document.addEventListener("htmx:afterSwap",t=>{e(t.detail?.target||t.target)}),document.addEventListener("turbo:load",()=>e()),document.addEventListener("alpine:initialized",t=>{e(t.target||document)}),t._domListenersAttached=!0}(a),a}class _{constructor(t,e={}){this.el="string"==typeof t?document.querySelector(t):t,this.el&&(this.options={closeOnBackdrop:!0,closeOnEscape:!0,lockScroll:!0,trapFocus:!0,...e},this._focusCleanup=null,this._escapeCleanup=null,this._previouslyFocused=null,this._init())}_init(){this.options.closeOnBackdrop&&this.el.addEventListener("click",t=>{const e=this.el.querySelector(".ux-modal");e&&!e.contains(t.target)?this.close():e||t.target!==this.el||this.close()}),this.el.querySelectorAll("[data-ux-close]").forEach(t=>{t.addEventListener("click",()=>this.close())}),this.options.closeOnEscape&&(this._escapeCleanup=p(()=>{this.isOpen()&&this.close()}))}open(){if(this._previouslyFocused=document.activeElement,u(this.el,"open"),this.options.lockScroll&&i(),this.options.trapFocus){const t=this.el.querySelector(".ux-modal");t&&(this._focusCleanup=l(t))}c(this.el,"ux:opened")}close(){u(this.el,"closed"),this.options.lockScroll&&n(),this._focusCleanup&&(this._focusCleanup(),this._focusCleanup=null),this._previouslyFocused&&"function"==typeof this._previouslyFocused.focus&&(this._previouslyFocused.focus(),this._previouslyFocused=null),c(this.el,"ux:closed")}toggle(){this.isOpen()?this.close():this.open()}isOpen(){return h(this.el,"open")}destroy(){this._escapeCleanup&&(this._escapeCleanup(),this._escapeCleanup=null),this._focusCleanup&&(this._focusCleanup(),this._focusCleanup=null),delete this.el._uxComponent}}class x{constructor(t,e={}){this.el="string"==typeof t?document.querySelector(t):t,this.el&&(this.options={inputSelector:"input",toggleSelector:"[data-ux-toggle], .ux-input-password__toggle",showIconSelector:'[data-ux-icon="show"]',hideIconSelector:'[data-ux-icon="hide"]',...e},this.input=this.el.querySelector(this.options.inputSelector),this.toggleBtn=this.el.querySelector(this.options.toggleSelector),this.showIcon=this.el.querySelector(this.options.showIconSelector),this.hideIcon=this.el.querySelector(this.options.hideIconSelector),this._visible=!1,this._init())}_init(){this.input&&(this.toggleBtn&&this.toggleBtn.addEventListener("click",t=>{t.preventDefault(),this.toggle()}),this._updateIcons())}_updateIcons(){this.showIcon&&(this.showIcon.style.display=this._visible?"none":""),this.hideIcon&&(this.hideIcon.style.display=this._visible?"":"none")}show(){this.input&&(this._visible=!0,this.input.type="text",this._updateIcons(),c(this.el,"ux:password:show"))}hide(){this.input&&(this._visible=!1,this.input.type="password",this._updateIcons(),c(this.el,"ux:password:hide"))}toggle(){this._visible?this.hide():this.show(),c(this.el,"ux:password:toggle",{visible:this._visible})}isVisible(){return this._visible}getValue(){return this.input?.value||""}setValue(t){this.input&&(this.input.value=t)}destroy(){delete this.el._uxComponent}}class b{constructor(t,e={}){this.el="string"==typeof t?document.querySelector(t):t,this.el&&(this.options={min:0,max:100,step:1,value:50,inputSelector:'.ux-range__input, input[type="range"]',fillSelector:".ux-range__fill",thumbSelector:".ux-range__thumb",valueSelector:".ux-range__value",...e},this.input=this.el.querySelector(this.options.inputSelector),this.fill=this.el.querySelector(this.options.fillSelector),this.thumb=this.el.querySelector(this.options.thumbSelector),this.valueDisplay=this.el.querySelector(this.options.valueSelector),this._value=this.options.value,this._init())}_init(){this.input&&(this.options.min=parseFloat(this.input.min)||this.options.min,this.options.max=parseFloat(this.input.max)||this.options.max,this.options.step=parseFloat(this.input.step)||this.options.step,this._value=parseFloat(this.input.value)||this.options.value,this.input.addEventListener("input",t=>this._handleInput(t)),this.input.addEventListener("change",t=>this._handleChange(t)),this._updateUI())}_handleInput(t){this._value=parseFloat(t.target.value),this._updateUI(),c(this.el,"ux:range:input",{value:this._value,percent:this.percent})}_handleChange(t){this._value=parseFloat(t.target.value),this._updateUI(),c(this.el,"ux:range:change",{value:this._value,percent:this.percent})}_updateUI(){const t=this.percent;this.fill&&(this.fill.style.width=`${t}%`),this.thumb&&(this.thumb.style.left=`${t}%`),this.valueDisplay&&(this.valueDisplay.textContent=this._value)}get percent(){return(this._value-this.options.min)/(this.options.max-this.options.min)*100}get value(){return this._value}set value(t){this.setValue(t)}setValue(t){this._value=Math.min(this.options.max,Math.max(this.options.min,parseFloat(t))),this.input&&(this.input.value=this._value),this._updateUI(),c(this.el,"ux:range:change",{value:this._value,percent:this.percent})}increment(){this.setValue(this._value+this.options.step)}decrement(){this.setValue(this._value-this.options.step)}reset(){this.setValue(this.options.value)}destroy(){delete this.el._uxComponent}}class S{constructor(t,e={}){this.el="string"==typeof t?document.querySelector(t):t,this.el&&(this.options={length:6,type:"number",inputSelector:".ux-otp__field",...e},this.el.dataset.length&&(this.options.length=parseInt(this.el.dataset.length,10)),this.inputs=Array.from(this.el.querySelectorAll(this.options.inputSelector)),this.values=new Array(this.options.length).fill(""),this._init())}_init(){0!==this.inputs.length&&this.inputs.forEach((t,e)=>{t.addEventListener("input",t=>this._handleInput(e,t)),t.addEventListener("keydown",t=>this._handleKeyDown(e,t)),t.addEventListener("paste",t=>this._handlePaste(e,t)),t.addEventListener("focus",()=>this._handleFocus(e))})}_handleInput(t,e){let s=e.target.value;"number"===this.options.type?s=s.replace(/[^0-9]/g,""):"alphanumeric"===this.options.type&&(s=s.replace(/[^a-zA-Z0-9]/g,"")),s=s.slice(-1),this.values[t]=s,e.target.value=s,c(this.el,"ux:otp:change",{value:this.value,index:t}),s&&t<this.inputs.length-1&&this.inputs[t+1].focus(),this.isComplete&&c(this.el,"ux:otp:complete",{value:this.value})}_handleKeyDown(t,e){"Backspace"===e.key&&(!this.values[t]&&t>0?this.inputs[t-1].focus():this.values[t]&&(this.values[t]="",e.target.value="",c(this.el,"ux:otp:change",{value:this.value,index:t}))),"ArrowLeft"===e.key&&t>0&&(e.preventDefault(),this.inputs[t-1].focus()),"ArrowRight"===e.key&&t<this.inputs.length-1&&(e.preventDefault(),this.inputs[t+1].focus())}_handlePaste(t,e){e.preventDefault();let s=(e.clipboardData||window.clipboardData).getData("text").split("");"number"===this.options.type?s=s.filter(t=>/[0-9]/.test(t)):"alphanumeric"===this.options.type&&(s=s.filter(t=>/[a-zA-Z0-9]/.test(t)));for(let o=0;o<s.length&&t+o<this.inputs.length;o++)this.values[t+o]=s[o],this.inputs[t+o].value=s[o];c(this.el,"ux:otp:change",{value:this.value});const i=this.values.findIndex((e,s)=>s>=t&&!e),n=i>=0?i:Math.min(t+s.length,this.inputs.length-1);this.inputs[n].focus(),this.isComplete&&c(this.el,"ux:otp:complete",{value:this.value})}_handleFocus(t){this.inputs[t].select()}get value(){return this.values.join("")}get isComplete(){return this.values.every(t=>""!==t)&&this.values.length===this.options.length}setValue(t){const e=String(t).split("").slice(0,this.options.length);this.values=new Array(this.options.length).fill(""),e.forEach((t,e)=>{this.values[e]=t,this.inputs[e]&&(this.inputs[e].value=t)}),c(this.el,"ux:otp:change",{value:this.value}),this.isComplete&&c(this.el,"ux:otp:complete",{value:this.value})}clear(){this.values=new Array(this.options.length).fill(""),this.inputs.forEach(t=>{t.value=""}),this.inputs[0]?.focus(),c(this.el,"ux:otp:change",{value:""})}focus(){this.inputs[0]?.focus()}destroy(){delete this.el._uxComponent}}export{S as U,r as a,b,y as c,c as d,x as e,_ as f,p as o};
