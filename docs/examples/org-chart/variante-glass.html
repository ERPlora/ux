<div class="ux-org-chart ux-org-chart--glass" x-data="uxOrgChart({
        showSearch: false,
        data: {
          id: 'ceo',
          name: 'Ana Lopez',
          title: 'Directora',
          department: 'Ejecutivo',
          children: [
            { id: 'man1', name: 'Pedro Silva', title: 'Gerente de TI', department: 'Tecnologia' },
            { id: 'man2', name: 'Laura Gomez', title: 'Gerente de RRHH', department: 'Recursos Humanos' },
            { id: 'man3', name: 'Juan Torres', title: 'Gerente Comercial', department: 'Ventas' }
          ]
        }
      })">
        <div class="ux-org-chart__controls">
          <button class="ux-org-chart__control" @click="zoomIn()" :disabled="zoom >= maxZoom">
            <span x-html="icons.zoomIn"></span>
          </button>
          <div class="ux-org-chart__zoom-level" x-text="getZoomPercentage()"></div>
          <button class="ux-org-chart__control" @click="zoomOut()" :disabled="zoom <= minZoom">
            <span x-html="icons.zoomOut"></span>
          </button>
          <button class="ux-org-chart__control" @click="resetZoom()">
            <span x-html="icons.reset"></span>
          </button>
        </div>

        <div class="ux-org-chart__viewport"
             @mousedown="startDrag($event)"
             @mousemove="drag($event)"
             @mouseup="endDrag()"
             @mouseleave="endDrag()">
          <div class="ux-org-chart__canvas"
               :style="{ transform: getTransform() }">
            <div class="ux-org-chart__tree">
              <template x-if="data">
                <div class="ux-org-chart__branch" x-data="{ node: data }">
                  <div class="ux-org-chart__node"
                       :class="{ 'ux-org-chart__node--selected': isSelected(node.id) }"
                       @click="selectNode(node.id, node)">
                    <div class="ux-org-chart__avatar">
                      <span x-text="getInitials(node.name)"></span>
                    </div>
                    <div class="ux-org-chart__name" x-text="node.name"></div>
                    <div class="ux-org-chart__title" x-text="node.title"></div>
                    <div class="ux-org-chart__department" x-text="node.department"></div>
                    <template x-if="hasChildren(node)">
                      <button class="ux-org-chart__toggle"
                              :class="{ 'ux-org-chart__toggle--collapsed': isCollapsed(node.id) }"
                              @click.stop="toggleNode(node.id)">
                        <span x-html="icons.chevron"></span>
                      </button>
                    </template>
                    <template x-if="hasChildren(node) && !isCollapsed(node.id)">
                      <div class="ux-org-chart__connector ux-org-chart__connector--vertical"></div>
                    </template>
                  </div>
                  <template x-if="hasChildren(node) && !isCollapsed(node.id)">
                    <div class="ux-org-chart__children">
                      <template x-for="child in node.children" :key="child.id">
                        <div class="ux-org-chart__branch">
                          <div class="ux-org-chart__node" @click="selectNode(child.id, child)">
                            <div class="ux-org-chart__avatar">
                              <span x-text="getInitials(child.name)"></span>
                            </div>
                            <div class="ux-org-chart__name" x-text="child.name"></div>
                            <div class="ux-org-chart__title" x-text="child.title"></div>
                            <div class="ux-org-chart__department" x-text="child.department"></div>
                          </div>
                        </div>
                      </template>
                    </div>
                  </template>
                </div>
              </template>
            </div>
          </div>
        </div>
      </div>
