<div class="ux-search-select"
     x-data="uxSearchSelect({
       options: [
         { value: 'Pacific/Midway', label: '(UTC-11:00) Midway Island', description: 'Samoa Standard Time' },
         { value: 'Pacific/Honolulu', label: '(UTC-10:00) Hawaii', description: 'Hawaii-Aleutian Standard Time' },
         { value: 'America/Anchorage', label: '(UTC-09:00) Alaska', description: 'Alaska Standard Time' },
         { value: 'America/Los_Angeles', label: '(UTC-08:00) Los Angeles', description: 'Pacific Standard Time' },
         { value: 'America/Denver', label: '(UTC-07:00) Denver', description: 'Mountain Standard Time' },
         { value: 'America/Chicago', label: '(UTC-06:00) Chicago', description: 'Central Standard Time' },
         { value: 'America/New_York', label: '(UTC-05:00) New York', description: 'Eastern Standard Time' },
         { value: 'America/Caracas', label: '(UTC-04:00) Caracas', description: 'Venezuela Time' },
         { value: 'America/Sao_Paulo', label: '(UTC-03:00) Sao Paulo', description: 'Brasilia Time' },
         { value: 'Atlantic/South_Georgia', label: '(UTC-02:00) South Georgia', description: 'South Georgia Time' },
         { value: 'Atlantic/Azores', label: '(UTC-01:00) Azores', description: 'Azores Standard Time' },
         { value: 'Europe/London', label: '(UTC+00:00) London', description: 'Greenwich Mean Time' },
         { value: 'Europe/Paris', label: '(UTC+01:00) Paris', description: 'Central European Time' },
         { value: 'Europe/Madrid', label: '(UTC+01:00) Madrid', description: 'Central European Time' },
         { value: 'Europe/Berlin', label: '(UTC+01:00) Berlin', description: 'Central European Time' },
         { value: 'Europe/Athens', label: '(UTC+02:00) Athens', description: 'Eastern European Time' },
         { value: 'Europe/Moscow', label: '(UTC+03:00) Moscow', description: 'Moscow Standard Time' },
         { value: 'Asia/Dubai', label: '(UTC+04:00) Dubai', description: 'Gulf Standard Time' },
         { value: 'Asia/Karachi', label: '(UTC+05:00) Karachi', description: 'Pakistan Standard Time' },
         { value: 'Asia/Kolkata', label: '(UTC+05:30) Mumbai', description: 'India Standard Time' },
         { value: 'Asia/Dhaka', label: '(UTC+06:00) Dhaka', description: 'Bangladesh Standard Time' },
         { value: 'Asia/Bangkok', label: '(UTC+07:00) Bangkok', description: 'Indochina Time' },
         { value: 'Asia/Shanghai', label: '(UTC+08:00) Shanghai', description: 'China Standard Time' },
         { value: 'Asia/Tokyo', label: '(UTC+09:00) Tokyo', description: 'Japan Standard Time' },
         { value: 'Australia/Sydney', label: '(UTC+10:00) Sydney', description: 'Australian Eastern Time' },
         { value: 'Pacific/Auckland', label: '(UTC+12:00) Auckland', description: 'New Zealand Standard Time' }
       ],
       placeholder: 'Escribe para buscar timezone...',
       minChars: 2
     })"
     :class="{
       'ux-search-select--open': shouldShowDropdown,
       'ux-search-select--has-value': hasValue
     }">
  <label class="ux-search-select__label">Timezone</label>
  <div class="ux-search-select__wrapper">
    <div class="ux-search-select__input-wrapper">
      <span class="ux-search-select__icon">
        <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
        </svg>
      </span>
      <input type="text"
             class="ux-search-select__input"
             x-ref="input"
             x-model="query"
             @input="handleInput()"
             @focus="handleFocus()"
             @blur="handleBlur()"
             @keydown="handleKeydown($event)"
             :placeholder="placeholder"
             autocomplete="off">
      <button type="button"
              class="ux-search-select__clear"
              @click="clear()"
              x-show="hasValue || query"
              aria-label="Clear">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
    </div>
    <div class="ux-search-select__dropdown" x-ref="dropdown" x-show="shouldShowDropdown">
      <template x-if="filteredOptions.length === 0 && !loading">
        <div class="ux-search-select__empty" x-text="emptyText"></div>
      </template>
      <template x-if="loading">
        <div class="ux-search-select__loading">
          <span class="ux-spinner ux-spinner--sm"></span>
          <span x-text="loadingText"></span>
        </div>
      </template>
      <template x-for="(option, index) in filteredOptions" :key="option.value">
        <div class="ux-search-select__option"
             :class="{
               'ux-search-select__option--selected': isSelected(option),
               'ux-search-select__option--focused': isFocused(index)
             }"
             @click="selectOption(option)"
             @mouseenter="focusedIndex = index">
          <div class="ux-search-select__option-content">
            <span class="ux-search-select__option-label" x-html="highlightMatch(option.label)"></span>
            <span class="ux-search-select__option-description" x-text="option.description" x-show="option.description"></span>
          </div>
          <span class="ux-search-select__option-check" x-show="isSelected(option)">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
          </span>
        </div>
      </template>
    </div>
  </div>
  <span class="ux-search-select__helper">Escribe al menos 2 caracteres para buscar</span>
</div>
