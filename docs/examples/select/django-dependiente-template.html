<!-- Template: form.html -->
<form method="post">
  {% csrf_token %}

  <!-- Select de Pais -->
  <div class="ux-native-select">
    <label class="ux-select__label">Pais</label>
    <select name="country"
            class="ux-native-select__field"
            hx-get="{% url 'get_cities' %}"
            hx-trigger="change"
            hx-target="#city-select"
            hx-swap="innerHTML"
            hx-indicator="#city-loading">
      <option value="">Selecciona un pais</option>
      {% for country in countries %}
        <option value="{{ country.id }}">{{ country.name }}</option>
      {% endfor %}
    </select>
    <div class="ux-native-select__icon">
      <svg>...</svg>
    </div>
  </div>

  <!-- Select de Ciudad (se carga dinamicamente) -->
  <div class="ux-native-select">
    <label class="ux-select__label">Ciudad</label>
    <select name="city"
            id="city-select"
            class="ux-native-select__field">
      <option value="">Primero selecciona un pais</option>
    </select>
    <div class="ux-native-select__icon">
      <svg>...</svg>
    </div>
    <span class="ux-spinner ux-spinner--sm htmx-indicator" id="city-loading"></span>
  </div>
</form>
