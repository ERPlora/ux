<div class="ux-gallery ux-gallery--masonry ux-gallery--cols-3"
     x-data="uxImageGallery({
       images: [
         { src: 'https://picsum.photos/400/600?random=50' },
         { src: 'https://picsum.photos/400/300?random=51' },
         { src: 'https://picsum.photos/400/500?random=52' },
         { src: 'https://picsum.photos/400/400?random=53' },
         { src: 'https://picsum.photos/400/350?random=54' },
         { src: 'https://picsum.photos/400/550?random=55' }
       ]
     })">
  <div class="ux-gallery__grid">
    <template x-for="(image, index) in images" :key="index">
      <div class="ux-gallery__item" @click="openLightbox(index)">
        <img :src="image.src" loading="lazy">
      </div>
    </template>
  </div>

  <template x-teleport="body">
    <div class="ux-gallery-lightbox" :class="{ 'ux-gallery-lightbox--open': lightboxOpen }" @click.self="closeLightbox()">
      <div class="ux-gallery-lightbox__header">
        <span class="ux-gallery-lightbox__counter" x-text="(currentIndex + 1) + ' / ' + images.length"></span>
        <button class="ux-gallery-lightbox__action" @click="closeLightbox()">
          <span x-html="icons.close"></span>
        </button>
      </div>
      <div class="ux-gallery-lightbox__content">
        <button class="ux-gallery-lightbox__nav ux-gallery-lightbox__nav--prev" @click="prev()">
          <span x-html="icons.prev"></span>
        </button>
        <img class="ux-gallery-lightbox__image" :src="currentImage.src">
        <button class="ux-gallery-lightbox__nav ux-gallery-lightbox__nav--next" @click="next()">
          <span x-html="icons.next"></span>
        </button>
      </div>
    </div>
  </template>
</div>
