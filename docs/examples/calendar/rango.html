<div x-data="{
  ...uxCalendar({ range: true }),
  rangeDisplay: ''
}" @calendar:range-select="rangeDisplay = $event.detail.startFormatted + ' -> ' + $event.detail.endFormatted">
  <div class="ux-calendar">
    <div class="ux-calendar__header">
      <button class="ux-calendar__nav-btn" @click="prevMonth()" x-html="icons.prev"></button>
      <span class="ux-calendar__title" x-text="currentMonthYear"></span>
      <button class="ux-calendar__nav-btn" @click="nextMonth()" x-html="icons.next"></button>
    </div>

    <div class="ux-calendar__weekdays">
      <template x-for="day in weekdays" :key="day">
        <div class="ux-calendar__weekday" x-text="day"></div>
      </template>
    </div>

    <div class="ux-calendar__days">
      <template x-for="dayObj in calendarDays" :key="dayObj.date.toISOString()">
        <button class="ux-calendar__day"
                :class="{
                  'ux-calendar__day--other-month': dayObj.isOtherMonth,
                  'ux-calendar__day--today': dayObj.isToday,
                  'ux-calendar__day--range-start': dayObj.isRangeStart,
                  'ux-calendar__day--range-end': dayObj.isRangeEnd,
                  'ux-calendar__day--in-range': dayObj.isInRange,
                  'ux-calendar__day--range-hover': dayObj.isRangeHover,
                  'ux-calendar__day--disabled': dayObj.isDisabled
                }"
                @click="selectDate(dayObj)"
                @mouseenter="onDayHover(dayObj)"
                @mouseleave="onDayLeave()"
                x-text="dayObj.day">
        </button>
      </template>
    </div>

    <div class="ux-calendar__footer">
      <button class="ux-calendar__today-btn" @click="goToToday()">Hoy</button>
      <button class="ux-calendar__clear-btn" @click="clearSelection()" x-show="rangeStart">Limpiar</button>
    </div>
  </div>

  <div class="result-display" x-show="rangeStart && rangeEnd">
    Rango: <strong x-text="rangeDisplay"></strong>
  </div>
</div>

<style>
  .result-display {
    margin-top: 1rem;
    padding: 0.75rem;
    background: var(--ux-surface-secondary);
    border-radius: 8px;
    font-size: 0.875rem;
  }
</style>
