<pre class="ux-code-block" data-lang="python"># views.py
from django.shortcuts import render
from django.http import HttpResponse
from .forms import ContactForm

def contact_create(request):
    if request.method == 'POST':
        form = ContactForm(request.POST)
        if form.is_valid():
            form.save()
            # Si es HTMX, devolver mensaje de exito
            if request.headers.get('HX-Request'):
                return HttpResponse('''
                    &lt;div class="ux-alert ux-alert--success"&gt;
                        Mensaje enviado correctamente
                    &lt;/div&gt;
                ''')
            return redirect('contact_success')
    else:
        form = ContactForm()

    # Si es HTMX, solo devolver el formulario
    template = 'contact_form_partial.html' if request.headers.get('HX-Request') else 'contact_form.html'
    return render(request, template, {'form': form})</pre>
