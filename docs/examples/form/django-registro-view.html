<pre class="ux-code-block" data-lang="python"># views.py
def register(request):
    if request.method == 'POST':
        form = RegisterForm(request.POST)
        if form.is_valid():
            user = form.save()
            login(request, user)
            # Redirigir con HTMX
            response = HttpResponse()
            response['HX-Redirect'] = reverse('dashboard')
            return response

        # Devolver errores para HTMX
        if request.headers.get('HX-Request'):
            errors_html = '&lt;div class="ux-alert ux-alert--danger"&gt;&lt;ul&gt;'
            for field, errs in form.errors.items():
                for err in errs:
                    errors_html += f'&lt;li&gt;{field}: {err}&lt;/li&gt;'
            errors_html += '&lt;/ul&gt;&lt;/div&gt;'
            return HttpResponse(errors_html)

    else:
        form = RegisterForm()

    return render(request, 'register.html', {'form': form})</pre>
