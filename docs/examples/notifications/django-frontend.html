<div class="demo-box">
  <h4 style="font-size: var(--ux-font-size-md); font-weight: 600; margin-bottom: var(--ux-space-sm);">5. Frontend con HTMX</h4>
  <pre class="ux-code-block" data-lang="html"><!-- Panel de notificaciones completo -->
<div x-data="{ isOpen: false }">
  <!-- Trigger con polling para contador -->
  <button class="ux-notification-trigger" @click="isOpen = !isOpen">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
      <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
    </svg>
    <span hx-get="{% url 'notification_count' %}"
          hx-trigger="load, every 30s"
          hx-swap="innerHTML"></span>
  </button>

  <!-- Backdrop -->
  <div class="ux-notification-panel__backdrop"
       :class="{ 'ux-notification-panel__backdrop--open': isOpen }"
       @click="isOpen = false"></div>

  <!-- Panel -->
  <div class="ux-notification-panel"
       :class="{ 'ux-notification-panel--open': isOpen }">
    <div class="ux-notification-panel__header">
      <h2 class="ux-notification-panel__title">Notificaciones</h2>
      <div class="ux-notification-panel__actions">
        <button class="ux-notification-panel__action"
                hx-post="{% url 'notification_mark_all_read' %}"
                hx-swap="none"
                hx-on::after-request="htmx.trigger('#notif-list', 'refresh')">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="9 11 12 14 22 4"></polyline>
            <path d="M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"></path>
          </svg>
        </button>
        <button class="ux-notification-panel__action" @click="isOpen = false">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>
    </div>

    <div class="ux-notification-panel__content">
      <ul id="notif-list"
          class="ux-notification-panel__list"
          hx-get="{% url 'notification_list' %}"
          hx-trigger="load, refresh from:body"
          hx-swap="innerHTML">
        <!-- Cargando... -->
        <li style="text-align: center; padding: var(--ux-space-lg);">
          <div class="ux-spinner"></div>
        </li>
      </ul>
    </div>

    <div class="ux-notification-panel__footer">
      <a class="ux-notification-panel__footer-link"
         hx-post="{% url 'notification_clear' %}"
         hx-target="#notif-list"
         hx-swap="innerHTML">
        Borrar todas
      </a>
    </div>
  </div>
</div></pre>
</div>
