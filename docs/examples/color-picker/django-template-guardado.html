<!-- Color picker con guardado automatico -->
<div x-data="uxColorPicker({ value: '{{ user.theme_color }}' })"
     @colorpicker:change="$refs.colorInput.value = $event.detail.hex; htmx.trigger($refs.colorInput, 'change')">

  <button class="ux-color-picker__trigger" @click="toggle()">
    <span class="ux-color-picker__swatch" :style="{ background: displayValue }"></span>
    <span class="ux-color-picker__value" x-text="displayValue"></span>
  </button>

  <!-- Dropdown del picker... -->

  <!-- Input oculto para HTMX -->
  <input type="hidden"
         name="theme_color"
         x-ref="colorInput"
         :value="displayValue"
         hx-post="/api/user/theme-color/"
         hx-trigger="change"
         hx-swap="none">
</div>
