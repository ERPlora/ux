<!-- Template: templates/contacts/partials/form.html -->
<div class="ux-modal__header">
  <h2 class="ux-modal__title">Nuevo Contacto</h2>
  <label for="contact-modal" class="ux-modal__close">
    <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
    </svg>
  </label>
</div>
<form hx-post="{% url 'contact_form' %}"
      hx-target="#contacts-list"
      hx-swap="beforeend"
      hx-on::after-request="if(event.detail.successful) document.getElementById('contact-modal').checked = false">
  {% csrf_token %}
  <div class="ux-modal__content">
    <div class="ux-input-group" style="margin-bottom: var(--ux-space-md);">
      <label class="ux-input__label">Nombre</label>
      <input type="text" name="name" class="ux-input {% if form.name.errors %}ux-input--error{% endif %}"
             value="{{ form.name.value|default:'' }}" required>
      {% if form.name.errors %}
      <span class="ux-input__error">{{ form.name.errors.0 }}</span>
      {% endif %}
    </div>
    <div class="ux-input-group" style="margin-bottom: var(--ux-space-md);">
      <label class="ux-input__label">Email</label>
      <input type="email" name="email" class="ux-input {% if form.email.errors %}ux-input--error{% endif %}"
             value="{{ form.email.value|default:'' }}" required>
      {% if form.email.errors %}
      <span class="ux-input__error">{{ form.email.errors.0 }}</span>
      {% endif %}
    </div>
    <div class="ux-input-group">
      <label class="ux-input__label">Telefono</label>
      <input type="tel" name="phone" class="ux-input" value="{{ form.phone.value|default:'' }}">
    </div>
  </div>
  <div class="ux-modal__footer">
    <label for="contact-modal" class="ux-button">Cancelar</label>
    <button type="submit" class="ux-button ux-color-primary">
      <span class="htmx-indicator ux-spinner ux-spinner--sm"></span>
      Guardar
    </button>
  </div>
</form>
