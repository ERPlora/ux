<!-- Mega menu with HTMX lazy loading -->
<div class="ux-mega-menu"
     x-data="uxMegaMenu({ openOnHover: true })"
     :class="{ 'ux-mega-menu--open': isOpen }"
     @mouseenter="handleMouseEnter()"
     @mouseleave="handleMouseLeave()">
  <button class="ux-mega-menu__trigger"
          hx-get="{% url 'mega_menu_categories' %}"
          hx-target="#categories-panel"
          hx-trigger="mouseenter once"
          hx-swap="innerHTML">
    Products
    <svg class="ux-mega-menu__trigger-icon" viewBox="0 0 24 24">
      <polyline points="6,9 12,15 18,9"></polyline>
    </svg>
  </button>
  <div class="ux-mega-menu__panel">
    <div class="ux-mega-menu__content" id="categories-panel">
      <!-- Loading skeleton -->
      <div class="ux-mega-menu__grid ux-mega-menu__grid--3">
        {% for i in "123" %}
        <div class="ux-mega-menu__section">
          <div class="ux-skeleton" style="width: 80px; height: 1rem; margin-bottom: 1rem;"></div>
          <div class="ux-skeleton" style="width: 100%; height: 2.5rem; margin-bottom: 0.5rem;"></div>
          <div class="ux-skeleton" style="width: 100%; height: 2.5rem; margin-bottom: 0.5rem;"></div>
          <div class="ux-skeleton" style="width: 100%; height: 2.5rem;"></div>
        </div>
        {% endfor %}
      </div>
    </div>
  </div>
</div>
