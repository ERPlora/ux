<!-- Segment con HTMX -->
<div class="ux-segment ux-segment--block" x-data="{ selected: 'all' }">
  <div class="ux-segment__indicator" :style="{ left: selected === 'all' ? '2px' : selected === 'active' ? '33.33%' : '66.66%', width: '33.33%' }"></div>

  <button class="ux-segment-button"
          :class="{ 'ux-segment-button--selected': selected === 'all' }"
          @click="selected = 'all'"
          hx-get="/tasks/?status=all"
          hx-target="#task-list"
          hx-swap="innerHTML">
    <span class="ux-segment-button__label">Todos</span>
  </button>

  <button class="ux-segment-button"
          :class="{ 'ux-segment-button--selected': selected === 'active' }"
          @click="selected = 'active'"
          hx-get="/tasks/?status=active"
          hx-target="#task-list"
          hx-swap="innerHTML">
    <span class="ux-segment-button__label">Activos</span>
  </button>

  <button class="ux-segment-button"
          :class="{ 'ux-segment-button--selected': selected === 'completed' }"
          @click="selected = 'completed'"
          hx-get="/tasks/?status=completed"
          hx-target="#task-list"
          hx-swap="innerHTML">
    <span class="ux-segment-button__label">Completados</span>
  </button>
</div>

<!-- Contenedor donde se carga el contenido filtrado -->
<div id="task-list" class="ux-list">
  {% include "partials/task_list.html" %}
</div>
