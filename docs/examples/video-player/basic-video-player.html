<div
          x-data="uxVideoPlayer()"
          class="ux-video-player ux-video-player--16-9"
          tabindex="0"
          @mousemove="showControlsTemporarily()"
          @mouseleave="hideControls()"
        >
          <!-- Video Element -->
          <video
            x-ref="video"
            class="ux-video-player__video"
            poster="https://images.unsplash.com/photo-1536240478700-b869070f9279?w=1280&h=720&fit=crop"
            preload="metadata"
          >
            <source src="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>

          <!-- Poster Overlay -->
          <div
            class="ux-video-player__poster"
            :class="{ 'ux-video-player__poster--hidden': hasStarted }"
            :style="poster ? `background-image: url(${poster})` : ''"
            @click="play()"
          >
            <button class="ux-video-player__poster-play" aria-label="Play video">
              <svg viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"/></svg>
            </button>
          </div>

          <!-- Loading Spinner -->
          <div class="ux-video-player__loading" x-show="isBuffering">
            <div class="ux-video-player__spinner"></div>
          </div>

          <!-- Center Play Button (when paused) -->
          <div class="ux-video-player__center-play" x-show="hasStarted && isPaused" @click="toggle()">
            <button class="ux-video-player__center-play-btn" aria-label="Play">
              <svg viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"/></svg>
            </button>
          </div>

          <!-- Controls -->
          <div class="ux-video-player__controls">
            <!-- Progress Bar -->
            <div
              class="ux-video-player__progress-wrapper"
              x-ref="progressWrapper"
              @click="handleProgressClick($event)"
              @mousedown="startProgressDrag($event)"
            >
              <div class="ux-video-player__progress">
                <div class="ux-video-player__progress-buffer" :style="{ width: bufferedPercent + '%' }"></div>
                <div class="ux-video-player__progress-fill" :style="{ width: progress + '%' }"></div>
              </div>
              <div class="ux-video-player__progress-thumb" :style="{ left: progress + '%' }"></div>
            </div>

            <!-- Controls Bar -->
            <div class="ux-video-player__controls-bar">
              <!-- Left Controls -->
              <div class="ux-video-player__controls-left">
                <!-- Play/Pause -->
                <button class="ux-video-player__btn" @click="toggle()" :aria-label="isPlaying ? 'Pause' : 'Play'">
                  <svg x-show="!isPlaying" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"/></svg>
                  <svg x-show="isPlaying" viewBox="0 0 24 24" fill="currentColor"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>
                </button>

                <!-- Skip Back -->
                <button class="ux-video-player__btn ux-video-player__btn--sm" @click="skip(-10)" aria-label="Skip back 10 seconds">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 19l-7-7 7-7"/><path d="M18 19V5"/></svg>
                </button>

                <!-- Skip Forward -->
                <button class="ux-video-player__btn ux-video-player__btn--sm" @click="skip(10)" aria-label="Skip forward 10 seconds">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M13 5l7 7-7 7"/><path d="M6 5v14"/></svg>
                </button>

                <!-- Volume -->
                <div class="ux-video-player__volume">
                  <button class="ux-video-player__btn ux-video-player__btn--sm" @click="toggleMute()" :aria-label="isMuted ? 'Unmute' : 'Mute'">
                    <svg x-show="volumeIcon === 'high'" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M19.07 4.93a10 10 0 010 14.14M15.54 8.46a5 5 0 010 7.07"/></svg>
                    <svg x-show="volumeIcon === 'low'" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M15.54 8.46a5 5 0 010 7.07"/></svg>
                    <svg x-show="volumeIcon === 'muted'" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><line x1="23" y1="9" x2="17" y2="15"/><line x1="17" y1="9" x2="23" y2="15"/></svg>
                  </button>
                  <div class="ux-video-player__volume-slider-wrapper">
                    <input
                      type="range"
                      class="ux-video-player__volume-slider"
                      min="0"
                      max="1"
                      step="0.1"
                      :value="volume"
                      @input="setVolume(parseFloat($event.target.value))"
                      aria-label="Volume"
                    >
                  </div>
                </div>

                <!-- Time -->
                <div class="ux-video-player__time">
                  <span x-text="currentTimeFormatted"></span>
                  <span class="ux-video-player__time-separator">/</span>
                  <span x-text="durationFormatted"></span>
                </div>
              </div>

              <!-- Center (spacer) -->
              <div class="ux-video-player__controls-center"></div>

              <!-- Right Controls -->
              <div class="ux-video-player__controls-right">
                <!-- Speed -->
                <div class="ux-video-player__speed" @click.outside="showSpeedMenu = false">
                  <button class="ux-video-player__speed-btn" @click="toggleSpeedMenu()" aria-label="Playback speed">
                    <span x-text="playbackRate + 'x'"></span>
                  </button>
                  <div class="ux-video-player__speed-menu" :class="{ 'ux-video-player__speed-menu--open': showSpeedMenu }">
                    <template x-for="speed in speeds" :key="speed">
                      <button
                        class="ux-video-player__speed-option"
                        :class="{ 'ux-video-player__speed-option--active': playbackRate === speed }"
                        @click="setSpeed(speed)"
                        x-text="speed + 'x'"
                      ></button>
                    </template>
                  </div>
                </div>

                <!-- Picture-in-Picture -->
                <button class="ux-video-player__btn ux-video-player__btn--sm" @click="togglePiP()" aria-label="Picture-in-Picture">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="3" width="20" height="14" rx="2"/><rect x="11" y="9" width="9" height="7" rx="1"/></svg>
                </button>

                <!-- Fullscreen -->
                <button class="ux-video-player__btn" @click="toggleFullscreen()" :aria-label="isFullscreen ? 'Exit fullscreen' : 'Fullscreen'">
                  <svg x-show="!isFullscreen" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" y1="3" x2="14" y2="10"/><line x1="3" y1="21" x2="10" y2="14"/></svg>
                  <svg x-show="isFullscreen" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" y1="10" x2="21" y2="3"/><line x1="3" y1="21" x2="10" y2="14"/></svg>
                </button>
              </div>
            </div>
          </div>

          <!-- PiP Indicator -->
          <div class="ux-video-player__pip-indicator" x-show="isPiP">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="3" width="20" height="14" rx="2"/><rect x="11" y="9" width="9" height="7" rx="1"/></svg>
            <span>Playing in Picture-in-Picture</span>
          </div>
        </div>
