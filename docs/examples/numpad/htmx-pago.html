<form hx-post="/api/payments"
      hx-trigger="submit"
      hx-target="#payment-result"
      hx-swap="innerHTML"
      hx-indicator="#payment-spinner"
      style="width: 320px;">
  <div x-data="uxNumpad({ allowDecimal: true, decimals: 2 })"
       class="ux-numpad"
       @numpad-change="$refs.amountInput.value = $event.detail.numericValue">

    <div class="ux-numpad__display">
      <span class="ux-numpad__display-currency">$</span>
      <span class="ux-numpad__display-value" x-text="displayValue"></span>
    </div>

    <input type="hidden" name="amount" x-ref="amountInput" value="0">

    <div class="ux-numpad__grid">
      <button type="button" class="ux-numpad__key" @click="appendDigit('7')">7</button>
      <button type="button" class="ux-numpad__key" @click="appendDigit('8')">8</button>
      <button type="button" class="ux-numpad__key" @click="appendDigit('9')">9</button>
      <button type="button" class="ux-numpad__key" @click="appendDigit('4')">4</button>
      <button type="button" class="ux-numpad__key" @click="appendDigit('5')">5</button>
      <button type="button" class="ux-numpad__key" @click="appendDigit('6')">6</button>
      <button type="button" class="ux-numpad__key" @click="appendDigit('1')">1</button>
      <button type="button" class="ux-numpad__key" @click="appendDigit('2')">2</button>
      <button type="button" class="ux-numpad__key" @click="appendDigit('3')">3</button>
      <button type="button" class="ux-numpad__key ux-numpad__key--action" @click="appendDecimal()">.</button>
      <button type="button" class="ux-numpad__key" @click="appendDigit('0')">0</button>
      <button type="button" class="ux-numpad__key ux-numpad__key--action" @click="backspace()">&#9003;</button>
    </div>

    <button type="submit" class="ux-button ux-color-primary" style="width: 100%; margin-top: var(--ux-space-sm);">
      <span class="ux-spinner ux-spinner--sm htmx-indicator" id="payment-spinner"></span>
      Procesar Pago
    </button>
  </div>
</form>
<div id="payment-result" style="padding: var(--ux-space-md);"></div>
