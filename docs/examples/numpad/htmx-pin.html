<div x-data="uxNumpad({ pinMode: true, pinLength: 4, pinMask: true })"
     class="ux-numpad ux-numpad--pin"
     @numpad-submit="htmx.ajax('POST', '/api/validate-pin', { values: { pin: $event.detail.value }, target: '#pin-result', swap: 'innerHTML' })">

  <div class="ux-numpad__pin-dots">
    <template x-for="(filled, index) in getPinDots()" :key="index">
      <div class="ux-numpad__pin-dot" :class="{ 'ux-numpad__pin-dot--filled': filled }"></div>
    </template>
  </div>

  <div class="ux-numpad__grid">
    <button type="button" class="ux-numpad__key" @click="appendDigit('1')">1</button>
    <button type="button" class="ux-numpad__key" @click="appendDigit('2')">2</button>
    <button type="button" class="ux-numpad__key" @click="appendDigit('3')">3</button>
    <button type="button" class="ux-numpad__key" @click="appendDigit('4')">4</button>
    <button type="button" class="ux-numpad__key" @click="appendDigit('5')">5</button>
    <button type="button" class="ux-numpad__key" @click="appendDigit('6')">6</button>
    <button type="button" class="ux-numpad__key" @click="appendDigit('7')">7</button>
    <button type="button" class="ux-numpad__key" @click="appendDigit('8')">8</button>
    <button type="button" class="ux-numpad__key" @click="appendDigit('9')">9</button>
    <button type="button" class="ux-numpad__key ux-numpad__key--action" @click="clear()">C</button>
    <button type="button" class="ux-numpad__key" @click="appendDigit('0')">0</button>
    <button type="button" class="ux-numpad__key ux-numpad__key--action" @click="backspace()">&#9003;</button>
  </div>
</div>
<div id="pin-result" style="padding: var(--ux-space-md); text-align: center;"></div>
