<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>Stats Cards - UX Library</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap-grid.min.css">
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <script src="../components/ux-core.js"></script>
  <script src="../components/ux-navbar.js"></script>
  <script src="../components/ux-button.js"></script>
  <script src="../components/ux-stats.js"></script>
  <script src="../components/ux-code-block.js"></script>
  <style>
    .demo-section { margin-bottom: var(--ux-space-2xl); }
    .demo-section h3 { font-size: var(--ux-font-size-lg); font-weight: 600; margin-bottom: var(--ux-space-md); }
    .demo-section h4 { font-size: var(--ux-font-size-md); font-weight: 500; margin: var(--ux-space-lg) 0 var(--ux-space-sm); }
    .demo-section p { font-size: var(--ux-font-size-md); color: var(--ux-text-secondary); margin-bottom: var(--ux-space-md); }
    .demo-box {
      background: var(--ux-surface-secondary);
      border-radius: var(--ux-border-radius-lg);
      padding: var(--ux-space-lg);
      margin-bottom: var(--ux-space-md);
      border: 1px solid var(--ux-border-color);
    }
    .demo-frame {
      background: var(--ux-surface);
      border: 1px solid var(--ux-border-color);
      border-radius: var(--ux-border-radius-lg);
      overflow: hidden;
      padding: var(--ux-space-lg);
      margin-bottom: var(--ux-space-md);
    }
    .class-table {
      width: 100%;
      border-collapse: collapse;
      font-size: var(--ux-font-size-sm);
    }
    .class-table th, .class-table td {
      padding: var(--ux-space-sm) var(--ux-space-md);
      text-align: left;
      border-bottom: 1px solid var(--ux-border-color);
    }
    .class-table th {
      background: var(--ux-surface-secondary);
      font-weight: 600;
    }
    .class-table code {
      background: var(--ux-surface-secondary);
      padding: 2px 6px;
      border-radius: 4px;
      font-size: var(--ux-font-size-sm);
    }
  </style>
</head>
<body class="ux-app">

  <div class="ux-content ux-padding">
    <!-- Intro -->
    <div class="demo-section">
      <h3>Stats Cards (KPI)</h3>
      <p>Tarjetas para mostrar metricas y KPIs con iconos, tendencias y mini graficos. Estilo iOS con animaciones suaves.</p>
      <pre class="ux-code-block" data-lang="html">&lt;link rel="stylesheet" href="bootstrap-grid.min.css"&gt;
&lt;script src="components/ux-stats.js"&gt;&lt;/script&gt;</pre>
    </div>

    <!-- Basic Stats Card -->
    <div class="demo-section">
      <h3>Stats Card Basico</h3>
      <p>Tarjeta simple con label, valor y tendencia.</p>

      <div class="demo-frame">
        <div class="ux-stats-grid ux-stats-grid--auto">
          <div class="ux-stats-card">
            <div class="ux-stats-card__header">
              <span class="ux-stats-card__label">Ventas Totales</span>
              <div class="ux-stats-card__icon ux-stats-card__icon--success">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg>
              </div>
            </div>
            <div class="ux-stats-card__value-wrapper">
              <span class="ux-stats-card__value-prefix">$</span>
              <span class="ux-stats-card__value">24,589</span>
            </div>
            <div class="ux-stats-card__footer">
              <span class="ux-stats-card__trend ux-stats-card__trend--up">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12"></polyline></svg>
                +12.5%
              </span>
              <span class="ux-stats-card__description">vs mes anterior</span>
            </div>
          </div>

          <div class="ux-stats-card">
            <div class="ux-stats-card__header">
              <span class="ux-stats-card__label">Ordenes</span>
              <div class="ux-stats-card__icon ux-stats-card__icon--primary">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path></svg>
              </div>
            </div>
            <span class="ux-stats-card__value">1,423</span>
            <div class="ux-stats-card__footer">
              <span class="ux-stats-card__trend ux-stats-card__trend--up">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12"></polyline></svg>
                +8.2%
              </span>
              <span class="ux-stats-card__description">este mes</span>
            </div>
          </div>

          <div class="ux-stats-card">
            <div class="ux-stats-card__header">
              <span class="ux-stats-card__label">Clientes</span>
              <div class="ux-stats-card__icon ux-stats-card__icon--warning">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
              </div>
            </div>
            <span class="ux-stats-card__value">892</span>
            <div class="ux-stats-card__footer">
              <span class="ux-stats-card__trend ux-stats-card__trend--down">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="23 18 13.5 8.5 8.5 13.5 1 6"></polyline><polyline points="17 18 23 18 23 12"></polyline></svg>
                -2.4%
              </span>
              <span class="ux-stats-card__description">vs mes anterior</span>
            </div>
          </div>

          <div class="ux-stats-card">
            <div class="ux-stats-card__header">
              <span class="ux-stats-card__label">Conversion</span>
              <div class="ux-stats-card__icon ux-stats-card__icon--danger">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>
              </div>
            </div>
            <div class="ux-stats-card__value-wrapper">
              <span class="ux-stats-card__value">3.24</span>
              <span class="ux-stats-card__value-suffix">%</span>
            </div>
            <div class="ux-stats-card__footer">
              <span class="ux-stats-card__trend ux-stats-card__trend--neutral">
                0%
              </span>
              <span class="ux-stats-card__description">sin cambios</span>
            </div>
          </div>
        </div>
      </div>

      <pre class="ux-code-block" data-lang="html">&lt;div class="ux-stats-card"&gt;
  &lt;div class="ux-stats-card__header"&gt;
    &lt;span class="ux-stats-card__label"&gt;Ventas Totales&lt;/span&gt;
    &lt;div class="ux-stats-card__icon ux-stats-card__icon--success"&gt;
      &lt;svg&gt;...&lt;/svg&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class="ux-stats-card__value-wrapper"&gt;
    &lt;span class="ux-stats-card__value-prefix"&gt;$&lt;/span&gt;
    &lt;span class="ux-stats-card__value"&gt;24,589&lt;/span&gt;
  &lt;/div&gt;
  &lt;div class="ux-stats-card__footer"&gt;
    &lt;span class="ux-stats-card__trend ux-stats-card__trend--up"&gt;+12.5%&lt;/span&gt;
    &lt;span class="ux-stats-card__description"&gt;vs mes anterior&lt;/span&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre>
    </div>

    <!-- With Progress Bar -->
    <div class="demo-section">
      <h3>Con Barra de Progreso</h3>
      <p>Stats con indicador de progreso hacia una meta.</p>

      <div class="demo-frame">
        <div class="row g-3">
          <div class="col-md-6">
            <div class="ux-stats-card">
              <div class="ux-stats-card__header">
                <span class="ux-stats-card__label">Meta de Ventas</span>
              </div>
              <div class="ux-stats-card__value-wrapper">
                <span class="ux-stats-card__value-prefix">$</span>
                <span class="ux-stats-card__value">18,250</span>
                <span class="ux-stats-card__value-suffix">/ $25,000</span>
              </div>
              <div class="ux-stats-card__progress">
                <div class="ux-stats-card__progress-bar">
                  <div class="ux-stats-card__progress-fill" style="width: 73%;"></div>
                </div>
                <div class="ux-stats-card__progress-label">
                  <span>73% completado</span>
                  <span>Faltan $6,750</span>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="ux-stats-card">
              <div class="ux-stats-card__header">
                <span class="ux-stats-card__label">Espacio en Disco</span>
              </div>
              <div class="ux-stats-card__value-wrapper">
                <span class="ux-stats-card__value">45.2</span>
                <span class="ux-stats-card__value-suffix">GB / 50 GB</span>
              </div>
              <div class="ux-stats-card__progress">
                <div class="ux-stats-card__progress-bar">
                  <div class="ux-stats-card__progress-fill ux-stats-card__progress-fill--warning" style="width: 90%;"></div>
                </div>
                <div class="ux-stats-card__progress-label">
                  <span>90% usado</span>
                  <span style="color: var(--ux-warning);">Casi lleno</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <pre class="ux-code-block" data-lang="html">&lt;div class="ux-stats-card__progress"&gt;
  &lt;div class="ux-stats-card__progress-bar"&gt;
    &lt;div class="ux-stats-card__progress-fill" style="width: 73%;"&gt;&lt;/div&gt;
  &lt;/div&gt;
  &lt;div class="ux-stats-card__progress-label"&gt;
    &lt;span&gt;73% completado&lt;/span&gt;
    &lt;span&gt;Faltan $6,750&lt;/span&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;!-- Colores de progreso --&gt;
&lt;div class="ux-stats-card__progress-fill ux-stats-card__progress-fill--success"&gt;&lt;/div&gt;
&lt;div class="ux-stats-card__progress-fill ux-stats-card__progress-fill--warning"&gt;&lt;/div&gt;
&lt;div class="ux-stats-card__progress-fill ux-stats-card__progress-fill--danger"&gt;&lt;/div&gt;</pre>
    </div>

    <!-- Animated Counter -->
    <div class="demo-section">
      <h3>Contador Animado (Alpine.js)</h3>
      <p>El valor se anima al entrar en pantalla.</p>

      <div class="demo-frame">
        <div class="row g-3">
          <div class="col-md-4">
            <div class="ux-stats-card" x-data="uxStatsCard({ targetValue: 15847, prefix: '$', animated: true })">
              <span class="ux-stats-card__label">Ingresos</span>
              <span class="ux-stats-card__value" x-text="formattedValue"></span>
            </div>
          </div>
          <div class="col-md-4">
            <div class="ux-stats-card" x-data="uxStatsCard({ targetValue: 98.7, suffix: '%', decimals: 1, animated: true })">
              <span class="ux-stats-card__label">Satisfaccion</span>
              <span class="ux-stats-card__value" x-text="formattedValue"></span>
            </div>
          </div>
          <div class="col-md-4">
            <div class="ux-stats-card" x-data="uxStatsCard({ targetValue: 2847, animated: true })">
              <span class="ux-stats-card__label">Usuarios Activos</span>
              <span class="ux-stats-card__value" x-text="formattedValue"></span>
            </div>
          </div>
        </div>
      </div>

      <pre class="ux-code-block" data-lang="html">&lt;div class="ux-stats-card" x-data="uxStatsCard({
  targetValue: 15847,
  prefix: '$',
  suffix: '',
  decimals: 0,
  duration: 1000,
  animated: true
})"&gt;
  &lt;span class="ux-stats-card__label"&gt;Ingresos&lt;/span&gt;
  &lt;span class="ux-stats-card__value" x-text="formattedValue"&gt;&lt;/span&gt;
&lt;/div&gt;</pre>
    </div>

    <!-- Color Variants -->
    <div class="demo-section">
      <h3>Variantes de Color</h3>
      <p>Cards con fondo de color y gradiente.</p>

      <div class="demo-frame">
        <div class="row g-3">
          <div class="col-md-4">
            <div class="ux-stats-card ux-stats-card--primary">
              <div class="ux-stats-card__header">
                <span class="ux-stats-card__label">Revenue</span>
                <div class="ux-stats-card__icon">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg>
                </div>
              </div>
              <span class="ux-stats-card__value">$52,489</span>
              <div class="ux-stats-card__footer">
                <span class="ux-stats-card__description">+15% desde ayer</span>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="ux-stats-card ux-stats-card--gradient">
              <div class="ux-stats-card__header">
                <span class="ux-stats-card__label">Usuarios Premium</span>
                <div class="ux-stats-card__icon">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>
                </div>
              </div>
              <span class="ux-stats-card__value">1,284</span>
              <div class="ux-stats-card__progress">
                <div class="ux-stats-card__progress-bar">
                  <div class="ux-stats-card__progress-fill" style="width: 64%;"></div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="ux-stats-card ux-stats-card--glass" style="background-image: linear-gradient(135deg, var(--ux-success), var(--ux-primary));">
              <div class="ux-stats-card__header">
                <span class="ux-stats-card__label" style="color: var(--ux-primary-contrast);">Crecimiento</span>
              </div>
              <span class="ux-stats-card__value" style="color: var(--ux-primary-contrast);">+42%</span>
              <span class="ux-stats-card__description" style="color: rgba(var(--ux-surface-rgb), 0.8);">Trimestre actual</span>
            </div>
          </div>
        </div>
      </div>

      <pre class="ux-code-block" data-lang="html">&lt;!-- Primary color --&gt;
&lt;div class="ux-stats-card ux-stats-card--primary"&gt;...&lt;/div&gt;

&lt;!-- Gradient --&gt;
&lt;div class="ux-stats-card ux-stats-card--gradient"&gt;...&lt;/div&gt;

&lt;!-- Glass --&gt;
&lt;div class="ux-stats-card ux-stats-card--glass"&gt;...&lt;/div&gt;</pre>
    </div>

    <!-- Size Variants -->
    <div class="demo-section">
      <h3>Variantes de Tamano</h3>

      <div class="demo-frame">
        <div class="row g-3 align-items-start">
          <div class="col-md-4">
            <div class="ux-stats-card ux-stats-card--sm">
              <span class="ux-stats-card__label">Pequeno</span>
              <span class="ux-stats-card__value">1,234</span>
            </div>
          </div>
          <div class="col-md-4">
            <div class="ux-stats-card">
              <span class="ux-stats-card__label">Normal</span>
              <span class="ux-stats-card__value">5,678</span>
            </div>
          </div>
          <div class="col-md-4">
            <div class="ux-stats-card ux-stats-card--lg">
              <span class="ux-stats-card__label">Grande</span>
              <span class="ux-stats-card__value">9,012</span>
            </div>
          </div>
        </div>
      </div>

      <pre class="ux-code-block" data-lang="html">&lt;div class="ux-stats-card ux-stats-card--sm"&gt;...&lt;/div&gt;
&lt;div class="ux-stats-card"&gt;...&lt;/div&gt;
&lt;div class="ux-stats-card ux-stats-card--lg"&gt;...&lt;/div&gt;</pre>
    </div>

    <!-- Layout Variants -->
    <div class="demo-section">
      <h3>Variantes de Layout</h3>

      <div class="demo-frame">
        <div class="row g-3">
          <div class="col-12">
            <div class="ux-stats-card ux-stats-card--horizontal">
              <div class="ux-stats-card__icon ux-stats-card__icon--primary ux-stats-card__icon--lg">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect><line x1="1" y1="10" x2="23" y2="10"></line></svg>
              </div>
              <div class="ux-stats-card__body">
                <span class="ux-stats-card__label">Balance Total</span>
                <span class="ux-stats-card__value">$124,589.00</span>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="ux-stats-card ux-stats-card--centered">
              <div class="ux-stats-card__icon ux-stats-card__icon--success ux-stats-card__icon--lg">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>
              </div>
              <span class="ux-stats-card__label">Tasa de Exito</span>
              <span class="ux-stats-card__value ux-stats-card__value--lg">98.5%</span>
              <span class="ux-stats-card__description">De todas las transacciones</span>
            </div>
          </div>
        </div>
      </div>

      <pre class="ux-code-block" data-lang="html">&lt;!-- Horizontal --&gt;
&lt;div class="ux-stats-card ux-stats-card--horizontal"&gt;
  &lt;div class="ux-stats-card__icon"&gt;...&lt;/div&gt;
  &lt;div class="ux-stats-card__body"&gt;
    &lt;span class="ux-stats-card__label"&gt;...&lt;/span&gt;
    &lt;span class="ux-stats-card__value"&gt;...&lt;/span&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;!-- Centrado --&gt;
&lt;div class="ux-stats-card ux-stats-card--centered"&gt;...&lt;/div&gt;</pre>
    </div>

    <!-- Stats Grid -->
    <div class="demo-section">
      <h3>Stats Grid</h3>
      <p>Grid responsivo para multiples stats.</p>

      <div class="demo-frame">
        <div class="ux-stats-grid ux-stats-grid--4">
          <div class="ux-stats-card ux-stats-card--sm">
            <span class="ux-stats-card__label">Visitas</span>
            <span class="ux-stats-card__value">12.5K</span>
          </div>
          <div class="ux-stats-card ux-stats-card--sm">
            <span class="ux-stats-card__label">Paginas/Sesion</span>
            <span class="ux-stats-card__value">4.2</span>
          </div>
          <div class="ux-stats-card ux-stats-card--sm">
            <span class="ux-stats-card__label">Duracion</span>
            <span class="ux-stats-card__value">3:24</span>
          </div>
          <div class="ux-stats-card ux-stats-card--sm">
            <span class="ux-stats-card__label">Rebote</span>
            <span class="ux-stats-card__value">42%</span>
          </div>
        </div>
      </div>

      <pre class="ux-code-block" data-lang="html">&lt;!-- Grid automatico --&gt;
&lt;div class="ux-stats-grid ux-stats-grid--auto"&gt;...&lt;/div&gt;

&lt;!-- 2, 3 o 4 columnas fijas --&gt;
&lt;div class="ux-stats-grid ux-stats-grid--2"&gt;...&lt;/div&gt;
&lt;div class="ux-stats-grid ux-stats-grid--3"&gt;...&lt;/div&gt;
&lt;div class="ux-stats-grid ux-stats-grid--4"&gt;...&lt;/div&gt;</pre>
    </div>

    <!-- CSS Reference -->
    <div class="demo-section">
      <h3>Referencia de Clases CSS</h3>

      <div style="overflow-x: auto;">
        <table class="class-table">
          <thead>
            <tr>
              <th>Clase</th>
              <th>Descripcion</th>
            </tr>
          </thead>
          <tbody>
            <tr><td colspan="2" style="background: var(--ux-surface-secondary); font-weight: 600;">Card</td></tr>
            <tr><td><code>.ux-stats-card</code></td><td>Contenedor principal</td></tr>
            <tr><td><code>.ux-stats-card--sm</code></td><td>Tamano pequeno</td></tr>
            <tr><td><code>.ux-stats-card--lg</code></td><td>Tamano grande</td></tr>
            <tr><td><code>.ux-stats-card--horizontal</code></td><td>Layout horizontal</td></tr>
            <tr><td><code>.ux-stats-card--centered</code></td><td>Contenido centrado</td></tr>
            <tr><td><code>.ux-stats-card--primary</code></td><td>Fondo primary</td></tr>
            <tr><td><code>.ux-stats-card--gradient</code></td><td>Fondo gradiente</td></tr>
            <tr><td><code>.ux-stats-card--glass</code></td><td>Efecto glass</td></tr>
            <tr><td colspan="2" style="background: var(--ux-surface-secondary); font-weight: 600;">Elementos</td></tr>
            <tr><td><code>.ux-stats-card__header</code></td><td>Header (label + icon)</td></tr>
            <tr><td><code>.ux-stats-card__label</code></td><td>Etiqueta/titulo</td></tr>
            <tr><td><code>.ux-stats-card__icon</code></td><td>Icono</td></tr>
            <tr><td><code>.ux-stats-card__icon--primary/success/warning/danger</code></td><td>Colores de icono</td></tr>
            <tr><td><code>.ux-stats-card__value</code></td><td>Valor principal</td></tr>
            <tr><td><code>.ux-stats-card__value--sm/lg/xl</code></td><td>Tamanos de valor</td></tr>
            <tr><td><code>.ux-stats-card__value-prefix</code></td><td>Prefijo ($, etc)</td></tr>
            <tr><td><code>.ux-stats-card__value-suffix</code></td><td>Sufijo (%, etc)</td></tr>
            <tr><td><code>.ux-stats-card__footer</code></td><td>Footer (trend + desc)</td></tr>
            <tr><td><code>.ux-stats-card__trend</code></td><td>Indicador de tendencia</td></tr>
            <tr><td><code>.ux-stats-card__trend--up/down/neutral</code></td><td>Direccion de tendencia</td></tr>
            <tr><td><code>.ux-stats-card__description</code></td><td>Texto descriptivo</td></tr>
            <tr><td colspan="2" style="background: var(--ux-surface-secondary); font-weight: 600;">Progreso</td></tr>
            <tr><td><code>.ux-stats-card__progress</code></td><td>Contenedor de progreso</td></tr>
            <tr><td><code>.ux-stats-card__progress-bar</code></td><td>Barra de fondo</td></tr>
            <tr><td><code>.ux-stats-card__progress-fill</code></td><td>Barra de relleno</td></tr>
            <tr><td><code>.ux-stats-card__progress-label</code></td><td>Labels de progreso</td></tr>
            <tr><td colspan="2" style="background: var(--ux-surface-secondary); font-weight: 600;">Grid</td></tr>
            <tr><td><code>.ux-stats-grid</code></td><td>Grid de stats</td></tr>
            <tr><td><code>.ux-stats-grid--auto</code></td><td>Columnas automaticas</td></tr>
            <tr><td><code>.ux-stats-grid--2/3/4</code></td><td>Columnas fijas</td></tr>
            <tr><td><code>.ux-stats-row</code></td><td>Scroll horizontal</td></tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- HTMX + Django -->
    <div class="demo-section">
      <h3>HTMX + Django</h3>
      <p>Estadisticas en tiempo real con Django y HTMX. Las tarjetas se actualizan automaticamente cada 5 segundos.</p>

      <h4>Template Django (dashboard_stats.html)</h4>
      <pre class="ux-code-block" data-lang="html">&lt;!-- Contenedor con polling automatico --&gt;
&lt;div hx-get="{% url 'dashboard:stats' %}"
     hx-trigger="load, every 5s"
     hx-swap="innerHTML"&gt;
  {% include "partials/stats_cards.html" %}
&lt;/div&gt;</pre>

      <h4>Partial (partials/stats_cards.html)</h4>
      <pre class="ux-code-block" data-lang="html">&lt;div class="ux-stats-grid ux-stats-grid--auto"&gt;
  &lt;div class="ux-stats-card"&gt;
    &lt;div class="ux-stats-card__header"&gt;
      &lt;span class="ux-stats-card__label"&gt;Ventas Hoy&lt;/span&gt;
      &lt;div class="ux-stats-card__icon ux-stats-card__icon--success"&gt;
        &lt;svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"&gt;
          &lt;line x1="12" y1="1" x2="12" y2="23"&gt;&lt;/line&gt;
          &lt;path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"&gt;&lt;/path&gt;
        &lt;/svg&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="ux-stats-card__value-wrapper"&gt;
      &lt;span class="ux-stats-card__value-prefix"&gt;$&lt;/span&gt;
      &lt;span class="ux-stats-card__value"&gt;{{ stats.ventas_hoy|intcomma }}&lt;/span&gt;
    &lt;/div&gt;
    &lt;div class="ux-stats-card__footer"&gt;
      &lt;span class="ux-stats-card__trend ux-stats-card__trend--{% if stats.ventas_cambio &gt;= 0 %}up{% else %}down{% endif %}"&gt;
        {% if stats.ventas_cambio &gt;= 0 %}+{% endif %}{{ stats.ventas_cambio }}%
      &lt;/span&gt;
      &lt;span class="ux-stats-card__description"&gt;vs ayer&lt;/span&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;div class="ux-stats-card"&gt;
    &lt;div class="ux-stats-card__header"&gt;
      &lt;span class="ux-stats-card__label"&gt;Ordenes Pendientes&lt;/span&gt;
      &lt;div class="ux-stats-card__icon ux-stats-card__icon--warning"&gt;
        &lt;svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"&gt;
          &lt;path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"&gt;&lt;/path&gt;
          &lt;line x1="3" y1="6" x2="21" y2="6"&gt;&lt;/line&gt;
        &lt;/svg&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;span class="ux-stats-card__value"&gt;{{ stats.ordenes_pendientes }}&lt;/span&gt;
    &lt;div class="ux-stats-card__footer"&gt;
      &lt;span class="ux-stats-card__description"&gt;{{ stats.tiempo_promedio }} min promedio&lt;/span&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;div class="ux-stats-card"&gt;
    &lt;div class="ux-stats-card__header"&gt;
      &lt;span class="ux-stats-card__label"&gt;Meta Mensual&lt;/span&gt;
    &lt;/div&gt;
    &lt;div class="ux-stats-card__value-wrapper"&gt;
      &lt;span class="ux-stats-card__value-prefix"&gt;$&lt;/span&gt;
      &lt;span class="ux-stats-card__value"&gt;{{ stats.ventas_mes|intcomma }}&lt;/span&gt;
      &lt;span class="ux-stats-card__value-suffix"&gt;/ ${{ stats.meta_mes|intcomma }}&lt;/span&gt;
    &lt;/div&gt;
    &lt;div class="ux-stats-card__progress"&gt;
      &lt;div class="ux-stats-card__progress-bar"&gt;
        &lt;div class="ux-stats-card__progress-fill" style="width: {{ stats.porcentaje_meta }}%;"&gt;&lt;/div&gt;
      &lt;/div&gt;
      &lt;div class="ux-stats-card__progress-label"&gt;
        &lt;span&gt;{{ stats.porcentaje_meta }}% completado&lt;/span&gt;
        &lt;span&gt;Faltan ${{ stats.restante_meta|intcomma }}&lt;/span&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre>

      <h4>Vista Django (views.py)</h4>
      <pre class="ux-code-block" data-lang="python">from django.shortcuts import render
from django.db.models import Sum, Count
from datetime import date, timedelta
from .models import Orden

def dashboard_stats(request):
    hoy = date.today()
    ayer = hoy - timedelta(days=1)
    inicio_mes = hoy.replace(day=1)

    # Ventas de hoy
    ventas_hoy = Orden.objects.filter(
        fecha__date=hoy,
        estado='completada'
    ).aggregate(total=Sum('total'))['total'] or 0

    # Ventas de ayer para comparacion
    ventas_ayer = Orden.objects.filter(
        fecha__date=ayer,
        estado='completada'
    ).aggregate(total=Sum('total'))['total'] or 1

    # Cambio porcentual
    ventas_cambio = round(((ventas_hoy - ventas_ayer) / ventas_ayer) * 100, 1)

    # Ordenes pendientes
    ordenes_pendientes = Orden.objects.filter(
        estado='pendiente'
    ).count()

    # Tiempo promedio de preparacion
    tiempo_promedio = Orden.objects.filter(
        estado='pendiente'
    ).aggregate(avg=Avg('tiempo_estimado'))['avg'] or 0

    # Meta mensual
    meta_mes = 50000
    ventas_mes = Orden.objects.filter(
        fecha__date__gte=inicio_mes,
        estado='completada'
    ).aggregate(total=Sum('total'))['total'] or 0

    porcentaje_meta = min(round((ventas_mes / meta_mes) * 100), 100)
    restante_meta = max(meta_mes - ventas_mes, 0)

    stats = {
        'ventas_hoy': ventas_hoy,
        'ventas_cambio': ventas_cambio,
        'ordenes_pendientes': ordenes_pendientes,
        'tiempo_promedio': round(tiempo_promedio),
        'ventas_mes': ventas_mes,
        'meta_mes': meta_mes,
        'porcentaje_meta': porcentaje_meta,
        'restante_meta': restante_meta,
    }

    # Si es peticion HTMX, solo devuelve el partial
    if request.headers.get('HX-Request'):
        return render(request, 'partials/stats_cards.html', {'stats': stats})

    return render(request, 'dashboard_stats.html', {'stats': stats})</pre>

      <h4>URL (urls.py)</h4>
      <pre class="ux-code-block" data-lang="python">from django.urls import path
from . import views

app_name = 'dashboard'

urlpatterns = [
    path('stats/', views.dashboard_stats, name='stats'),
]</pre>

      <h4>Actualizacion con SSE (Server-Sent Events)</h4>
      <p>Para actualizaciones mas eficientes sin polling.</p>
      <pre class="ux-code-block" data-lang="html">&lt;!-- Conexion SSE para actualizaciones en tiempo real --&gt;
&lt;div hx-ext="sse"
     sse-connect="{% url 'dashboard:stats-stream' %}"
     sse-swap="stats-update"&gt;
  {% include "partials/stats_cards.html" %}
&lt;/div&gt;</pre>

      <pre class="ux-code-block" data-lang="python"># views.py - Vista SSE
import json
from django.http import StreamingHttpResponse
from django.views.decorators.http import require_GET

@require_GET
def stats_stream(request):
    def event_stream():
        while True:
            stats = get_dashboard_stats()  # Tu funcion de stats
            html = render_to_string('partials/stats_cards.html', {'stats': stats})
            yield f"event: stats-update\ndata: {html}\n\n"
            time.sleep(5)  # Esperar 5 segundos

    response = StreamingHttpResponse(
        event_stream(),
        content_type='text/event-stream'
    )
    response['Cache-Control'] = 'no-cache'
    response['X-Accel-Buffering'] = 'no'
    return response</pre>

      <h4>Actualizacion con Click</h4>
      <p>Boton para refrescar manualmente las estadisticas.</p>
      <pre class="ux-code-block" data-lang="html">&lt;div id="stats-container"&gt;
  &lt;div class="ux-stats-grid ux-stats-grid--auto"&gt;
    {% include "partials/stats_cards.html" %}
  &lt;/div&gt;

  &lt;button class="ux-button ux-button--outline"
          hx-get="{% url 'dashboard:stats' %}"
          hx-target="#stats-container .ux-stats-grid"
          hx-swap="innerHTML"
          hx-indicator="#stats-spinner"&gt;
    &lt;span class="ux-spinner ux-spinner--sm htmx-indicator" id="stats-spinner"&gt;&lt;/span&gt;
    Actualizar
  &lt;/button&gt;
&lt;/div&gt;</pre>
    </div>

  </div>

  <!-- Footer -->
  <footer class="ux-padding" style="text-align: center; background: var(--ux-surface-secondary); color: var(--ux-text-secondary); font-size: var(--ux-font-size-sm);">
    <p>UX Library - Stats Cards Component</p>
  </footer>
</body>
</html>
