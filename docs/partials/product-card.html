<style>
    .demo-section { margin-bottom: var(--ux-space-xl); padding: var(--ux-space-lg); }
    .demo-section h3 { font-size: var(--ux-font-size-lg); font-weight: 600; margin-bottom: var(--ux-space-md); color: var(--ux-text); }
    .demo-section p { font-size: var(--ux-font-size-md); color: var(--ux-text-secondary); margin-bottom: var(--ux-space-md); }
    .section-label { font-weight: 600; margin-bottom: var(--ux-space-sm); display: block; }
  </style>

<!-- Basic Product Grid -->
  <div class="demo-section">
    <h3>Grid de Productos POS</h3>
    <p>Grid de productos con imagenes, precios y boton de agregar rapido. Ideal para punto de venta.</p>

    <div class="ux-product-grid ux-product-grid--4" style="margin-bottom: var(--ux-space-lg);"
         @product-add.window="alert('Agregado: ' + $event.detail.product.name)">

      <!-- Product 1 -->
      <div x-data="uxProductCard({
        product: {
          id: 1,
          name: 'Cafe Americano',
          price: 3.50,
          stock: 100,
          image: 'https://images.unsplash.com/photo-1509042239860-f550ce710b93?w=300&h=300&fit=crop',
          category: 'Bebidas'
        },
        currency: '$'
      })" class="ux-product-card" :class="{ 'ux-product-card--adding': isAdding }" @click="addToCart()">
        <div class="ux-product-card__image-wrapper">
          <img :src="product.image" :alt="product.name" class="ux-product-card__image">
          <button type="button" class="ux-product-card__quick-add" @click="addToCart($event)" :title="labels.addToCart">
            <span x-html="getIcon('plus')"></span>
          </button>
        </div>
        <div class="ux-product-card__content">
          <h4 class="ux-product-card__name" x-text="product.name"></h4>
          <div class="ux-product-card__price-wrapper">
            <span class="ux-product-card__price" x-text="formatPrice(product.price)"></span>
          </div>
        </div>
      </div>

      <!-- Product 2 with Sale -->
      <div x-data="uxProductCard({
        product: {
          id: 2,
          name: 'Cappuccino Grande',
          price: 4.20,
          originalPrice: 5.00,
          stock: 45,
          image: 'https://images.unsplash.com/photo-1572442388796-11668a67e53d?w=300&h=300&fit=crop',
          category: 'Bebidas'
        }
      })" class="ux-product-card" :class="{ 'ux-product-card--adding': isAdding }" @click="addToCart()">
        <div class="ux-product-card__image-wrapper">
          <div class="ux-product-card__badges">
            <span class="ux-product-card__badge ux-product-card__badge--sale">-<span x-text="getDiscountPercent()"></span>%</span>
          </div>
          <img :src="product.image" :alt="product.name" class="ux-product-card__image">
          <button type="button" class="ux-product-card__quick-add" @click="addToCart($event)">
            <span x-html="getIcon('plus')"></span>
          </button>
        </div>
        <div class="ux-product-card__content">
          <h4 class="ux-product-card__name" x-text="product.name"></h4>
          <div class="ux-product-card__price-wrapper">
            <span class="ux-product-card__price ux-product-card__price--sale" x-text="formatPrice(product.price)"></span>
            <span class="ux-product-card__price-original" x-text="formatPrice(product.originalPrice)"></span>
          </div>
        </div>
      </div>

      <!-- Product 3 - Low Stock -->
      <div x-data="uxProductCard({
        product: {
          id: 3,
          name: 'Croissant de Mantequilla',
          price: 2.80,
          stock: 3,
          image: 'https://images.unsplash.com/photo-1555507036-ab1f4038808a?w=300&h=300&fit=crop',
          category: 'Panaderia'
        },
        lowStockThreshold: 5
      })" class="ux-product-card" :class="{ 'ux-product-card--adding': isAdding }" @click="addToCart()">
        <div class="ux-product-card__image-wrapper">
          <div class="ux-product-card__badges">
            <span class="ux-product-card__badge ux-product-card__badge--low-stock">Quedan <span x-text="product.stock"></span></span>
          </div>
          <img :src="product.image" :alt="product.name" class="ux-product-card__image">
          <button type="button" class="ux-product-card__quick-add" @click="addToCart($event)">
            <span x-html="getIcon('plus')"></span>
          </button>
        </div>
        <div class="ux-product-card__content">
          <h4 class="ux-product-card__name" x-text="product.name"></h4>
          <div class="ux-product-card__price-wrapper">
            <span class="ux-product-card__price" x-text="formatPrice(product.price)"></span>
          </div>
          <span class="ux-product-card__stock ux-product-card__stock--low" x-text="getStockText()"></span>
        </div>
      </div>

      <!-- Product 4 - Out of Stock -->
      <div x-data="uxProductCard({
        product: {
          id: 4,
          name: 'Sandwich Club Premium',
          price: 8.50,
          stock: 0,
          image: 'https://images.unsplash.com/photo-1528735602780-2552fd46c7af?w=300&h=300&fit=crop',
          category: 'Comida'
        }
      })" class="ux-product-card ux-product-card--out-of-stock">
        <div class="ux-product-card__image-wrapper">
          <div class="ux-product-card__badges">
            <span class="ux-product-card__badge ux-product-card__badge--out">Agotado</span>
          </div>
          <img :src="product.image" :alt="product.name" class="ux-product-card__image">
        </div>
        <div class="ux-product-card__content">
          <h4 class="ux-product-card__name" x-text="product.name"></h4>
          <div class="ux-product-card__price-wrapper">
            <span class="ux-product-card__price" x-text="formatPrice(product.price)"></span>
          </div>
          <span class="ux-product-card__stock ux-product-card__stock--out" x-text="getStockText()"></span>
        </div>
      </div>

      <!-- Product 5 - New -->
      <div x-data="uxProductCard({
        product: {
          id: 5,
          name: 'Smoothie Tropical',
          price: 5.90,
          stock: 50,
          image: 'https://images.unsplash.com/photo-1505252585461-04db1eb84625?w=300&h=300&fit=crop',
          category: 'Bebidas'
        }
      })" class="ux-product-card" :class="{ 'ux-product-card--adding': isAdding }" @click="addToCart()">
        <div class="ux-product-card__image-wrapper">
          <div class="ux-product-card__badges">
            <span class="ux-product-card__badge ux-product-card__badge--new">Nuevo</span>
          </div>
          <img :src="product.image" :alt="product.name" class="ux-product-card__image">
          <button type="button" class="ux-product-card__quick-add" @click="addToCart($event)">
            <span x-html="getIcon('plus')"></span>
          </button>
        </div>
        <div class="ux-product-card__content">
          <h4 class="ux-product-card__name" x-text="product.name"></h4>
          <div class="ux-product-card__price-wrapper">
            <span class="ux-product-card__price" x-text="formatPrice(product.price)"></span>
          </div>
        </div>
      </div>

      <!-- Product 6 - No Image -->
      <div x-data="uxProductCard({
        product: {
          id: 6,
          name: 'Agua Mineral 500ml',
          price: 1.50,
          stock: 200,
          category: 'Bebidas'
        }
      })" class="ux-product-card" :class="{ 'ux-product-card--adding': isAdding }" @click="addToCart()">
        <div class="ux-product-card__image-wrapper">
          <div class="ux-product-card__placeholder">
            <span x-html="getIcon('placeholder')"></span>
          </div>
          <button type="button" class="ux-product-card__quick-add" @click="addToCart($event)">
            <span x-html="getIcon('plus')"></span>
          </button>
        </div>
        <div class="ux-product-card__content">
          <h4 class="ux-product-card__name" x-text="product.name"></h4>
          <div class="ux-product-card__price-wrapper">
            <span class="ux-product-card__price" x-text="formatPrice(product.price)"></span>
          </div>
        </div>
      </div>

    </div>

    <pre class="ux-code-block" data-lang="html">&lt;div class="ux-product-grid ux-product-grid--4"&gt;
  &lt;div x-data="uxProductCard({
    product: {
      id: 1,
      name: 'Cafe Americano',
      price: 3.50,
      stock: 100,
      image: 'https://...',
      category: 'Bebidas'
    },
    currency: '$'
  })" class="ux-product-card" @click="addToCart()"&gt;
    &lt;div class="ux-product-card__image-wrapper"&gt;
      &lt;img :src="product.image" class="ux-product-card__image"&gt;
      &lt;button class="ux-product-card__quick-add" @click="addToCart($event)"&gt;+&lt;/button&gt;
    &lt;/div&gt;
    &lt;div class="ux-product-card__content"&gt;
      &lt;h4 class="ux-product-card__name" x-text="product.name"&gt;&lt;/h4&gt;
      &lt;span class="ux-product-card__price" x-text="formatPrice(product.price)"&gt;&lt;/span&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre>
  </div>

  <!-- Grid Sizes -->
  <div class="demo-section">
    <h3>Tamanos de Grid</h3>
    <p>Controla el numero de columnas con clases: .ux-product-grid--2, --3, --4, --5, --6</p>

    <div class="section-label">3 columnas:</div>
    <div class="ux-product-grid ux-product-grid--3" style="margin-bottom: var(--ux-space-lg);">
      <template x-data x-for="i in 3">
        <div class="ux-product-card">
          <div class="ux-product-card__image-wrapper">
            <div class="ux-product-card__placeholder">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" width="48" height="48"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><path d="M21 15l-5-5L5 21"/></svg>
            </div>
          </div>
          <div class="ux-product-card__content">
            <h4 class="ux-product-card__name">Producto Demo</h4>
            <span class="ux-product-card__price">$9.99</span>
          </div>
        </div>
      </template>
    </div>

    <div class="section-label">6 columnas (compacto):</div>
    <div class="ux-product-grid ux-product-grid--6 ux-product-grid--compact">
      <template x-data x-for="i in 6">
        <div class="ux-product-card ux-product-card--sm">
          <div class="ux-product-card__image-wrapper">
            <div class="ux-product-card__placeholder">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" width="32" height="32"><rect x="3" y="3" width="18" height="18" rx="2"/></svg>
            </div>
          </div>
          <div class="ux-product-card__content">
            <h4 class="ux-product-card__name">Item</h4>
            <span class="ux-product-card__price">$5.00</span>
          </div>
        </div>
      </template>
    </div>

    <pre class="ux-code-block" data-lang="html">&lt;!-- 3 columnas --&gt;
&lt;div class="ux-product-grid ux-product-grid--3"&gt;...&lt;/div&gt;

&lt;!-- 6 columnas compacto --&gt;
&lt;div class="ux-product-grid ux-product-grid--6 ux-product-grid--compact"&gt;
  &lt;div class="ux-product-card ux-product-card--sm"&gt;...&lt;/div&gt;
&lt;/div&gt;</pre>
  </div>

  <!-- Horizontal Card -->
  <div class="demo-section">
    <h3>Tarjeta Horizontal</h3>
    <p>Layout horizontal para listas de productos.</p>

    <div style="max-width: 400px;">
      <div x-data="uxProductCard({
        product: {
          id: 1,
          name: 'Hamburguesa Clasica con Queso y Bacon',
          price: 12.50,
          originalPrice: 15.00,
          stock: 25,
          image: 'https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=200&h=200&fit=crop',
          category: 'Comida',
          sku: 'BURG-001'
        }
      })" class="ux-product-card ux-product-card--horizontal" @click="addToCart()">
        <div class="ux-product-card__image-wrapper">
          <img :src="product.image" :alt="product.name" class="ux-product-card__image">
        </div>
        <div class="ux-product-card__content">
          <span class="ux-product-card__category" x-text="product.category"></span>
          <h4 class="ux-product-card__name" x-text="product.name"></h4>
          <span class="ux-product-card__sku" x-text="product.sku"></span>
          <div class="ux-product-card__price-wrapper">
            <span class="ux-product-card__price ux-product-card__price--sale" x-text="formatPrice(product.price)"></span>
            <span class="ux-product-card__price-original" x-text="formatPrice(product.originalPrice)"></span>
          </div>
        </div>
      </div>
    </div>

    <pre class="ux-code-block" data-lang="html">&lt;div class="ux-product-card ux-product-card--horizontal"&gt;
  &lt;div class="ux-product-card__image-wrapper"&gt;...&lt;/div&gt;
  &lt;div class="ux-product-card__content"&gt;
    &lt;span class="ux-product-card__category"&gt;Categoria&lt;/span&gt;
    &lt;h4 class="ux-product-card__name"&gt;Nombre&lt;/h4&gt;
    &lt;span class="ux-product-card__sku"&gt;SKU-001&lt;/span&gt;
    &lt;span class="ux-product-card__price"&gt;$12.50&lt;/span&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre>
  </div>

  <!-- Glass Variant -->
  <div class="demo-section">
    <h3>Variante Glass</h3>
    <p>Tarjetas con efecto glass morphism.</p>

    <div style="background: var(--ux-demo-gradient);  border-radius: var(--ux-border-radius-lg);">
      <div class="ux-product-grid ux-product-grid--3">
        <template x-data x-for="i in 3">
          <div class="ux-product-card ux-product-card--glass">
            <div class="ux-product-card__image-wrapper">
              <div class="ux-product-card__placeholder">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" width="48" height="48"><rect x="3" y="3" width="18" height="18" rx="2"/></svg>
              </div>
            </div>
            <div class="ux-product-card__content">
              <h4 class="ux-product-card__name">Producto Glass</h4>
              <span class="ux-product-card__price">$19.99</span>
            </div>
          </div>
        </template>
      </div>
    </div>

    <pre class="ux-code-block" data-lang="html">&lt;div class="ux-product-card ux-product-card--glass"&gt;...&lt;/div&gt;</pre>
  </div>

  <!-- HTMX Integration -->
  <div class="demo-section">
    <h3>Integracion con HTMX</h3>
    <p>Los product cards funcionan perfectamente con HTMX para cargar productos del servidor, agregar al carrito, y actualizar stock en tiempo real.</p>

    <h4 style="margin-top: var(--ux-space-lg); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">Grid de Productos con HTMX</h4>
    <p>Cargar productos desde el servidor y agregar al carrito con HTMX.</p>

    <div class="demo-box" style="display: block;">
      <!-- Products loaded from server -->
      <div id="product-catalog"
           class="ux-product-grid ux-product-grid--4"
           hx-get="/api/products"
           hx-trigger="load"
           hx-swap="innerHTML"
           hx-indicator="#products-loading">
        <div class="ux-spinner htmx-indicator" id="products-loading" style="margin: auto;"></div>
      </div>

      <!-- Cart summary updated by HTMX -->
      <div id="cart-summary" style="margin-top: var(--ux-space-lg); padding: var(--ux-space-md); background: var(--ux-surface-secondary); border-radius: var(--ux-border-radius);">
        <strong>Carrito:</strong> <span id="cart-count">0</span> items - <span id="cart-total">$0.00</span>
      </div>
    </div>

    <pre class="ux-code-block" data-lang="html">&lt;!-- Grid que carga productos del servidor --&gt;
&lt;div id="product-catalog"
     class="ux-product-grid ux-product-grid--4"
     hx-get="/api/products"
     hx-trigger="load"
     hx-swap="innerHTML"
     hx-indicator="#loading"&gt;
  &lt;div class="ux-spinner htmx-indicator" id="loading"&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;!-- Respuesta del servidor (HTML parcial): --&gt;
&lt;div class="ux-product-card"
     hx-post="/api/cart/add"
     hx-vals='{"product_id": 1, "quantity": 1}'
     hx-target="#cart-summary"
     hx-swap="outerHTML"&gt;
  &lt;img src="..." class="ux-product-card__image"&gt;
  &lt;h4 class="ux-product-card__name"&gt;Cafe&lt;/h4&gt;
  &lt;span class="ux-product-card__price"&gt;$3.50&lt;/span&gt;
&lt;/div&gt;</pre>

    <h4 style="margin-top: var(--ux-space-xl); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">Agregar al Carrito con HTMX</h4>
    <p>Click en producto para agregarlo al carrito via HTMX.</p>

    <div class="demo-box">
      <div class="ux-product-grid ux-product-grid--3" style="max-width: 600px;">
        <!-- Product with HTMX add to cart -->
        <div class="ux-product-card"
             hx-post="/api/cart/add"
             hx-vals='{"product_id": 1, "name": "Cafe Americano", "price": 3.50}'
             hx-target="#htmx-cart-result"
             hx-swap="innerHTML"
             hx-indicator="find .ux-product-card__quick-add"
             style="cursor: pointer;">
          <div class="ux-product-card__image-wrapper">
            <img src="https://images.unsplash.com/photo-1509042239860-f550ce710b93?w=300&h=300&fit=crop"
                 alt="Cafe"
                 class="ux-product-card__image">
            <div class="ux-product-card__quick-add">
              <span class="htmx-indicator" style="display: none;">
                <svg class="ux-spinner ux-spinner--sm" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="3" fill="none" stroke-dasharray="31.4" stroke-linecap="round"><animateTransform attributeName="transform" type="rotate" from="0 12 12" to="360 12 12" dur="1s" repeatCount="indefinite"/></circle></svg>
              </span>
              <span class="htmx-settle">+</span>
            </div>
          </div>
          <div class="ux-product-card__content">
            <h4 class="ux-product-card__name">Cafe Americano</h4>
            <span class="ux-product-card__price">$3.50</span>
          </div>
        </div>

        <!-- Product 2 -->
        <div class="ux-product-card"
             hx-post="/api/cart/add"
             hx-vals='{"product_id": 2, "name": "Croissant", "price": 2.80}'
             hx-target="#htmx-cart-result"
             hx-swap="innerHTML"
             style="cursor: pointer;">
          <div class="ux-product-card__image-wrapper">
            <img src="https://images.unsplash.com/photo-1555507036-ab1f4038808a?w=300&h=300&fit=crop"
                 alt="Croissant"
                 class="ux-product-card__image">
            <div class="ux-product-card__quick-add">+</div>
          </div>
          <div class="ux-product-card__content">
            <h4 class="ux-product-card__name">Croissant</h4>
            <span class="ux-product-card__price">$2.80</span>
          </div>
        </div>

        <!-- Product 3 -->
        <div class="ux-product-card"
             hx-post="/api/cart/add"
             hx-vals='{"product_id": 3, "name": "Smoothie", "price": 5.90}'
             hx-target="#htmx-cart-result"
             hx-swap="innerHTML"
             style="cursor: pointer;">
          <div class="ux-product-card__image-wrapper">
            <img src="https://images.unsplash.com/photo-1505252585461-04db1eb84625?w=300&h=300&fit=crop"
                 alt="Smoothie"
                 class="ux-product-card__image">
            <div class="ux-product-card__quick-add">+</div>
          </div>
          <div class="ux-product-card__content">
            <h4 class="ux-product-card__name">Smoothie Tropical</h4>
            <span class="ux-product-card__price">$5.90</span>
          </div>
        </div>
      </div>

      <div id="htmx-cart-result" style="margin-top: var(--ux-space-md); padding: var(--ux-space-sm); min-height: 40px;"></div>
    </div>

    <pre class="ux-code-block" data-lang="html">&lt;!-- Producto que agrega al carrito con HTMX --&gt;
&lt;div class="ux-product-card"
     hx-post="/api/cart/add"
     hx-vals='{"product_id": 1, "quantity": 1}'
     hx-target="#cart-result"
     hx-swap="innerHTML"&gt;
  &lt;img src="..." class="ux-product-card__image"&gt;
  &lt;h4 class="ux-product-card__name"&gt;Cafe&lt;/h4&gt;
  &lt;span class="ux-product-card__price"&gt;$3.50&lt;/span&gt;
&lt;/div&gt;</pre>

    <h4 style="margin-top: var(--ux-space-xl); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">Busqueda y Filtrado con HTMX</h4>
    <p>Filtrar productos en tiempo real con busqueda HTMX.</p>

    <div class="demo-box" style="display: block;">
      <div style="margin-bottom: var(--ux-space-md);">
        <input type="search"
               class="ux-searchbar__input"
               name="search"
               placeholder="Buscar productos..."
               hx-get="/api/products/search"
               hx-trigger="input changed delay:300ms, search"
               hx-target="#filtered-products"
               hx-indicator="#search-spinner"
               style="width: 100%; max-width: 400px;">
        <span class="ux-spinner ux-spinner--sm htmx-indicator" id="search-spinner"></span>
      </div>

      <div class="ux-segment" style="margin-bottom: var(--ux-space-md);">
        <button class="ux-segment__button ux-segment__button--active"
                hx-get="/api/products?category=all"
                hx-target="#filtered-products"
                hx-swap="innerHTML">Todos</button>
        <button class="ux-segment__button"
                hx-get="/api/products?category=bebidas"
                hx-target="#filtered-products"
                hx-swap="innerHTML">Bebidas</button>
        <button class="ux-segment__button"
                hx-get="/api/products?category=comida"
                hx-target="#filtered-products"
                hx-swap="innerHTML">Comida</button>
        <button class="ux-segment__button"
                hx-get="/api/products?category=panaderia"
                hx-target="#filtered-products"
                hx-swap="innerHTML">Panaderia</button>
      </div>

      <div id="filtered-products" class="ux-product-grid ux-product-grid--4">
        <div class="ux-product-card">
          <div class="ux-product-card__image-wrapper">
            <div class="ux-product-card__placeholder" style="display: flex; align-items: center; justify-content: center; height: 150px; background: var(--ux-surface-secondary);">
              <span style="color: var(--ux-text-secondary);">Busca productos...</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <pre class="ux-code-block" data-lang="html">&lt;!-- Busqueda en tiempo real --&gt;
&lt;input type="search"
       name="search"
       hx-get="/api/products/search"
       hx-trigger="input changed delay:300ms"
       hx-target="#product-grid"&gt;

&lt;!-- Filtro por categoria --&gt;
&lt;div class="ux-segment"&gt;
  &lt;button hx-get="/api/products?category=bebidas"
          hx-target="#product-grid"&gt;Bebidas&lt;/button&gt;
  &lt;button hx-get="/api/products?category=comida"
          hx-target="#product-grid"&gt;Comida&lt;/button&gt;
&lt;/div&gt;

&lt;div id="product-grid" class="ux-product-grid"&gt;&lt;/div&gt;</pre>

    <h4 style="margin-top: var(--ux-space-xl); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">Actualizar Stock en Tiempo Real</h4>
    <p>Polling HTMX para mantener stock actualizado.</p>

    <div class="demo-box">
      <div id="live-stock-product"
           class="ux-product-card"
           style="max-width: 200px;"
           hx-get="/api/products/1/stock"
           hx-trigger="every 5s"
           hx-swap="outerHTML">
        <div class="ux-product-card__image-wrapper">
          <div class="ux-product-card__badges">
            <span class="ux-product-card__badge ux-product-card__badge--low-stock">Stock: 5</span>
          </div>
          <img src="https://images.unsplash.com/photo-1509042239860-f550ce710b93?w=300&h=300&fit=crop"
               alt="Cafe Americano"
               class="ux-product-card__image">
        </div>
        <div class="ux-product-card__content">
          <h4 class="ux-product-card__name">Cafe Americano</h4>
          <span class="ux-product-card__price">$3.50</span>
          <span class="ux-product-card__stock ux-product-card__stock--low">Stock bajo</span>
        </div>
      </div>
    </div>

    <pre class="ux-code-block" data-lang="html">&lt;!-- Producto con actualizacion de stock cada 5s --&gt;
&lt;div id="product-1"
     class="ux-product-card"
     hx-get="/api/products/1/stock"
     hx-trigger="every 5s"
     hx-swap="outerHTML"&gt;
  &lt;!-- El servidor devuelve el card completo con stock actualizado --&gt;
&lt;/div&gt;

&lt;!-- O actualizar solo el badge de stock --&gt;
&lt;span id="stock-badge-1"
      class="ux-product-card__badge"
      hx-get="/api/products/1/stock-badge"
      hx-trigger="every 5s"
      hx-swap="outerHTML"&gt;Stock: 5&lt;/span&gt;</pre>

    <h4 style="margin-top: var(--ux-space-xl); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">Paginacion Infinita</h4>
    <p>Cargar mas productos al hacer scroll.</p>

    <div class="demo-box" style="display: block;">
      <div id="infinite-products" class="ux-product-grid ux-product-grid--4">
        <!-- Products loaded here -->
        <div class="ux-product-card">
          <div class="ux-product-card__image-wrapper">
            <div class="ux-product-card__placeholder" style="height: 120px; display: flex; align-items: center; justify-content: center;">1</div>
          </div>
          <div class="ux-product-card__content">
            <h4 class="ux-product-card__name">Producto 1</h4>
            <span class="ux-product-card__price">$9.99</span>
          </div>
        </div>
        <div class="ux-product-card">
          <div class="ux-product-card__image-wrapper">
            <div class="ux-product-card__placeholder" style="height: 120px; display: flex; align-items: center; justify-content: center;">2</div>
          </div>
          <div class="ux-product-card__content">
            <h4 class="ux-product-card__name">Producto 2</h4>
            <span class="ux-product-card__price">$12.99</span>
          </div>
        </div>
        <div class="ux-product-card">
          <div class="ux-product-card__image-wrapper">
            <div class="ux-product-card__placeholder" style="height: 120px; display: flex; align-items: center; justify-content: center;">3</div>
          </div>
          <div class="ux-product-card__content">
            <h4 class="ux-product-card__name">Producto 3</h4>
            <span class="ux-product-card__price">$7.50</span>
          </div>
        </div>
        <div class="ux-product-card">
          <div class="ux-product-card__image-wrapper">
            <div class="ux-product-card__placeholder" style="height: 120px; display: flex; align-items: center; justify-content: center;">4</div>
          </div>
          <div class="ux-product-card__content">
            <h4 class="ux-product-card__name">Producto 4</h4>
            <span class="ux-product-card__price">$15.00</span>
          </div>
        </div>

        <!-- Load more trigger -->
        <div hx-get="/api/products?page=2"
             hx-trigger="revealed"
             hx-swap="outerHTML"
             hx-indicator="#load-more-spinner"
             style="grid-column: 1 / -1; text-align: center; padding: var(--ux-space-lg);">
          <span class="ux-spinner htmx-indicator" id="load-more-spinner"></span>
          <span>Cargando mas productos...</span>
        </div>
      </div>
    </div>

    <pre class="ux-code-block" data-lang="html">&lt;!-- Grid con scroll infinito --&gt;
&lt;div id="products" class="ux-product-grid"&gt;
  &lt;!-- productos... --&gt;

  &lt;!-- Trigger al final --&gt;
  &lt;div hx-get="/api/products?page=2"
       hx-trigger="revealed"
       hx-swap="outerHTML"&gt;
    &lt;span class="ux-spinner htmx-indicator"&gt;&lt;/span&gt;
    Cargando...
  &lt;/div&gt;
&lt;/div&gt;

&lt;!-- Respuesta del servidor incluye mas productos + nuevo trigger --&gt;</pre>
  </div>

  <!-- HTMX + Django -->
  <div class="demo-section">
    <h3>HTMX + Django</h3>
    <p>Ejemplos de integracion con Django para agregar productos al carrito usando HTMX y vistas basadas en clases o funciones.</p>

    <h4 style="margin-top: var(--ux-space-lg); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">Vista Django para Agregar al Carrito</h4>
    <p>Endpoint que recibe el producto y devuelve HTML parcial con el carrito actualizado.</p>

    <pre class="ux-code-block" data-lang="python"># views.py
from django.http import HttpResponse
from django.views.decorators.http import require_POST
from django.template.loader import render_to_string
from .models import Product, Cart, CartItem

@require_POST
def add_to_cart(request):
    product_id = request.POST.get('product_id')
    quantity = int(request.POST.get('quantity', 1))

    product = Product.objects.get(id=product_id)
    cart, _ = Cart.objects.get_or_create(session_key=request.session.session_key)

    cart_item, created = CartItem.objects.get_or_create(
        cart=cart,
        product=product,
        defaults={'quantity': quantity}
    )
    if not created:
        cart_item.quantity += quantity
        cart_item.save()

    # Devolver HTML parcial para HTMX
    html = render_to_string('partials/cart_summary.html', {
        'cart': cart,
        'items_count': cart.items.count(),
        'total': cart.get_total()
    })
    return HttpResponse(html)</pre>

    <h4 style="margin-top: var(--ux-space-xl); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">Template Django para Product Card</h4>
    <p>Template parcial que renderiza un product card con atributos HTMX.</p>

    <pre class="ux-code-block" data-lang="html">&lt;!-- templates/partials/product_card.html --&gt;
&lt;div class="ux-product-card {% if product.stock == 0 %}ux-product-card--out-of-stock{% endif %}"
     hx-post="{% url 'cart:add' %}"
     hx-vals='{"product_id": "{{ product.id }}", "quantity": 1}'
     hx-target="#cart-summary"
     hx-swap="innerHTML"
     hx-indicator="find .ux-product-card__quick-add"
     style="cursor: pointer;"&gt;

  &lt;div class="ux-product-card__image-wrapper"&gt;
    {% if product.discount_percent %}
    &lt;div class="ux-product-card__badges"&gt;
      &lt;span class="ux-product-card__badge ux-product-card__badge--sale"&gt;
        -{{ product.discount_percent }}%
      &lt;/span&gt;
    &lt;/div&gt;
    {% elif product.is_new %}
    &lt;div class="ux-product-card__badges"&gt;
      &lt;span class="ux-product-card__badge ux-product-card__badge--new"&gt;Nuevo&lt;/span&gt;
    &lt;/div&gt;
    {% elif product.stock &lt;= 5 and product.stock &gt; 0 %}
    &lt;div class="ux-product-card__badges"&gt;
      &lt;span class="ux-product-card__badge ux-product-card__badge--low-stock"&gt;
        Quedan {{ product.stock }}
      &lt;/span&gt;
    &lt;/div&gt;
    {% endif %}

    {% if product.image %}
    &lt;img src="{{ product.image.url }}"
         alt="{{ product.name }}"
         class="ux-product-card__image"
         loading="lazy"&gt;
    {% else %}
    &lt;div class="ux-product-card__placeholder"&gt;
      &lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
           stroke="currentColor" stroke-width="1.5" width="48" height="48"&gt;
        &lt;rect x="3" y="3" width="18" height="18" rx="2"/&gt;
      &lt;/svg&gt;
    &lt;/div&gt;
    {% endif %}

    {% if product.stock &gt; 0 %}
    &lt;button type="button" class="ux-product-card__quick-add"&gt;
      &lt;span class="htmx-indicator"&gt;
        &lt;span class="ux-spinner ux-spinner--sm"&gt;&lt;/span&gt;
      &lt;/span&gt;
      &lt;span class="htmx-settle"&gt;+&lt;/span&gt;
    &lt;/button&gt;
    {% endif %}
  &lt;/div&gt;

  &lt;div class="ux-product-card__content"&gt;
    &lt;span class="ux-product-card__category"&gt;{{ product.category.name }}&lt;/span&gt;
    &lt;h4 class="ux-product-card__name"&gt;{{ product.name }}&lt;/h4&gt;
    &lt;div class="ux-product-card__price-wrapper"&gt;
      {% if product.original_price %}
      &lt;span class="ux-product-card__price ux-product-card__price--sale"&gt;
        ${{ product.price }}
      &lt;/span&gt;
      &lt;span class="ux-product-card__price-original"&gt;
        ${{ product.original_price }}
      &lt;/span&gt;
      {% else %}
      &lt;span class="ux-product-card__price"&gt;${{ product.price }}&lt;/span&gt;
      {% endif %}
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre>

    <h4 style="margin-top: var(--ux-space-xl); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">Template para Cart Summary</h4>
    <p>HTML parcial que HTMX inserta despues de agregar un producto.</p>

    <pre class="ux-code-block" data-lang="html">&lt;!-- templates/partials/cart_summary.html --&gt;
&lt;div id="cart-summary" class="ux-card"&gt;
  &lt;div class="ux-card__content"&gt;
    &lt;strong&gt;Carrito:&lt;/strong&gt;
    &lt;span&gt;{{ items_count }} item{{ items_count|pluralize }}&lt;/span&gt;
    &lt;span style="margin-left: auto; font-weight: 600;"&gt;
      ${{ total|floatformat:2 }}
    &lt;/span&gt;
  &lt;/div&gt;

  {% if cart.items.exists %}
  &lt;div class="ux-card__footer"&gt;
    &lt;button class="ux-button ux-color-primary"
            hx-get="{% url 'cart:checkout' %}"
            hx-target="#main-content"
            hx-push-url="true"&gt;
      Ir al Checkout
    &lt;/button&gt;
  &lt;/div&gt;
  {% endif %}
&lt;/div&gt;</pre>

    <h4 style="margin-top: var(--ux-space-xl); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">Grid de Productos con Filtros</h4>
    <p>Vista y template para mostrar productos con filtro por categoria.</p>

    <pre class="ux-code-block" data-lang="python"># views.py
from django.shortcuts import render
from .models import Product, Category

def product_list(request):
    category_slug = request.GET.get('category')
    products = Product.objects.filter(is_active=True)

    if category_slug and category_slug != 'all':
        products = products.filter(category__slug=category_slug)

    categories = Category.objects.all()

    # Si es peticion HTMX, devolver solo el grid
    if request.headers.get('HX-Request'):
        return render(request, 'partials/product_grid.html', {
            'products': products
        })

    return render(request, 'products/list.html', {
        'products': products,
        'categories': categories
    })</pre>

    <pre class="ux-code-block" data-lang="html">&lt;!-- templates/products/list.html --&gt;
{% load static %}

&lt;!-- Filtros por categoria --&gt;
&lt;div class="ux-segment" style="margin-bottom: var(--ux-space-md);"&gt;
  &lt;button class="ux-segment__button ux-segment__button--active"
          hx-get="{% url 'products:list' %}?category=all"
          hx-target="#product-grid"
          hx-swap="innerHTML"&gt;
    Todos
  &lt;/button&gt;
  {% for category in categories %}
  &lt;button class="ux-segment__button"
          hx-get="{% url 'products:list' %}?category={{ category.slug }}"
          hx-target="#product-grid"
          hx-swap="innerHTML"&gt;
    {{ category.name }}
  &lt;/button&gt;
  {% endfor %}
&lt;/div&gt;

&lt;!-- Busqueda --&gt;
&lt;input type="search"
       name="q"
       class="ux-searchbar__input"
       placeholder="Buscar productos..."
       hx-get="{% url 'products:search' %}"
       hx-trigger="input changed delay:300ms"
       hx-target="#product-grid"
       hx-indicator="#search-spinner"&gt;

&lt;!-- Grid de productos --&gt;
&lt;div id="product-grid" class="ux-product-grid ux-product-grid--4"&gt;
  {% include 'partials/product_grid.html' %}
&lt;/div&gt;

&lt;!-- Resumen del carrito --&gt;
&lt;div id="cart-summary"&gt;
  {% include 'partials/cart_summary.html' %}
&lt;/div&gt;</pre>

    <pre class="ux-code-block" data-lang="html">&lt;!-- templates/partials/product_grid.html --&gt;
{% for product in products %}
  {% include 'partials/product_card.html' with product=product %}
{% empty %}
  &lt;div style="grid-column: 1 / -1; text-align: center; padding: var(--ux-space-xl);"&gt;
    &lt;p style="color: var(--ux-text-secondary);"&gt;No se encontraron productos&lt;/p&gt;
  &lt;/div&gt;
{% endfor %}</pre>

    <h4 style="margin-top: var(--ux-space-xl); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">URLs de Django</h4>

    <pre class="ux-code-block" data-lang="python"># urls.py
from django.urls import path
from . import views

app_name = 'products'

urlpatterns = [
    path('', views.product_list, name='list'),
    path('search/', views.product_search, name='search'),
]

# cart/urls.py
app_name = 'cart'

urlpatterns = [
    path('add/', views.add_to_cart, name='add'),
    path('remove/', views.remove_from_cart, name='remove'),
    path('checkout/', views.checkout, name='checkout'),
]</pre>

    <h4 style="margin-top: var(--ux-space-xl); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">Modelo de Producto</h4>

    <pre class="ux-code-block" data-lang="python"># models.py
from django.db import models
from django.utils import timezone
from datetime import timedelta

class Category(models.Model):
    name = models.CharField(max_length=100)
    slug = models.SlugField(unique=True)

class Product(models.Model):
    name = models.CharField(max_length=200)
    category = models.ForeignKey(Category, on_delete=models.CASCADE)
    price = models.DecimalField(max_digits=10, decimal_places=2)
    original_price = models.DecimalField(max_digits=10, decimal_places=2, null=True, blank=True)
    stock = models.PositiveIntegerField(default=0)
    image = models.ImageField(upload_to='products/', null=True, blank=True)
    is_active = models.BooleanField(default=True)
    created_at = models.DateTimeField(auto_now_add=True)

    @property
    def is_new(self):
        return self.created_at >= timezone.now() - timedelta(days=7)

    @property
    def discount_percent(self):
        if self.original_price and self.original_price > self.price:
            return int(((self.original_price - self.price) / self.original_price) * 100)
        return None

class Cart(models.Model):
    session_key = models.CharField(max_length=40)
    created_at = models.DateTimeField(auto_now_add=True)

    def get_total(self):
        return sum(item.subtotal for item in self.items.all())

class CartItem(models.Model):
    cart = models.ForeignKey(Cart, on_delete=models.CASCADE, related_name='items')
    product = models.ForeignKey(Product, on_delete=models.CASCADE)
    quantity = models.PositiveIntegerField(default=1)

    @property
    def subtotal(self):
        return self.product.price * self.quantity</pre>
  </div>

  <!-- API Reference -->
  <div class="demo-section">
    <h3>Componente Alpine.js</h3>
    <div style="background: var(--ux-surface); padding: var(--ux-space-lg); border-radius: var(--ux-border-radius-lg);">
      <pre class="ux-code-block" data-lang="javascript">// uxProductCard - Tarjeta individual
uxProductCard({
  product: {
    id: 1,
    name: 'Producto',
    price: 9.99,
    originalPrice: 12.99,    // Precio original (para descuentos)
    stock: 50,               // Stock disponible
    image: 'https://...',    // URL de imagen
    category: 'Categoria',
    sku: 'SKU-001'
  },
  currency: '$',              // Simbolo de moneda
  locale: 'en-US',            // Locale para formato
  lowStockThreshold: 5,       // Umbral de stock bajo
  showQuickAdd: true,         // Mostrar boton agregar rapido
  labels: {
    addToCart: 'Add to cart',
    outOfStock: 'Out of stock',
    lowStock: 'Low stock',
    inStock: 'In stock'
  }
})

// Propiedades:
product         // Datos del producto
isAdding        // True durante animacion de agregar
isAvailable()   // True si hay stock

// Metodos:
formatPrice(n)      // Formatear precio
getDiscountPercent() // Calcular % descuento
getStockStatus()    // 'available', 'low', 'out'
getStockText()      // Texto de stock
addToCart(event)    // Agregar al carrito
getIcon(name)       // Obtener icono SVG

// Eventos:
@product-add        // { product, quantity }
@product-select     // { product, selected }


// uxProductGrid - Grid con filtros
uxProductGrid({
  products: [...],
  multiSelect: false,
  sortBy: 'name'
})

// Propiedades:
filteredProducts    // Productos filtrados
categories          // Categorias unicas
selectedProducts    // Productos seleccionados

// Metodos:
toggleSelect(product)
isSelected(product)
clearSelection()</pre>
    </div>
  </div>

  <!-- CSS Classes -->
  <div class="demo-section">
    <h3>Clases CSS</h3>
    <div style="background: var(--ux-surface); padding: var(--ux-space-lg); border-radius: var(--ux-border-radius-lg);">
      <pre class="ux-code-block" data-lang="css">/* Grid */
.ux-product-grid              // Grid base
.ux-product-grid--2/3/4/5/6   // Numero de columnas
.ux-product-grid--compact     // Gap reducido

/* Tarjeta */
.ux-product-card              // Tarjeta base
.ux-product-card--sm          // Tamano pequeno
.ux-product-card--lg          // Tamano grande
.ux-product-card--horizontal  // Layout horizontal
.ux-product-card--glass       // Variante glass
.ux-product-card--selected    // Seleccionada
.ux-product-card--unavailable // No disponible
.ux-product-card--out-of-stock // Sin stock
.ux-product-card--adding      // Animacion agregar

/* Imagen */
.ux-product-card__image-wrapper
.ux-product-card__image
.ux-product-card__placeholder

/* Badges */
.ux-product-card__badges
.ux-product-card__badge
.ux-product-card__badge--sale
.ux-product-card__badge--new
.ux-product-card__badge--low-stock
.ux-product-card__badge--out

/* Contenido */
.ux-product-card__content
.ux-product-card__name
.ux-product-card__category
.ux-product-card__sku

/* Precio */
.ux-product-card__price-wrapper
.ux-product-card__price
.ux-product-card__price--sale
.ux-product-card__price-original
.ux-product-card__discount

/* Stock */
.ux-product-card__stock
.ux-product-card__stock--low
.ux-product-card__stock--out
.ux-product-card__stock--available

/* Agregar rapido */
.ux-product-card__quick-add</pre>
    </div>
  </div>