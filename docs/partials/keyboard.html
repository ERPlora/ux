<style>
    .demo-section { margin-bottom: var(--ux-space-xl); }
    .demo-section h3 { font-size: var(--ux-font-size-lg); font-weight: 600; margin-bottom: var(--ux-space-md); color: var(--ux-text); }
    .demo-section p { font-size: var(--ux-font-size-md); color: var(--ux-text-secondary); margin-bottom: var(--ux-space-md); }
    .demo-box { background: var(--ux-surface-secondary); border-radius: var(--ux-border-radius-lg); padding: var(--ux-space-lg); margin-bottom: var(--ux-space-md); }
    .api-table { width: 100%; border-collapse: collapse; font-size: var(--ux-font-size-md); }
    .api-table th { text-align: left; padding: var(--ux-space-sm) var(--ux-space-md); background: var(--ux-surface-secondary); font-weight: 600; border-bottom: 1px solid var(--ux-border-color); }
    .api-table td { padding: var(--ux-space-sm) var(--ux-space-md); border-bottom: 1px solid var(--ux-border-color); }
    .api-table code { background: var(--ux-surface-secondary); padding: 2px 6px; border-radius: 4px; font-size: var(--ux-font-size-md); }
    .shortcut-demo { display: flex; align-items: center; gap: var(--ux-space-md); padding: var(--ux-space-md); background: var(--ux-surface); border-radius: var(--ux-border-radius); margin-bottom: var(--ux-space-sm); }
    .shortcut-demo__action { flex: 1; }
    .shortcut-demo__keys { display: flex; gap: var(--ux-space-xs); }
  </style>

<div x-data="uxKeyboard()">
    <h2 style="margin-bottom: var(--ux-space-lg);">Keyboard Navigation</h2>
    <p style="color: var(--ux-text-secondary); margin-bottom: var(--ux-space-xl);">Sistema unificado de navegacion por teclado y atajos. Incluye manejo de focus, roving tabindex, focus trap y registro de shortcuts globales.</p>

    <!-- Keyboard Badges -->
    <section class="demo-section">
      <h3>Keyboard Badges</h3>
      <p>Usa <code>.ux-kbd</code> para mostrar teclas y combinaciones de teclado.</p>

      <div class="demo-box" style="display: flex; flex-wrap: wrap; gap: var(--ux-space-lg); align-items: center;">
        <kbd class="ux-kbd">Esc</kbd>
        <kbd class="ux-kbd">Tab</kbd>
        <kbd class="ux-kbd">Enter</kbd>
        <kbd class="ux-kbd">Space</kbd>
        <kbd class="ux-kbd">↑</kbd>
        <kbd class="ux-kbd">↓</kbd>
        <kbd class="ux-kbd">←</kbd>
        <kbd class="ux-kbd">→</kbd>

        <span class="ux-kbd-combo">
          <kbd class="ux-kbd">⌘</kbd>
          <span class="ux-kbd-combo__separator">+</span>
          <kbd class="ux-kbd">K</kbd>
        </span>

        <span class="ux-kbd-combo">
          <kbd class="ux-kbd">Ctrl</kbd>
          <span class="ux-kbd-combo__separator">+</span>
          <kbd class="ux-kbd">Shift</kbd>
          <span class="ux-kbd-combo__separator">+</span>
          <kbd class="ux-kbd">P</kbd>
        </span>
      </div>

      <div class="demo-box" style="display: flex; flex-wrap: wrap; gap: var(--ux-space-lg); align-items: center;">
        <span>Sizes:</span>
        <kbd class="ux-kbd ux-kbd--sm">Esc</kbd>
        <kbd class="ux-kbd">Esc</kbd>
        <kbd class="ux-kbd ux-kbd--lg">Esc</kbd>
      </div>

      <pre class="ux-code-block" data-lang="html">&lt;!-- Single key --&gt;
&lt;kbd class="ux-kbd"&gt;Esc&lt;/kbd&gt;
&lt;kbd class="ux-kbd"&gt;Tab&lt;/kbd&gt;
&lt;kbd class="ux-kbd"&gt;Enter&lt;/kbd&gt;

&lt;!-- Key combo --&gt;
&lt;span class="ux-kbd-combo"&gt;
  &lt;kbd class="ux-kbd"&gt;⌘&lt;/kbd&gt;
  &lt;span class="ux-kbd-combo__separator"&gt;+&lt;/span&gt;
  &lt;kbd class="ux-kbd"&gt;K&lt;/kbd&gt;
&lt;/span&gt;

&lt;!-- Sizes --&gt;
&lt;kbd class="ux-kbd ux-kbd--sm"&gt;Esc&lt;/kbd&gt;
&lt;kbd class="ux-kbd"&gt;Esc&lt;/kbd&gt;
&lt;kbd class="ux-kbd ux-kbd--lg"&gt;Esc&lt;/kbd&gt;

&lt;!-- Glass variant --&gt;
&lt;kbd class="ux-kbd ux-kbd--glass"&gt;Esc&lt;/kbd&gt;</pre>
    </section>

    <!-- Global Shortcuts -->
    <section class="demo-section">
      <h3>Global Shortcuts</h3>
      <p>Registra atajos de teclado globales con <code>UXKeyboard.register()</code>.</p>

      <div class="demo-box" x-data="{ log: [] }">
        <p style="margin-bottom: var(--ux-space-md);">Prueba estos atajos (mira la consola):</p>

        <div class="shortcut-demo">
          <div class="shortcut-demo__action">Buscar</div>
          <div class="shortcut-demo__keys">
            <kbd class="ux-kbd">⌘</kbd>
            <kbd class="ux-kbd">K</kbd>
          </div>
        </div>

        <div class="shortcut-demo">
          <div class="shortcut-demo__action">Guardar</div>
          <div class="shortcut-demo__keys">
            <kbd class="ux-kbd">⌘</kbd>
            <kbd class="ux-kbd">S</kbd>
          </div>
        </div>

        <div class="shortcut-demo">
          <div class="shortcut-demo__action">Nuevo</div>
          <div class="shortcut-demo__keys">
            <kbd class="ux-kbd">⌘</kbd>
            <kbd class="ux-kbd">N</kbd>
          </div>
        </div>

        <div class="shortcut-demo">
          <div class="shortcut-demo__action">Ayuda de atajos</div>
          <div class="shortcut-demo__keys">
            <kbd class="ux-kbd">Shift</kbd>
            <kbd class="ux-kbd">?</kbd>
          </div>
        </div>

        <template x-if="log.length > 0">
          <div style="margin-top: var(--ux-space-md); padding: var(--ux-space-md); background: var(--ux-surface-tertiary); border-radius: var(--ux-border-radius); font-family: monospace; font-size: var(--ux-font-size-sm);">
            <template x-for="item in log.slice(-5)" :key="item.time">
              <div x-text="item.text"></div>
            </template>
          </div>
        </template>
      </div>

      <pre class="ux-code-block" data-lang="javascript">// Registrar un shortcut
UXKeyboard.register('mod+k', () => {
  openSearch();
}, {
  description: 'Open search',
  preventDefault: true
});

// mod = ⌘ en Mac, Ctrl en Windows/Linux

// Registrar con scope (para modales)
UXKeyboard.register('enter', () => {
  submitForm();
}, {
  scope: 'modal',
  description: 'Submit form'
});

// Permitir en inputs
UXKeyboard.register('mod+enter', () => {
  submitForm();
}, {
  allowInInput: true,
  description: 'Submit from anywhere'
});

// Desregistrar
const unregister = UXKeyboard.register('mod+s', save);
unregister(); // Eliminar shortcut</pre>
    </section>

    <!-- Scopes -->
    <section class="demo-section">
      <h3>Shortcut Scopes</h3>
      <p>Los scopes permiten tener diferentes atajos segun el contexto (modal abierto, menu activo, etc.).</p>

      <pre class="ux-code-block" data-lang="javascript">// Cuando se abre un modal
function openModal() {
  showModal();
  UXKeyboard.pushScope('modal');

  // Registrar atajos especificos del modal
  UXKeyboard.register('enter', submitModal, { scope: 'modal' });
  UXKeyboard.register('escape', closeModal, { scope: 'modal' });
}

// Cuando se cierra
function closeModal() {
  hideModal();
  UXKeyboard.popScope(); // Vuelve al scope anterior
}

// Los atajos globales siguen funcionando si no hay conflicto</pre>
    </section>

    <!-- Roving Tabindex -->
    <section class="demo-section">
      <h3>Roving Tabindex</h3>
      <p>Para navegacion con flechas en listas, menus y tabs. Solo un elemento tiene <code>tabindex="0"</code> a la vez.</p>

      <div class="demo-box">
        <p style="margin-bottom: var(--ux-space-md);">Usa Tab para entrar, flechas para navegar:</p>

        <div x-data x-init="UXRovingTabindex.init($el, { orientation: 'horizontal' })"
             role="toolbar"
             aria-label="Formatting options"
             style="display: flex; gap: var(--ux-space-xs);">
          <button class="ux-button ux-button--sm">Bold</button>
          <button class="ux-button ux-button--sm">Italic</button>
          <button class="ux-button ux-button--sm">Underline</button>
          <button class="ux-button ux-button--sm">Strike</button>
        </div>
      </div>

      <div class="demo-box">
        <p style="margin-bottom: var(--ux-space-md);">Lista vertical:</p>

        <ul class="ux-list ux-list--inset"
            x-data
            x-init="UXRovingTabindex.init($el, {
              selector: '.ux-list__item',
              orientation: 'vertical',
              onSelect: (el) => el.click()
            })"
            role="listbox"
            style="max-width: 300px;">
          <li class="ux-list__item" role="option">Opcion 1</li>
          <li class="ux-list__item" role="option">Opcion 2</li>
          <li class="ux-list__item" role="option">Opcion 3</li>
          <li class="ux-list__item" role="option">Opcion 4</li>
        </ul>
      </div>

      <pre class="ux-code-block" data-lang="javascript">// Inicializar roving tabindex
const roving = UXRovingTabindex.init(container, {
  // Selector de items navegables
  selector: '[role="option"], button',

  // Direccion: 'horizontal', 'vertical', 'both'
  orientation: 'vertical',

  // Envolver al llegar al final
  wrap: true,

  // Callback al seleccionar con Enter/Space
  onSelect: (element, index) => {
    element.click();
  }
});

// Refrescar despues de cambios en el DOM
roving.refresh();

// Limpiar
roving.destroy();</pre>

      <pre class="ux-code-block" data-lang="html">&lt;!-- Toolbar horizontal --&gt;
&lt;div role="toolbar"
     x-data
     x-init="UXRovingTabindex.init($el, { orientation: 'horizontal' })"&gt;
  &lt;button&gt;Bold&lt;/button&gt;
  &lt;button&gt;Italic&lt;/button&gt;
  &lt;button&gt;Underline&lt;/button&gt;
&lt;/div&gt;

&lt;!-- Menu vertical --&gt;
&lt;ul role="menu"
    x-data
    x-init="UXRovingTabindex.init($el, {
      selector: '[role=menuitem]',
      orientation: 'vertical'
    })"&gt;
  &lt;li role="menuitem" tabindex="0"&gt;Item 1&lt;/li&gt;
  &lt;li role="menuitem" tabindex="-1"&gt;Item 2&lt;/li&gt;
  &lt;li role="menuitem" tabindex="-1"&gt;Item 3&lt;/li&gt;
&lt;/ul&gt;</pre>
    </section>

    <!-- Focus Trap -->
    <section class="demo-section">
      <h3>Focus Trap</h3>
      <p>Mantiene el foco dentro de un contenedor (modales, dialogs). Incluido en <code>ux-core.js</code> como <code>UX.trapFocus()</code>.</p>

      <div class="demo-box" x-data="{ showTrap: false }">
        <button class="ux-button ux-color-primary" @click="showTrap = true">
          Abrir Focus Trap Demo
        </button>

        <div x-show="showTrap"
             x-trap="showTrap"
             style="margin-top: var(--ux-space-md); padding: var(--ux-space-lg); background: var(--ux-surface); border: 2px solid var(--ux-primary); border-radius: var(--ux-border-radius-lg);">
          <p style="margin-bottom: var(--ux-space-md);">El foco esta atrapado aqui. Tab solo cicla entre estos elementos:</p>

          <div class="ux-input-group" style="margin-bottom: var(--ux-space-md);">
            <input type="text" class="ux-input" placeholder="Input 1">
          </div>

          <div class="ux-input-group" style="margin-bottom: var(--ux-space-md);">
            <input type="text" class="ux-input" placeholder="Input 2">
          </div>

          <div style="display: flex; gap: var(--ux-space-sm);">
            <button class="ux-button ux-button--outline" @click="showTrap = false">Cancelar</button>
            <button class="ux-button ux-color-primary" @click="showTrap = false">Aceptar</button>
          </div>
        </div>
      </div>

      <pre class="ux-code-block" data-lang="javascript">// Usando UXFocusTrap directamente
const trap = UXFocusTrap.create(modalElement, {
  // Elemento a enfocar inicialmente (selector)
  initialFocus: '.ux-modal__content input',

  // Devolver foco al cerrar
  returnFocus: true,

  // Escape cierra el trap
  escapeDeactivates: true,

  // Callback cuando se presiona Escape
  onEscape: () => closeModal()
});

// Desactivar trap
trap.deactivate();

// Usando UX.trapFocus (de ux-core.js)
const release = UX.trapFocus(modalElement);
release(); // Liberar</pre>

      <pre class="ux-code-block" data-lang="html">&lt;!-- Con Alpine.js x-trap --&gt;
&lt;div x-data="{ open: false }"&gt;
  &lt;button @click="open = true"&gt;Open&lt;/button&gt;

  &lt;div x-show="open" x-trap="open"&gt;
    &lt;!-- Focus trapped here --&gt;
    &lt;input type="text"&gt;
    &lt;button @click="open = false"&gt;Close&lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre>
    </section>

    <!-- Skip Link -->
    <section class="demo-section">
      <h3>Skip to Content Link</h3>
      <p>Link de accesibilidad que aparece al presionar Tab. Se crea automaticamente si existe <code>&lt;main&gt;</code>.</p>

      <div class="demo-box">
        <p>Presiona <kbd class="ux-kbd">Tab</kbd> en esta pagina para ver el skip link en la esquina superior izquierda.</p>
      </div>

      <pre class="ux-code-block" data-lang="html">&lt;!-- Se crea automaticamente, pero puedes agregarlo manualmente --&gt;
&lt;a href="#main-content" class="ux-skip-link"&gt;
  Skip to main content
&lt;/a&gt;

&lt;nav&gt;...&lt;/nav&gt;

&lt;main id="main-content"&gt;
  ...
&lt;/main&gt;</pre>
    </section>

    <!-- Component Integration -->
    <section class="demo-section">
      <h3>Keyboard en Componentes UX</h3>
      <p>Todos los componentes interactivos de UX soportan navegacion por teclado:</p>

      <div class="ux-card" style="margin-bottom: var(--ux-space-lg);">
        <table class="api-table">
          <thead>
            <tr>
              <th>Componente</th>
              <th>Teclas</th>
              <th>Accion</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>Modal / Sheet / Alert</strong></td>
              <td><kbd class="ux-kbd ux-kbd--sm">Esc</kbd></td>
              <td>Cerrar</td>
            </tr>
            <tr>
              <td></td>
              <td><kbd class="ux-kbd ux-kbd--sm">Tab</kbd></td>
              <td>Navegar elementos (trapped)</td>
            </tr>
            <tr>
              <td><strong>Tabs</strong></td>
              <td><kbd class="ux-kbd ux-kbd--sm">←</kbd> <kbd class="ux-kbd ux-kbd--sm">→</kbd></td>
              <td>Cambiar tab</td>
            </tr>
            <tr>
              <td></td>
              <td><kbd class="ux-kbd ux-kbd--sm">Home</kbd> <kbd class="ux-kbd ux-kbd--sm">End</kbd></td>
              <td>Primer/ultimo tab</td>
            </tr>
            <tr>
              <td><strong>Dropdown / Select / Menu</strong></td>
              <td><kbd class="ux-kbd ux-kbd--sm">↓</kbd> <kbd class="ux-kbd ux-kbd--sm">↑</kbd></td>
              <td>Navegar opciones</td>
            </tr>
            <tr>
              <td></td>
              <td><kbd class="ux-kbd ux-kbd--sm">Enter</kbd> <kbd class="ux-kbd ux-kbd--sm">Space</kbd></td>
              <td>Seleccionar</td>
            </tr>
            <tr>
              <td></td>
              <td><kbd class="ux-kbd ux-kbd--sm">Esc</kbd></td>
              <td>Cerrar</td>
            </tr>
            <tr>
              <td><strong>Accordion</strong></td>
              <td><kbd class="ux-kbd ux-kbd--sm">↓</kbd> <kbd class="ux-kbd ux-kbd--sm">↑</kbd></td>
              <td>Navegar headers</td>
            </tr>
            <tr>
              <td></td>
              <td><kbd class="ux-kbd ux-kbd--sm">Enter</kbd> <kbd class="ux-kbd ux-kbd--sm">Space</kbd></td>
              <td>Expandir/colapsar</td>
            </tr>
            <tr>
              <td><strong>Datatable</strong></td>
              <td><kbd class="ux-kbd ux-kbd--sm">↓</kbd> <kbd class="ux-kbd ux-kbd--sm">↑</kbd></td>
              <td>Navegar filas</td>
            </tr>
            <tr>
              <td></td>
              <td><kbd class="ux-kbd ux-kbd--sm">Enter</kbd></td>
              <td>Seleccionar fila</td>
            </tr>
            <tr>
              <td><strong>Carousel</strong></td>
              <td><kbd class="ux-kbd ux-kbd--sm">←</kbd> <kbd class="ux-kbd ux-kbd--sm">→</kbd></td>
              <td>Slide anterior/siguiente</td>
            </tr>
            <tr>
              <td><strong>Calendar</strong></td>
              <td><kbd class="ux-kbd ux-kbd--sm">←</kbd> <kbd class="ux-kbd ux-kbd--sm">→</kbd> <kbd class="ux-kbd ux-kbd--sm">↑</kbd> <kbd class="ux-kbd ux-kbd--sm">↓</kbd></td>
              <td>Navegar dias</td>
            </tr>
            <tr>
              <td></td>
              <td><kbd class="ux-kbd ux-kbd--sm">Enter</kbd></td>
              <td>Seleccionar dia</td>
            </tr>
            <tr>
              <td><strong>Rating</strong></td>
              <td><kbd class="ux-kbd ux-kbd--sm">←</kbd> <kbd class="ux-kbd ux-kbd--sm">→</kbd></td>
              <td>Cambiar valor</td>
            </tr>
            <tr>
              <td><strong>Toggle / Checkbox</strong></td>
              <td><kbd class="ux-kbd ux-kbd--sm">Space</kbd></td>
              <td>Toggle on/off</td>
            </tr>
            <tr>
              <td><strong>Numpad</strong></td>
              <td><kbd class="ux-kbd ux-kbd--sm">0-9</kbd></td>
              <td>Ingresar digitos</td>
            </tr>
            <tr>
              <td></td>
              <td><kbd class="ux-kbd ux-kbd--sm">Backspace</kbd></td>
              <td>Borrar ultimo</td>
            </tr>
            <tr>
              <td></td>
              <td><kbd class="ux-kbd ux-kbd--sm">Enter</kbd></td>
              <td>Confirmar</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- Alpine Component -->
    <section class="demo-section">
      <h3>Alpine Component</h3>
      <p>Usa <code>x-data="uxKeyboard()"</code> para registrar shortcuts declarativamente.</p>

      <pre class="ux-code-block" data-lang="html">&lt;div x-data="uxKeyboard({
  scope: 'global',
  showHelpOnQuestion: true,
  shortcuts: [
    { combo: 'mod+k', action: 'openSearch', description: 'Open search' },
    { combo: 'mod+s', action: 'save', description: 'Save', allowInInput: true },
    { combo: 'mod+n', action: 'newItem', description: 'New item' }
  ]
})"
@ux-shortcut.window="console.log('Shortcut:', $event.detail)"&gt;

  &lt;!-- Tus metodos --&gt;
  &lt;template x-init="
    openSearch = () => $dispatch('open-search');
    save = () => console.log('Saving...');
    newItem = () => console.log('New item');
  "&gt;&lt;/template&gt;

  &lt;!-- Modal de ayuda (Shift+?) --&gt;
  &lt;div x-show="showHelp" class="ux-modal-backdrop ux-modal-backdrop--open"&gt;
    &lt;div class="ux-modal"&gt;
      &lt;div class="ux-modal__header"&gt;
        &lt;h3&gt;Keyboard Shortcuts&lt;/h3&gt;
        &lt;button @click="showHelp = false"&gt;&times;&lt;/button&gt;
      &lt;/div&gt;
      &lt;div class="ux-modal__content"&gt;
        &lt;template x-for="s in shortcuts"&gt;
          &lt;div style="display: flex; justify-content: space-between; padding: 8px 0;"&gt;
            &lt;span x-text="s.description"&gt;&lt;/span&gt;
            &lt;span x-html="renderCombo(s.original)"&gt;&lt;/span&gt;
          &lt;/div&gt;
        &lt;/template&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre>
    </section>

    <!-- API Reference -->
    <section class="demo-section">
      <h3>API Reference</h3>

      <h4 style="margin-top: var(--ux-space-lg); margin-bottom: var(--ux-space-sm);">UXKeyboard Methods</h4>
      <div class="ux-card">
        <table class="api-table">
          <thead>
            <tr>
              <th>Metodo</th>
              <th>Descripcion</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>register(combo, callback, options)</code></td>
              <td>Registra un shortcut. Retorna funcion para desregistrar.</td>
            </tr>
            <tr>
              <td><code>unregister(combo, scope)</code></td>
              <td>Elimina un shortcut registrado.</td>
            </tr>
            <tr>
              <td><code>pushScope(scope)</code></td>
              <td>Activa un nuevo scope (ej: al abrir modal).</td>
            </tr>
            <tr>
              <td><code>popScope()</code></td>
              <td>Vuelve al scope anterior.</td>
            </tr>
            <tr>
              <td><code>getShortcuts(scope)</code></td>
              <td>Obtiene todos los shortcuts de un scope.</td>
            </tr>
            <tr>
              <td><code>formatCombo(combo)</code></td>
              <td>Formatea combo para display (ej: "mod+k" -> "⌘ + K").</td>
            </tr>
            <tr>
              <td><code>renderCombo(combo)</code></td>
              <td>Genera HTML con badges para el combo.</td>
            </tr>
            <tr>
              <td><code>on(event, callback)</code></td>
              <td>Escucha eventos: 'shortcut', 'scopeChange'.</td>
            </tr>
          </tbody>
        </table>
      </div>

      <h4 style="margin-top: var(--ux-space-lg); margin-bottom: var(--ux-space-sm);">Register Options</h4>
      <div class="ux-card">
        <table class="api-table">
          <thead>
            <tr>
              <th>Opcion</th>
              <th>Tipo</th>
              <th>Default</th>
              <th>Descripcion</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>scope</code></td>
              <td>string</td>
              <td>'global'</td>
              <td>Scope del shortcut.</td>
            </tr>
            <tr>
              <td><code>description</code></td>
              <td>string</td>
              <td>''</td>
              <td>Descripcion para UI de ayuda.</td>
            </tr>
            <tr>
              <td><code>preventDefault</code></td>
              <td>boolean</td>
              <td>true</td>
              <td>Prevenir accion por defecto del browser.</td>
            </tr>
            <tr>
              <td><code>allowInInput</code></td>
              <td>boolean</td>
              <td>false</td>
              <td>Ejecutar aunque el foco este en un input.</td>
            </tr>
          </tbody>
        </table>
      </div>

      <h4 style="margin-top: var(--ux-space-lg); margin-bottom: var(--ux-space-sm);">Key Modifiers</h4>
      <div class="ux-card">
        <table class="api-table">
          <thead>
            <tr>
              <th>Alias</th>
              <th>Mac</th>
              <th>Windows/Linux</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>mod</code></td>
              <td>⌘ Command</td>
              <td>Ctrl</td>
            </tr>
            <tr>
              <td><code>ctrl</code></td>
              <td>⌃ Control</td>
              <td>Ctrl</td>
            </tr>
            <tr>
              <td><code>alt</code> / <code>opt</code></td>
              <td>⌥ Option</td>
              <td>Alt</td>
            </tr>
            <tr>
              <td><code>shift</code></td>
              <td>⇧ Shift</td>
              <td>Shift</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- HTMX + Django -->
    <section class="demo-section">
      <h3>HTMX + Django</h3>
      <p>Integracion de atajos de teclado con Django y HTMX.</p>

      <pre class="ux-code-block" data-lang="html">&lt;!-- templates/base.html --&gt;
&lt;body x-data="uxKeyboard({
  shortcuts: [
    { combo: 'mod+k', action: 'openSearch', description: 'Buscar' },
    { combo: 'mod+/', action: 'showHelp', description: 'Ayuda' },
    { combo: 'g h', action: 'goHome', description: 'Ir a inicio' },
    { combo: 'g p', action: 'goProducts', description: 'Ir a productos' }
  ]
})"
x-init="
  openSearch = () => $dispatch('open-command');
  showHelp = () => showHelp = true;
  goHome = () => htmx.ajax('GET', '/', { target: '#main' });
  goProducts = () => htmx.ajax('GET', '/products/', { target: '#main' });
"&gt;

  &lt;!-- Command palette con HTMX --&gt;
  &lt;div x-show="$store.command.open"
       @open-command.window="$store.command.open = true"
       class="ux-command"&gt;
    &lt;input type="search"
           class="ux-command__input"
           placeholder="Type a command..."
           hx-get="{% url 'command_search' %}"
           hx-trigger="keyup changed delay:200ms"
           hx-target="#command-results"&gt;
    &lt;div id="command-results"&gt;&lt;/div&gt;
  &lt;/div&gt;

  &lt;main id="main"&gt;
    {% block content %}{% endblock %}
  &lt;/main&gt;
&lt;/body&gt;</pre>

      <pre class="ux-code-block" data-lang="python"># views.py
from django.http import HttpResponse
from django.shortcuts import render

def command_search(request):
    """Busqueda para command palette"""
    query = request.GET.get('q', '')

    commands = [
        {'name': 'Nuevo producto', 'url': '/products/new/', 'keys': 'N'},
        {'name': 'Ver pedidos', 'url': '/orders/', 'keys': 'G O'},
        {'name': 'Configuracion', 'url': '/settings/', 'keys': 'G S'},
    ]

    if query:
        commands = [c for c in commands if query.lower() in c['name'].lower()]

    return render(request, 'partials/command_results.html', {
        'commands': commands
    })</pre>

      <pre class="ux-code-block" data-lang="html">&lt;!-- partials/command_results.html --&gt;
&lt;ul class="ux-list"
    x-data
    x-init="UXRovingTabindex.init($el, {
      selector: '.ux-list__item',
      orientation: 'vertical',
      onSelect: (el) => htmx.ajax('GET', el.dataset.url, { target: '#main' })
    })"&gt;
  {% for cmd in commands %}
  &lt;li class="ux-list__item" data-url="{{ cmd.url }}"&gt;
    &lt;div class="ux-list__content"&gt;
      &lt;span class="ux-list__title"&gt;{{ cmd.name }}&lt;/span&gt;
    &lt;/div&gt;
    &lt;span class="ux-kbd ux-kbd--sm"&gt;{{ cmd.keys }}&lt;/span&gt;
  &lt;/li&gt;
  {% empty %}
  &lt;li class="ux-list__item ux-list__item--disabled"&gt;
    No results found
  &lt;/li&gt;
  {% endfor %}
&lt;/ul&gt;</pre>
    </section>

    <!-- CSS Classes -->
    <section class="demo-section">
      <h3>CSS Classes</h3>
      <div class="ux-card">
        <table class="api-table">
          <thead>
            <tr>
              <th>Clase</th>
              <th>Descripcion</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>.ux-kbd</code></td>
              <td>Badge de tecla individual</td>
            </tr>
            <tr>
              <td><code>.ux-kbd--sm</code></td>
              <td>Tamano pequeno</td>
            </tr>
            <tr>
              <td><code>.ux-kbd--lg</code></td>
              <td>Tamano grande</td>
            </tr>
            <tr>
              <td><code>.ux-kbd--glass</code></td>
              <td>Variante glass</td>
            </tr>
            <tr>
              <td><code>.ux-kbd-combo</code></td>
              <td>Contenedor para combinacion de teclas</td>
            </tr>
            <tr>
              <td><code>.ux-kbd-combo__separator</code></td>
              <td>Separador "+" entre teclas</td>
            </tr>
            <tr>
              <td><code>.ux-skip-link</code></td>
              <td>Link "Skip to content"</td>
            </tr>
            <tr>
              <td><code>.ux-keyboard-nav</code></td>
              <td>Clase en body cuando hay navegacion por teclado</td>
            </tr>
            <tr>
              <td><code>.ux-keyboard-nav--mouse</code></td>
              <td>Clase cuando se usa mouse (oculta focus rings)</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

  </div>

  <script>
    // Demo shortcuts
    document.addEventListener('DOMContentLoaded', () => {
      UXKeyboard.register('mod+k', () => {
        console.log('Search triggered!');
        alert('Search shortcut triggered! (Cmd/Ctrl + K)');
      }, { description: 'Open search' });

      UXKeyboard.register('mod+s', (e) => {
        console.log('Save triggered!');
        alert('Save shortcut triggered! (Cmd/Ctrl + S)');
      }, { description: 'Save', allowInInput: true });

      UXKeyboard.register('mod+n', () => {
        console.log('New item triggered!');
        alert('New item shortcut triggered! (Cmd/Ctrl + N)');
      }, { description: 'New item' });
    });
  </script>