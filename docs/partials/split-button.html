<style>
    .demo-section { margin-bottom: var(--ux-space-xl); }
    .demo-section h3 { font-size: var(--ux-font-size-lg); font-weight: 600; margin-bottom: var(--ux-space-md); }
    .demo-section p { font-size: var(--ux-font-size-md); color: var(--ux-text-secondary); margin-bottom: var(--ux-space-md); }
    .demo-box { background: var(--ux-surface-secondary); border-radius: var(--ux-border-radius-lg); padding: var(--ux-space-lg); margin-bottom: var(--ux-space-md); display: flex; flex-wrap: wrap; gap: var(--ux-space-lg); align-items: flex-start; }
  </style>

<div style="padding: var(--ux-space-lg);">
    <h2 style="margin-bottom: var(--ux-space-lg);">Split Button</h2>
    <p style="color: var(--ux-text-secondary); margin-bottom: var(--ux-space-xl);">Boton dividido con accion principal y menu desplegable de opciones secundarias.</p>

    <section class="demo-section">
      <h3>Basico</h3>
      <p>Accion principal con dropdown de opciones.</p>
      <div class="demo-box">
        <div class="ux-split-button"
             x-data="uxSplitButton()"
             :class="containerClasses"
             @splitbutton:select="alert('Selected: ' + $event.detail.value)">

          <button class="ux-button ux-split-button__main ux-color-primary" @click="alert('Save clicked!')">
            Save
          </button>

          <button class="ux-split-button__toggle ux-color-primary" @click="toggle()" aria-label="More options">
            <svg class="ux-split-button__toggle-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="6 9 12 15 18 9"/>
            </svg>
          </button>

          <div class="ux-split-button__dropdown">
            <button class="ux-split-button__item" @click="selectItem('save-draft')">
              <svg class="ux-split-button__item-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/>
                <polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/>
              </svg>
              Save as Draft
            </button>
            <button class="ux-split-button__item" @click="selectItem('save-template')">
              <svg class="ux-split-button__item-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><line x1="3" y1="9" x2="21" y2="9"/><line x1="9" y1="21" x2="9" y2="9"/>
              </svg>
              Save as Template
            </button>
            <div class="ux-split-button__divider"></div>
            <button class="ux-split-button__item" @click="selectItem('export')">
              <svg class="ux-split-button__item-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/>
              </svg>
              Export
            </button>
          </div>
        </div>
      </div>
      <pre class="ux-code-block" data-lang="html">&lt;div class="ux-split-button" x-data="uxSplitButton()" :class="containerClasses"&gt;
  &lt;button class="ux-button ux-split-button__main ux-color-primary"&gt;Save&lt;/button&gt;
  &lt;button class="ux-split-button__toggle ux-color-primary" @click="toggle()"&gt;...&lt;/button&gt;
  &lt;div class="ux-split-button__dropdown"&gt;
    &lt;button class="ux-split-button__item"&gt;Option&lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre>
    </section>

    <section class="demo-section">
      <h3>Colores</h3>
      <div class="demo-box">
        <div class="ux-split-button" x-data="uxSplitButton()" :class="containerClasses">
          <button class="ux-button ux-split-button__main ux-color-primary">Primary</button>
          <button class="ux-split-button__toggle ux-color-primary" @click="toggle()">
            <svg class="ux-split-button__toggle-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
          </button>
          <div class="ux-split-button__dropdown">
            <button class="ux-split-button__item" @click="close()">Option 1</button>
            <button class="ux-split-button__item" @click="close()">Option 2</button>
          </div>
        </div>

        <div class="ux-split-button" x-data="uxSplitButton()" :class="containerClasses">
          <button class="ux-button ux-split-button__main ux-color-success">Success</button>
          <button class="ux-split-button__toggle ux-color-success" @click="toggle()">
            <svg class="ux-split-button__toggle-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
          </button>
          <div class="ux-split-button__dropdown">
            <button class="ux-split-button__item" @click="close()">Approve</button>
            <button class="ux-split-button__item" @click="close()">Approve All</button>
          </div>
        </div>

        <div class="ux-split-button" x-data="uxSplitButton()" :class="containerClasses">
          <button class="ux-button ux-split-button__main ux-color-danger">Delete</button>
          <button class="ux-split-button__toggle ux-color-danger" @click="toggle()">
            <svg class="ux-split-button__toggle-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
          </button>
          <div class="ux-split-button__dropdown">
            <button class="ux-split-button__item" @click="close()">Move to Trash</button>
            <button class="ux-split-button__item ux-split-button__item--danger" @click="close()">Delete Permanently</button>
          </div>
        </div>
      </div>
    </section>

    <section class="demo-section">
      <h3>Outline Variant</h3>
      <div class="demo-box">
        <div class="ux-split-button ux-split-button--outline" x-data="uxSplitButton()" :class="containerClasses">
          <button class="ux-button ux-button--outline ux-split-button__main ux-color-primary--outline">Export</button>
          <button class="ux-split-button__toggle" @click="toggle()">
            <svg class="ux-split-button__toggle-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
          </button>
          <div class="ux-split-button__dropdown">
            <button class="ux-split-button__item" @click="close()">Export as PDF</button>
            <button class="ux-split-button__item" @click="close()">Export as CSV</button>
            <button class="ux-split-button__item" @click="close()">Export as Excel</button>
          </div>
        </div>
      </div>
    </section>

    <section class="demo-section">
      <h3>Sizes</h3>
      <div class="demo-box">
        <div class="ux-split-button ux-split-button--sm" x-data="uxSplitButton()" :class="containerClasses">
          <button class="ux-button ux-button--sm ux-split-button__main ux-color-primary">Small</button>
          <button class="ux-split-button__toggle ux-color-primary" @click="toggle()">
            <svg class="ux-split-button__toggle-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
          </button>
          <div class="ux-split-button__dropdown">
            <button class="ux-split-button__item" @click="close()">Option</button>
          </div>
        </div>

        <div class="ux-split-button" x-data="uxSplitButton()" :class="containerClasses">
          <button class="ux-button ux-split-button__main ux-color-primary">Default</button>
          <button class="ux-split-button__toggle ux-color-primary" @click="toggle()">
            <svg class="ux-split-button__toggle-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
          </button>
          <div class="ux-split-button__dropdown">
            <button class="ux-split-button__item" @click="close()">Option</button>
          </div>
        </div>

        <div class="ux-split-button ux-split-button--lg" x-data="uxSplitButton()" :class="containerClasses">
          <button class="ux-button ux-button--lg ux-split-button__main ux-color-primary">Large</button>
          <button class="ux-split-button__toggle ux-color-primary" @click="toggle()">
            <svg class="ux-split-button__toggle-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
          </button>
          <div class="ux-split-button__dropdown">
            <button class="ux-split-button__item" @click="close()">Option</button>
          </div>
        </div>
      </div>
    </section>

    <section class="demo-section">
      <h3>Dropdown Positions</h3>
      <div class="demo-box">
        <div class="ux-split-button" x-data="uxSplitButton()" :class="containerClasses">
          <button class="ux-button ux-split-button__main ux-color-primary">Right (default)</button>
          <button class="ux-split-button__toggle ux-color-primary" @click="toggle()">
            <svg class="ux-split-button__toggle-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
          </button>
          <div class="ux-split-button__dropdown">
            <button class="ux-split-button__item" @click="close()">Option 1</button>
            <button class="ux-split-button__item" @click="close()">Option 2</button>
          </div>
        </div>

        <div class="ux-split-button ux-split-button--dropdown-left" x-data="uxSplitButton()" :class="containerClasses">
          <button class="ux-button ux-split-button__main ux-color-primary">Left</button>
          <button class="ux-split-button__toggle ux-color-primary" @click="toggle()">
            <svg class="ux-split-button__toggle-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
          </button>
          <div class="ux-split-button__dropdown">
            <button class="ux-split-button__item" @click="close()">Option 1</button>
            <button class="ux-split-button__item" @click="close()">Option 2</button>
          </div>
        </div>
      </div>

      <div class="demo-box" style="min-height: 150px; align-items: flex-end;">
        <div class="ux-split-button ux-split-button--dropdown-up" x-data="uxSplitButton()" :class="containerClasses">
          <button class="ux-button ux-split-button__main ux-color-primary">Dropdown Up</button>
          <button class="ux-split-button__toggle ux-color-primary" @click="toggle()">
            <svg class="ux-split-button__toggle-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
          </button>
          <div class="ux-split-button__dropdown">
            <button class="ux-split-button__item" @click="close()">Option 1</button>
            <button class="ux-split-button__item" @click="close()">Option 2</button>
          </div>
        </div>
      </div>
    </section>

    <section class="demo-section">
      <h3>Block (Full Width)</h3>
      <div class="demo-box" style="flex-direction: column;">
        <div class="ux-split-button ux-split-button--block" x-data="uxSplitButton()" :class="containerClasses">
          <button class="ux-button ux-split-button__main ux-color-primary">Full Width Button</button>
          <button class="ux-split-button__toggle ux-color-primary" @click="toggle()">
            <svg class="ux-split-button__toggle-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
          </button>
          <div class="ux-split-button__dropdown">
            <button class="ux-split-button__item" @click="close()">Option 1</button>
            <button class="ux-split-button__item" @click="close()">Option 2</button>
            <button class="ux-split-button__item" @click="close()">Option 3</button>
          </div>
        </div>
      </div>
    </section>

    <section class="demo-section">
      <h3>Con Items Disabled y Danger</h3>
      <div class="demo-box">
        <div class="ux-split-button" x-data="uxSplitButton()" :class="containerClasses">
          <button class="ux-button ux-split-button__main ux-color-primary">Actions</button>
          <button class="ux-split-button__toggle ux-color-primary" @click="toggle()">
            <svg class="ux-split-button__toggle-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
          </button>
          <div class="ux-split-button__dropdown">
            <button class="ux-split-button__item" @click="close()">Edit</button>
            <button class="ux-split-button__item" @click="close()">Duplicate</button>
            <button class="ux-split-button__item ux-split-button__item--disabled">Archive (disabled)</button>
            <div class="ux-split-button__divider"></div>
            <button class="ux-split-button__item ux-split-button__item--danger" @click="close()">Delete</button>
          </div>
        </div>
      </div>
    </section>

    <section class="demo-section">
      <h3>HTMX + Django</h3>
      <p>Ejemplos de split button con acciones HTMX para integracion con Django.</p>

      <h4 style="font-size: var(--ux-font-size-md); margin: var(--ux-space-md) 0;">Guardar con multiples formatos</h4>
      <div class="demo-box">
        <div class="ux-split-button" x-data="uxSplitButton()" :class="containerClasses">
          <button class="ux-button ux-split-button__main ux-color-primary"
                  hx-post="/api/documents/save/"
                  hx-target="#result"
                  hx-indicator="#save-spinner">
            <span class="htmx-indicator" id="save-spinner">
              <span class="ux-spinner ux-spinner--sm"></span>
            </span>
            Guardar
          </button>
          <button class="ux-split-button__toggle ux-color-primary" @click="toggle()">
            <svg class="ux-split-button__toggle-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
          </button>
          <div class="ux-split-button__dropdown">
            <button class="ux-split-button__item"
                    hx-post="/api/documents/save/?format=draft"
                    hx-target="#result"
                    @click="close()">
              Guardar como borrador
            </button>
            <button class="ux-split-button__item"
                    hx-post="/api/documents/save/?format=template"
                    hx-target="#result"
                    @click="close()">
              Guardar como plantilla
            </button>
            <div class="ux-split-button__divider"></div>
            <button class="ux-split-button__item"
                    hx-get="/api/documents/export/pdf/"
                    hx-swap="none"
                    @click="close()">
              Exportar PDF
            </button>
          </div>
        </div>
      </div>
      <pre class="ux-code-block" data-lang="html">&lt;div class="ux-split-button" x-data="uxSplitButton()" :class="containerClasses"&gt;
  &lt;button class="ux-button ux-split-button__main ux-color-primary"
          hx-post="/api/documents/save/"
          hx-target="#result"
          hx-indicator="#save-spinner"&gt;
    Guardar
  &lt;/button&gt;
  &lt;button class="ux-split-button__toggle ux-color-primary" @click="toggle()"&gt;...&lt;/button&gt;
  &lt;div class="ux-split-button__dropdown"&gt;
    &lt;button class="ux-split-button__item"
            hx-post="/api/documents/save/?format=draft"
            hx-target="#result"
            @click="close()"&gt;
      Guardar como borrador
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre>

      <h4 style="font-size: var(--ux-font-size-md); margin: var(--ux-space-md) 0;">Acciones de entidad con confirmacion</h4>
      <div class="demo-box">
        <div class="ux-split-button" x-data="uxSplitButton()" :class="containerClasses">
          <button class="ux-button ux-split-button__main ux-color-success"
                  hx-put="/api/orders/123/approve/"
                  hx-target="#order-status"
                  hx-swap="outerHTML">
            Aprobar Pedido
          </button>
          <button class="ux-split-button__toggle ux-color-success" @click="toggle()">
            <svg class="ux-split-button__toggle-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
          </button>
          <div class="ux-split-button__dropdown">
            <button class="ux-split-button__item"
                    hx-put="/api/orders/123/approve-partial/"
                    hx-target="#order-status"
                    @click="close()">
              Aprobar parcialmente
            </button>
            <button class="ux-split-button__item"
                    hx-put="/api/orders/123/hold/"
                    hx-target="#order-status"
                    @click="close()">
              Poner en espera
            </button>
            <div class="ux-split-button__divider"></div>
            <button class="ux-split-button__item ux-split-button__item--danger"
                    hx-delete="/api/orders/123/"
                    hx-target="closest tr"
                    hx-swap="outerHTML swap:500ms"
                    hx-confirm="Esta seguro de eliminar este pedido?"
                    @click="close()">
              Rechazar pedido
            </button>
          </div>
        </div>
      </div>
      <pre class="ux-code-block" data-lang="html">&lt;div class="ux-split-button" x-data="uxSplitButton()" :class="containerClasses"&gt;
  &lt;button class="ux-button ux-split-button__main ux-color-success"
          hx-put="/api/orders/{{ order.id }}/approve/"
          hx-target="#order-status"
          hx-swap="outerHTML"&gt;
    Aprobar Pedido
  &lt;/button&gt;
  &lt;button class="ux-split-button__toggle ux-color-success" @click="toggle()"&gt;...&lt;/button&gt;
  &lt;div class="ux-split-button__dropdown"&gt;
    &lt;button class="ux-split-button__item ux-split-button__item--danger"
            hx-delete="/api/orders/{{ order.id }}/"
            hx-target="closest tr"
            hx-swap="outerHTML swap:500ms"
            hx-confirm="Esta seguro de eliminar este pedido?"
            @click="close()"&gt;
      Rechazar pedido
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre>

      <h4 style="font-size: var(--ux-font-size-md); margin: var(--ux-space-md) 0;">Django View (ejemplo)</h4>
      <pre class="ux-code-block" data-lang="python"># views.py
from django.http import HttpResponse
from django.views.decorators.http import require_http_methods

@require_http_methods(["POST"])
def save_document(request):
    format_type = request.GET.get('format', 'default')

    if format_type == 'draft':
        # Guardar como borrador
        document.status = 'draft'
    elif format_type == 'template':
        # Guardar como plantilla
        document.is_template = True

    document.save()

    return HttpResponse('''
        &lt;div class="ux-toast ux-toast--success"&gt;
            Documento guardado correctamente
        &lt;/div&gt;
    ''')

@require_http_methods(["PUT"])
def approve_order(request, order_id):
    order = get_object_or_404(Order, id=order_id)
    order.status = 'approved'
    order.save()

    return render(request, 'partials/order_status.html', {'order': order})

@require_http_methods(["DELETE"])
def delete_order(request, order_id):
    order = get_object_or_404(Order, id=order_id)
    order.delete()

    return HttpResponse('')  # Elemento eliminado del DOM</pre>

      <h4 style="font-size: var(--ux-font-size-md); margin: var(--ux-space-md) 0;">URLs Django</h4>
      <pre class="ux-code-block" data-lang="python"># urls.py
from django.urls import path
from . import views

urlpatterns = [
    path('api/documents/save/', views.save_document, name='save_document'),
    path('api/documents/export/pdf/', views.export_pdf, name='export_pdf'),
    path('api/orders/&lt;int:order_id&gt;/approve/', views.approve_order, name='approve_order'),
    path('api/orders/&lt;int:order_id&gt;/approve-partial/', views.approve_partial, name='approve_partial'),
    path('api/orders/&lt;int:order_id&gt;/hold/', views.hold_order, name='hold_order'),
    path('api/orders/&lt;int:order_id&gt;/', views.delete_order, name='delete_order'),
]</pre>
    </section>

    <section class="demo-section">
      <h3>API</h3>
      <table style="width: 100%; border-collapse: collapse;">
        <thead>
          <tr style="text-align: left; border-bottom: 1px solid var(--ux-border-color);">
            <th style="padding: var(--ux-space-sm);">Clase</th>
            <th style="padding: var(--ux-space-sm);">Descripcion</th>
          </tr>
        </thead>
        <tbody style="font-size: var(--ux-font-size-sm);">
          <tr style="border-bottom: 1px solid var(--ux-border-color);">
            <td style="padding: var(--ux-space-sm);"><code>.ux-split-button</code></td>
            <td style="padding: var(--ux-space-sm);">Contenedor principal</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--ux-border-color);">
            <td style="padding: var(--ux-space-sm);"><code>.ux-split-button__main</code></td>
            <td style="padding: var(--ux-space-sm);">Boton principal</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--ux-border-color);">
            <td style="padding: var(--ux-space-sm);"><code>.ux-split-button__toggle</code></td>
            <td style="padding: var(--ux-space-sm);">Boton dropdown</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--ux-border-color);">
            <td style="padding: var(--ux-space-sm);"><code>.ux-split-button__dropdown</code></td>
            <td style="padding: var(--ux-space-sm);">Menu desplegable</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--ux-border-color);">
            <td style="padding: var(--ux-space-sm);"><code>.ux-split-button__item</code></td>
            <td style="padding: var(--ux-space-sm);">Item del menu</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--ux-border-color);">
            <td style="padding: var(--ux-space-sm);"><code>.ux-split-button--outline</code></td>
            <td style="padding: var(--ux-space-sm);">Variante outline</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--ux-border-color);">
            <td style="padding: var(--ux-space-sm);"><code>.ux-split-button--sm/lg</code></td>
            <td style="padding: var(--ux-space-sm);">Tamanos</td>
          </tr>
          <tr style="border-bottom: 1px solid var(--ux-border-color);">
            <td style="padding: var(--ux-space-sm);"><code>.ux-split-button--block</code></td>
            <td style="padding: var(--ux-space-sm);">Ancho completo</td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>.ux-split-button--dropdown-left/up</code></td>
            <td style="padding: var(--ux-space-sm);">Posicion del dropdown</td>
          </tr>
        </tbody>
      </table>
    </section>
  </div>