<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>Section - UX Library</title>
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <script src="../components/ux-core.js"></script>
  <script src="../components/ux-button.js"></script>
  <script src="../components/ux-navbar.js"></script>
  <script src="../components/ux-content.js"></script>
  <script src="../components/ux-section.js"></script>
  <script src="../components/ux-code-block.js"></script>
  <style>
    .demo-section { margin-bottom: var(--ux-space-xl); }
    .demo-section > h3 { font-size: var(--ux-font-size-lg); font-weight: 600; margin-bottom: var(--ux-space-md); }
    .demo-section > p { font-size: var(--ux-font-size-md); color: var(--ux-text-secondary); margin-bottom: var(--ux-space-md); }
    .demo-box { background: var(--ux-surface-secondary); border-radius: var(--ux-border-radius-lg); padding: var(--ux-space-lg); margin-bottom: var(--ux-space-md); }
  </style>
</head>
<body class="ux-app">

  <div class="ux-content" style="padding: var(--ux-space-lg);">
    <h2 style="margin-bottom: var(--ux-space-lg);">Section</h2>
    <p style="color: var(--ux-text-secondary); margin-bottom: var(--ux-space-xl);">Componente para organizar contenido en secciones con header, descripcion y acciones.</p>

    <section class="demo-section">
      <h3>Basico</h3>
      <p>Section simple con titulo y contenido.</p>
      <div class="demo-box">
        <div class="ux-section">
          <div class="ux-section__header">
            <div class="ux-section__header-content">
              <h3 class="ux-section__title">Account Settings</h3>
            </div>
          </div>
          <div class="ux-section__content">
            <p>Configure your account preferences and security settings here.</p>
          </div>
        </div>
      </div>
      <pre class="ux-code-block" data-lang="html">&lt;div class="ux-section"&gt;
  &lt;div class="ux-section__header"&gt;
    &lt;div class="ux-section__header-content"&gt;
      &lt;h3 class="ux-section__title"&gt;Account Settings&lt;/h3&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class="ux-section__content"&gt;...&lt;/div&gt;
&lt;/div&gt;</pre>
    </section>

    <section class="demo-section">
      <h3>Con Descripcion y Acciones</h3>
      <div class="demo-box">
        <div class="ux-section ux-section--bordered">
          <div class="ux-section__header">
            <div class="ux-section__header-content">
              <h3 class="ux-section__title">Team Members</h3>
              <p class="ux-section__description">Manage your team and their permissions.</p>
            </div>
            <div class="ux-section__actions">
              <button class="ux-button ux-button--sm ux-color-primary">Add Member</button>
            </div>
          </div>
          <div class="ux-section__content">
            <p>Team member list goes here...</p>
          </div>
        </div>
      </div>
      <pre class="ux-code-block" data-lang="html">&lt;div class="ux-section ux-section--bordered"&gt;
  &lt;div class="ux-section__header"&gt;
    &lt;div class="ux-section__header-content"&gt;
      &lt;h3 class="ux-section__title"&gt;Team Members&lt;/h3&gt;
      &lt;p class="ux-section__description"&gt;Manage your team...&lt;/p&gt;
    &lt;/div&gt;
    &lt;div class="ux-section__actions"&gt;
      &lt;button class="ux-button"&gt;Add Member&lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class="ux-section__content"&gt;...&lt;/div&gt;
&lt;/div&gt;</pre>
    </section>

    <section class="demo-section">
      <h3>Card Variant</h3>
      <div class="demo-box">
        <div class="ux-section ux-section--card">
          <div class="ux-section__header">
            <div class="ux-section__header-content">
              <h3 class="ux-section__title">Billing Information</h3>
              <p class="ux-section__description">Update your payment methods and billing address.</p>
            </div>
          </div>
          <div class="ux-section__content">
            <p>Billing content goes here...</p>
          </div>
        </div>
      </div>
    </section>

    <section class="demo-section">
      <h3>Glass Variant</h3>
      <div class="demo-box" style="background: var(--ux-demo-gradient); padding: var(--ux-space-xl);">
        <div class="ux-section ux-section--glass">
          <div class="ux-section__header">
            <div class="ux-section__header-content">
              <h3 class="ux-section__title">Glass Section</h3>
              <p class="ux-section__description">With iOS 26 Liquid Glass effect.</p>
            </div>
          </div>
          <div class="ux-section__content">
            <p>Content with translucent background and blur effect.</p>
          </div>
        </div>
      </div>
    </section>

    <section class="demo-section">
      <h3>Collapsible (con Alpine.js)</h3>
      <div class="demo-box">
        <div class="ux-section ux-section--bordered ux-section--collapsible" x-data="uxSection({ expanded: true })">
          <div class="ux-section__header" @click="toggle()" @keydown="handleKeydown($event)" v-bind="headerAriaAttrs">
            <div class="ux-section__header-content">
              <h3 class="ux-section__title">Advanced Options</h3>
              <p class="ux-section__description">Click to expand/collapse</p>
            </div>
            <span class="ux-section__chevron">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="6 9 12 15 18 9"></polyline>
              </svg>
            </span>
          </div>
          <div class="ux-section__body">
            <div class="ux-section__body-inner">
              <div class="ux-section__content">
                <p>This content can be collapsed. Configure advanced settings here.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <pre class="ux-code-block" data-lang="html">&lt;div class="ux-section ux-section--bordered ux-section--collapsible" x-data="uxSection({ expanded: true })"&gt;
  &lt;div class="ux-section__header" @click="toggle()"&gt;...
    &lt;span class="ux-section__chevron"&gt;...&lt;/span&gt;
  &lt;/div&gt;
  &lt;div class="ux-section__body"&gt;
    &lt;div class="ux-section__body-inner"&gt;
      &lt;div class="ux-section__content"&gt;...&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre>
    </section>

    <section class="demo-section">
      <h3>Header Only (List Headers)</h3>
      <div class="demo-box">
        <div class="ux-section ux-section--header-only">
          <div class="ux-section__header">
            <div class="ux-section__header-content">
              <h3 class="ux-section__title">Recent Activity</h3>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="demo-section">
      <h3>Sizes</h3>
      <div class="demo-box" style="flex-direction: column; gap: var(--ux-space-lg);">
        <div class="ux-section ux-section--bordered ux-section--sm">
          <div class="ux-section__header">
            <div class="ux-section__header-content">
              <h3 class="ux-section__title">Small Section</h3>
            </div>
          </div>
          <div class="ux-section__content">Compact size</div>
        </div>
        <div class="ux-section ux-section--bordered ux-section--lg">
          <div class="ux-section__header">
            <div class="ux-section__header-content">
              <h3 class="ux-section__title">Large Section</h3>
            </div>
          </div>
          <div class="ux-section__content">Larger padding and font size</div>
        </div>
      </div>
    </section>

    <section class="demo-section">
      <h3>HTMX + Django</h3>
      <p>Ejemplos de secciones con contenido dinamico usando HTMX y Django.</p>

      <div class="demo-box">
        <div class="ux-section ux-section--bordered">
          <div class="ux-section__header">
            <div class="ux-section__header-content">
              <h3 class="ux-section__title">Team Members</h3>
              <p class="ux-section__description">Lista de miembros del equipo cargada dinamicamente.</p>
            </div>
            <div class="ux-section__actions">
              <button class="ux-button ux-button--sm ux-color-primary"
                      hx-get="/team/add-member-form/"
                      hx-target="#member-modal"
                      hx-swap="innerHTML">
                Add Member
              </button>
            </div>
          </div>
          <div class="ux-section__content"
               hx-get="/team/members/"
               hx-trigger="load"
               hx-indicator="#members-spinner">
            <div id="members-spinner" class="htmx-indicator">
              <div class="ux-spinner"></div>
            </div>
          </div>
        </div>
      </div>
      <pre class="ux-code-block" data-lang="html">&lt;!-- Seccion con contenido cargado al iniciar --&gt;
&lt;div class="ux-section ux-section--bordered"&gt;
  &lt;div class="ux-section__header"&gt;
    &lt;div class="ux-section__header-content"&gt;
      &lt;h3 class="ux-section__title"&gt;Team Members&lt;/h3&gt;
    &lt;/div&gt;
    &lt;div class="ux-section__actions"&gt;
      &lt;button class="ux-button ux-button--sm ux-color-primary"
              hx-get="/team/add-member-form/"
              hx-target="#member-modal"&gt;
        Add Member
      &lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class="ux-section__content"
       hx-get="/team/members/"
       hx-trigger="load"
       hx-indicator="#members-spinner"&gt;
    &lt;div id="members-spinner" class="htmx-indicator"&gt;
      &lt;div class="ux-spinner"&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre>

      <div class="demo-box" style="margin-top: var(--ux-space-lg);">
        <div class="ux-section ux-section--card">
          <div class="ux-section__header">
            <div class="ux-section__header-content">
              <h3 class="ux-section__title">Activity Feed</h3>
              <p class="ux-section__description">Actualizaciones en tiempo real.</p>
            </div>
            <div class="ux-section__actions">
              <button class="ux-button ux-button--sm ux-button--outline"
                      hx-get="/activity/latest/"
                      hx-target="#activity-content"
                      hx-swap="innerHTML">
                Refresh
              </button>
            </div>
          </div>
          <div class="ux-section__content" id="activity-content"
               hx-get="/activity/feed/"
               hx-trigger="load, every 30s"
               hx-swap="innerHTML">
            Loading activity...
          </div>
        </div>
      </div>
      <pre class="ux-code-block" data-lang="html">&lt;!-- Seccion con polling automatico cada 30 segundos --&gt;
&lt;div class="ux-section ux-section--card"&gt;
  &lt;div class="ux-section__header"&gt;
    &lt;div class="ux-section__header-content"&gt;
      &lt;h3 class="ux-section__title"&gt;Activity Feed&lt;/h3&gt;
    &lt;/div&gt;
    &lt;div class="ux-section__actions"&gt;
      &lt;button class="ux-button ux-button--sm ux-button--outline"
              hx-get="/activity/latest/"
              hx-target="#activity-content"&gt;
        Refresh
      &lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class="ux-section__content" id="activity-content"
       hx-get="/activity/feed/"
       hx-trigger="load, every 30s"&gt;
    Loading...
  &lt;/div&gt;
&lt;/div&gt;</pre>

      <pre class="ux-code-block" data-lang="html">&lt;!-- Django Template: team/partials/members_list.html --&gt;
&lt;ul class="ux-list"&gt;
  {% for member in members %}
  &lt;li class="ux-list__item"&gt;
    &lt;div class="ux-avatar ux-avatar--sm"&gt;
      &lt;img src="{{ member.avatar_url }}" alt="{{ member.name }}"&gt;
    &lt;/div&gt;
    &lt;div class="ux-list__item-content"&gt;
      &lt;span class="ux-list__item-title"&gt;{{ member.name }}&lt;/span&gt;
      &lt;span class="ux-list__item-subtitle"&gt;{{ member.role }}&lt;/span&gt;
    &lt;/div&gt;
    &lt;button class="ux-button ux-button--sm ux-button--clear ux-color-danger"
            hx-delete="/team/members/{{ member.id }}/"
            hx-target="closest li"
            hx-swap="outerHTML swap:0.3s"
            hx-confirm="Remove {{ member.name }}?"&gt;
      Remove
    &lt;/button&gt;
  &lt;/li&gt;
  {% empty %}
  &lt;li class="ux-list__item"&gt;No team members yet.&lt;/li&gt;
  {% endfor %}
&lt;/ul&gt;</pre>

      <pre class="ux-code-block" data-lang="html">&lt;!-- Django View --&gt;
# views.py
from django.shortcuts import render
from django.http import HttpResponse

def team_members(request):
    members = TeamMember.objects.filter(team=request.user.team)
    return render(request, 'team/partials/members_list.html', {
        'members': members
    })

def delete_member(request, member_id):
    if request.method == 'DELETE':
        member = get_object_or_404(TeamMember, id=member_id)
        member.delete()
        return HttpResponse('')  # Empty response removes the element
    return HttpResponse(status=405)</pre>
    </section>
  </div>
</body>
</html>
