<header style="margin-bottom: 2rem;">
  <h1>Image Zoom</h1>
  <p style="color: var(--ux-text-secondary);">Hover magnifier, click-to-fullscreen, and pinch-to-zoom for touch devices. Multiple zoom modes available.</p>
</header>

<!-- Lens Mode -->
<section class="component-section">
  <h2>Lens Mode (Magnifying Glass)</h2>
  <p style="color: var(--ux-text-secondary); margin-bottom: 1rem;">Hover over the image to see a magnifying lens follow your cursor.</p>

  <div class="demo-row">
    <div class="demo-item">
      <div class="demo-label">Circular Lens</div>
      <ux-playground src="pages/image-zoom/examples/lens-circular.html"></ux-playground>
    </div>

    <div class="demo-item">
      <div class="demo-label">Square Lens</div>
      <ux-playground src="pages/image-zoom/examples/lens-square.html"></ux-playground>
    </div>
  </div>

  <pre class="ux-code-block" data-lang="html">&lt;!-- Lens Mode (Circular) --&gt;
&lt;div x-data="uxImageZoom({ mode: 'lens', zoomFactor: 2.5 })"
     class="ux-image-zoom"
     :class="{ 'ux-image-zoom--active': isActive }"
     @mouseenter="activate()"
     @mouseleave="deactivate()"
     @mousemove="handleMouseMove($event)"
     @click="handleImageClick()"&gt;
  &lt;img class="ux-image-zoom__img"
       src="product-400.jpg"
       data-zoom-src="product-1200.jpg"
       alt="Product"&gt;
  &lt;div class="ux-image-zoom__lens" x-ref="lens"&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;!-- Square Lens --&gt;
&lt;div class="ux-image-zoom ux-image-zoom--lens-square"&gt;
  ...
&lt;/div&gt;</pre>
</section>

<!-- Inner Mode -->
<section class="component-section">
  <h2>Inner Mode (Zoom Inside Image)</h2>
  <p style="color: var(--ux-text-secondary); margin-bottom: 1rem;">The zoomed view appears inside the image container, following your cursor.</p>

  <div class="demo-row">
    <div class="demo-item">
      <ux-playground src="pages/image-zoom/examples/inner-mode.html"></ux-playground>
    </div>
  </div>

  <pre class="ux-code-block" data-lang="html">&lt;div x-data="uxImageZoom({ mode: 'inner', zoomFactor: 2 })"
     class="ux-image-zoom ux-image-zoom--inner-mode"
     :class="{ 'ux-image-zoom--active': isActive }"
     @mouseenter="activate()"
     @mouseleave="deactivate()"
     @mousemove="handleMouseMove($event)"&gt;
  &lt;img class="ux-image-zoom__img" src="product.jpg" alt="Product"&gt;
  &lt;div class="ux-image-zoom__inner" x-ref="inner"&gt;&lt;/div&gt;
&lt;/div&gt;</pre>
</section>

<!-- Result Mode -->
<section class="component-section">
  <h2>Result Mode (Side Preview Window)</h2>
  <p style="color: var(--ux-text-secondary); margin-bottom: 1rem;">Shows a zoomed preview in a separate window beside the image. Great for product detail pages.</p>

  <div class="demo-row">
    <div class="demo-item">
      <div class="demo-label">Result on Right</div>
      <ux-playground src="pages/image-zoom/examples/result-mode.html"></ux-playground>
    </div>
  </div>

  <pre class="ux-code-block" data-lang="html">&lt;div x-data="uxImageZoom({ mode: 'result', zoomFactor: 2.5 })"
     class="ux-image-zoom"
     :class="{ 'ux-image-zoom--active': isActive }"
     @mouseenter="activate()"
     @mouseleave="deactivate()"
     @mousemove="handleMouseMove($event)"&gt;
  &lt;img class="ux-image-zoom__img"
       src="product-400.jpg"
       data-zoom-src="product-1200.jpg"
       alt="Product"&gt;
  &lt;div class="ux-image-zoom__result" x-ref="result"&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;!-- Result position variants --&gt;
&lt;div class="ux-image-zoom ux-image-zoom--result-left"&gt;...&lt;/div&gt;
&lt;div class="ux-image-zoom ux-image-zoom--result-top"&gt;...&lt;/div&gt;
&lt;div class="ux-image-zoom ux-image-zoom--result-bottom"&gt;...&lt;/div&gt;</pre>
</section>

<!-- Fullscreen Mode -->
<section class="component-section">
  <h2>Fullscreen Mode</h2>
  <p style="color: var(--ux-text-secondary); margin-bottom: 1rem;">Click the image to open fullscreen viewer with pinch-to-zoom and pan support.</p>

  <div class="demo-row">
    <div class="demo-item">
      <div class="demo-label">Click to Open Fullscreen</div>
      <ux-playground src="pages/image-zoom/examples/fullscreen.html"></ux-playground>
    </div>
  </div>

  <pre class="ux-code-block" data-lang="html">&lt;div x-data="uxImageZoom({ enableFullscreen: true })"
     class="ux-image-zoom"
     @click="handleImageClick()"&gt;
  &lt;img class="ux-image-zoom__img"
       src="product-400.jpg"
       data-zoom-src="product-1600.jpg"
       alt="Product"&gt;

  &lt;!-- Fullscreen overlay (teleported to body) --&gt;
  &lt;template x-teleport="body"&gt;
    &lt;div class="ux-image-zoom-fullscreen"
         :class="{ 'ux-image-zoom-fullscreen--open': isFullscreenOpen }"&gt;
      &lt;!-- ... controls ... --&gt;
    &lt;/div&gt;
  &lt;/template&gt;
&lt;/div&gt;</pre>
</section>

<!-- E-commerce Product Page -->
<section class="component-section">
  <h2>E-commerce Product Page Example</h2>
  <p style="color: var(--ux-text-secondary); margin-bottom: 1rem;">Combine lens zoom on hover with fullscreen on click for the best user experience.</p>
  <ux-playground src="pages/image-zoom/examples/ecommerce.html"></ux-playground>
</section>

<!-- HTMX + Django -->
<section class="component-section">
  <h2>HTMX + Django Integration</h2>
  <p style="color: var(--ux-text-secondary); margin-bottom: 1rem;">Load product images dynamically with HTMX.</p>

  <h3>Django Template</h3>
  <pre class="ux-code-block" data-lang="html">&lt;!-- templates/products/detail.html --&gt;
&lt;div x-data="uxImageZoom({ mode: 'lens', enableFullscreen: true })"
     class="ux-image-zoom"
     :class="{ 'ux-image-zoom--active': isActive }"
     @mouseenter="activate()"
     @mouseleave="deactivate()"
     @mousemove="handleMouseMove($event)"
     @click="handleImageClick()"&gt;
  &lt;img class="ux-image-zoom__img"
       src="{{ product.image.url }}"
       data-zoom-src="{{ product.high_res_image.url }}"
       alt="{{ product.name }}"&gt;
  &lt;div class="ux-image-zoom__lens" x-ref="lens"&gt;&lt;/div&gt;
&lt;/div&gt;</pre>

  <h3>Product Gallery with Thumbnails</h3>
  <pre class="ux-code-block" data-lang="html">&lt;div x-data="{
  currentImage: '{{ product.images.first.url }}',
  currentZoomImage: '{{ product.images.first.high_res.url }}',
  ...uxImageZoom({ mode: 'lens', enableFullscreen: true })
}"&gt;
  &lt;!-- Main Image --&gt;
  &lt;div class="ux-image-zoom"&gt;
    &lt;img class="ux-image-zoom__img"
         :src="currentImage"
         :data-zoom-src="currentZoomImage"&gt;
  &lt;/div&gt;

  &lt;!-- Thumbnails --&gt;
  &lt;div class="product-thumbnails"&gt;
    {% for img in product.images.all %}
    &lt;button @click="currentImage = '{{ img.url }}'; currentZoomImage = '{{ img.high_res.url }}'"&gt;
      &lt;img src="{{ img.thumbnail.url }}" alt=""&gt;
    &lt;/button&gt;
    {% endfor %}
  &lt;/div&gt;
&lt;/div&gt;</pre>

  <h3>Django Model</h3>
  <pre class="ux-code-block" data-lang="python"># models.py
from django.db import models
from imagekit.models import ImageSpecField
from imagekit.processors import ResizeToFit

class ProductImage(models.Model):
    product = models.ForeignKey(Product, related_name='images', on_delete=models.CASCADE)
    image = models.ImageField(upload_to='products/')

    # Auto-generate optimized versions
    thumbnail = ImageSpecField(source='image', processors=[ResizeToFit(100, 100)])
    display = ImageSpecField(source='image', processors=[ResizeToFit(600, 600)])
    high_res = ImageSpecField(source='image', processors=[ResizeToFit(1600, 1600)])</pre>
</section>

<!-- Keyboard & Touch -->
<section class="component-section">
  <h2>Keyboard Shortcuts</h2>
  <div class="ux-card">
    <div class="ux-card__content">
      <table class="ux-table" style="width: 100%;">
        <thead>
          <tr>
            <th>Key</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr><td><code>Esc</code></td><td>Close fullscreen</td></tr>
          <tr><td><code>+</code> / <code>=</code></td><td>Zoom in</td></tr>
          <tr><td><code>-</code></td><td>Zoom out</td></tr>
          <tr><td><code>0</code></td><td>Reset zoom</td></tr>
        </tbody>
      </table>
    </div>
  </div>
</section>

<section class="component-section">
  <h2>Touch Gestures</h2>
  <div class="ux-card">
    <div class="ux-card__content">
      <table class="ux-table" style="width: 100%;">
        <thead>
          <tr>
            <th>Gesture</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>Tap</td><td>Toggle UI visibility (fullscreen)</td></tr>
          <tr><td>Double Tap</td><td>Toggle zoom (1x / 2x)</td></tr>
          <tr><td>Pinch</td><td>Zoom in/out</td></tr>
          <tr><td>Drag/Pan</td><td>Move image when zoomed</td></tr>
          <tr><td>Mouse Wheel</td><td>Zoom in/out (fullscreen)</td></tr>
        </tbody>
      </table>
    </div>
  </div>
</section>

<!-- API Reference -->
<section class="component-section">
  <h2>API Reference</h2>
  <div class="ux-card">
    <div class="ux-card__content">
      <h3>CSS Classes</h3>
      <table class="ux-table" style="width: 100%;">
        <thead>
          <tr>
            <th>Class</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr><td><code>.ux-image-zoom</code></td><td>Main container</td></tr>
          <tr><td><code>.ux-image-zoom__img</code></td><td>The image element</td></tr>
          <tr><td><code>.ux-image-zoom__lens</code></td><td>Magnifier lens (lens mode)</td></tr>
          <tr><td><code>.ux-image-zoom__inner</code></td><td>Inner zoom overlay (inner mode)</td></tr>
          <tr><td><code>.ux-image-zoom__result</code></td><td>Side preview window (result mode)</td></tr>
          <tr><td><code>.ux-image-zoom--active</code></td><td>Active hover state</td></tr>
          <tr><td><code>.ux-image-zoom--lens-square</code></td><td>Square lens variant</td></tr>
          <tr><td><code>.ux-image-zoom--inner-mode</code></td><td>Inner mode modifier</td></tr>
        </tbody>
      </table>

      <h3 style="margin-top: 1.5rem;">Alpine.js Options</h3>
      <table class="ux-table" style="width: 100%;">
        <thead>
          <tr>
            <th>Option</th>
            <th>Type</th>
            <th>Default</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr><td><code>mode</code></td><td>string</td><td>'lens'</td><td>Zoom mode: 'lens', 'inner', 'result'</td></tr>
          <tr><td><code>zoomFactor</code></td><td>number</td><td>2.5</td><td>Magnification level for hover zoom</td></tr>
          <tr><td><code>minZoom</code></td><td>number</td><td>1</td><td>Minimum zoom level (fullscreen)</td></tr>
          <tr><td><code>maxZoom</code></td><td>number</td><td>5</td><td>Maximum zoom level (fullscreen)</td></tr>
          <tr><td><code>zoomStep</code></td><td>number</td><td>0.5</td><td>Zoom increment per step</td></tr>
          <tr><td><code>lensSize</code></td><td>number</td><td>150</td><td>Lens diameter in pixels</td></tr>
          <tr><td><code>enableFullscreen</code></td><td>boolean</td><td>true</td><td>Enable click-to-fullscreen</td></tr>
          <tr><td><code>enableKeyboard</code></td><td>boolean</td><td>true</td><td>Enable keyboard shortcuts</td></tr>
          <tr><td><code>showZoomIcon</code></td><td>boolean</td><td>true</td><td>Show zoom icon overlay</td></tr>
        </tbody>
      </table>

      <h3 style="margin-top: 1.5rem;">Methods</h3>
      <table class="ux-table" style="width: 100%;">
        <thead>
          <tr>
            <th>Method</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr><td><code>activate()</code></td><td>Activate hover zoom</td></tr>
          <tr><td><code>deactivate()</code></td><td>Deactivate hover zoom</td></tr>
          <tr><td><code>openFullscreen()</code></td><td>Open fullscreen viewer</td></tr>
          <tr><td><code>closeFullscreen()</code></td><td>Close fullscreen viewer</td></tr>
          <tr><td><code>zoomIn()</code></td><td>Increase zoom level</td></tr>
          <tr><td><code>zoomOut()</code></td><td>Decrease zoom level</td></tr>
          <tr><td><code>resetZoom()</code></td><td>Reset to 1x zoom</td></tr>
        </tbody>
      </table>

      <h3 style="margin-top: 1.5rem;">Events</h3>
      <table class="ux-table" style="width: 100%;">
        <thead>
          <tr>
            <th>Event</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr><td><code>image-zoom:fullscreen-open</code></td><td>Fullscreen opened</td></tr>
          <tr><td><code>image-zoom:fullscreen-close</code></td><td>Fullscreen closed</td></tr>
          <tr><td><code>image-zoom:zoom-change</code></td><td>Zoom level changed</td></tr>
        </tbody>
      </table>

      <h3 style="margin-top: 1.5rem;">CSS Custom Properties</h3>
      <table class="ux-table" style="width: 100%;">
        <thead>
          <tr>
            <th>Property</th>
            <th>Default</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr><td><code>--ux-image-zoom-lens-size</code></td><td>150px</td><td>Lens diameter</td></tr>
          <tr><td><code>--ux-image-zoom-lens-border</code></td><td>2px solid rgba(255,255,255,0.8)</td><td>Lens border</td></tr>
          <tr><td><code>--ux-image-zoom-result-width</code></td><td>400px</td><td>Result window width</td></tr>
          <tr><td><code>--ux-image-zoom-result-height</code></td><td>400px</td><td>Result window height</td></tr>
        </tbody>
      </table>
    </div>
  </div>
</section>

<style>
.demo-section { margin-bottom: 3rem; }
.demo-section h2 {
  font-size: 1.25rem;
  margin-bottom: 1rem;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid var(--ux-border-color);
}
.demo-section h3 {
  font-size: 1rem;
  margin: 1.5rem 0 0.75rem;
}
.demo-row {
  display: flex;
  flex-wrap: wrap;
  gap: 2rem;
  align-items: flex-start;
}
.demo-item {
  flex: 1;
  min-width: 280px;
  max-width: 400px;
}
.demo-label {
  font-size: 0.875rem;
  color: var(--ux-text-secondary);
  margin-bottom: 0.5rem;
}
</style>
