<style>
    .demo-section { margin-bottom: var(--ux-space-xl); padding: var(--ux-space-lg); }
    .demo-section h3 { font-size: var(--ux-font-size-lg); font-weight: 600; margin-bottom: var(--ux-space-md); }
    .demo-section p { font-size: var(--ux-font-size-md); color: var(--ux-text-secondary); margin-bottom: var(--ux-space-md); }
    .demo-box { background: var(--ux-surface-secondary); border-radius: var(--ux-border-radius-lg); padding: var(--ux-space-lg); margin-bottom: var(--ux-space-md); }
    .demo-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--ux-space-lg); }
    .demo-gradient { background: linear-gradient(135deg, var(--ux-indigo-500), var(--ux-purple-500)); padding: var(--ux-space-xl); border-radius: var(--ux-radius-lg); }
  </style>

<!-- Basic Batch Card -->
  <div class="demo-section">
    <h3>Batch Card Basico</h3>
    <p>Tarjeta de lote con informacion principal, estado y codigo QR.</p>

    <ux-playground src="pages/batch-tracker/examples/batch-card-basico.html"></ux-playground>
      <div class="demo-box">
      <div class="ux-batch-card" x-data="uxBatchTracker({
        batchNumber: 'BATCH-2024-00156',
        lotNumber: 'LOT-A1B2C3',
        productName: 'Organic Tomato Sauce 500ml',
        productSku: 'OTS-500-001',
        status: 'in-progress',
        initialQuantity: 1000,
        currentQuantity: 985,
        rejectedQuantity: 15,
        unit: 'units',
        createdAt: '2024-01-15T08:30:00',
        manufacturedDate: '2024-01-15',
        expiryDate: '2025-01-15',
        location: { name: 'Warehouse A', zone: 'Zone 3', shelf: 'Shelf 12', bin: 'Bin 4' }
      })">
        <div class="ux-batch-card__header">
          <div class="ux-batch-card__title-group">
            <h2 class="ux-batch-card__batch-number" x-text="batchNumber"></h2>
            <p class="ux-batch-card__product-name" x-text="productName"></p>
          </div>
          <div x-show="showQR" class="ux-batch-card__qr">
            <svg viewBox="0 0 100 100" fill="currentColor">
              <rect x="10" y="10" width="20" height="20"/>
              <rect x="70" y="10" width="20" height="20"/>
              <rect x="10" y="70" width="20" height="20"/>
              <rect x="40" y="40" width="20" height="20"/>
              <rect x="15" y="15" width="10" height="10" fill="var(--ux-surface)"/>
              <rect x="75" y="15" width="10" height="10" fill="var(--ux-surface)"/>
              <rect x="15" y="75" width="10" height="10" fill="var(--ux-surface)"/>
              <rect x="35" y="10" width="5" height="5"/>
              <rect x="45" y="10" width="5" height="5"/>
              <rect x="55" y="10" width="5" height="5"/>
            </svg>
          </div>
        </div>

        <div class="ux-batch-card__body">
          <!-- Status Badge -->
          <div style="display: flex; align-items: center; gap: var(--ux-space-md); margin-bottom: var(--ux-space-md);">
            <div :class="'ux-batch-status ux-batch-status--' + status">
              <span class="ux-batch-status__dot"></span>
              <span x-text="getStatusLabel(status)"></span>
            </div>
            <span style="font-size: var(--ux-font-size-xs); color: var(--ux-text-tertiary);">
              SKU: <span x-text="productSku"></span>
            </span>
          </div>

          <!-- Info Grid -->
          <div class="ux-batch-info">
            <div class="ux-batch-info__item">
              <span class="ux-batch-info__label">Lot Number</span>
              <span class="ux-batch-info__value ux-batch-info__value--mono" x-text="lotNumber"></span>
            </div>
            <div class="ux-batch-info__item">
              <span class="ux-batch-info__label">Manufactured</span>
              <span class="ux-batch-info__value" x-text="formatDate(manufacturedDate)"></span>
            </div>
            <div class="ux-batch-info__item">
              <span class="ux-batch-info__label">Expiry Date</span>
              <span class="ux-batch-info__value" x-text="formatDate(expiryDate)"></span>
            </div>
            <div class="ux-batch-info__item">
              <span class="ux-batch-info__label">Location</span>
              <span class="ux-batch-info__value" x-text="location.name"></span>
            </div>
          </div>

          <!-- Quantity Stats -->
          <div class="ux-batch-quantity" style="margin-top: var(--ux-space-lg);">
            <div class="ux-batch-quantity__header">
              <span class="ux-batch-quantity__title">Quantity Tracking</span>
            </div>
            <div class="ux-batch-quantity__values">
              <div class="ux-batch-quantity__stat">
                <span class="ux-batch-quantity__stat-value ux-batch-quantity__stat-value--initial" x-text="initialQuantity"></span>
                <span class="ux-batch-quantity__stat-label">Initial</span>
              </div>
              <div class="ux-batch-quantity__stat">
                <span class="ux-batch-quantity__stat-value ux-batch-quantity__stat-value--current" x-text="currentQuantity"></span>
                <span class="ux-batch-quantity__stat-label">Current</span>
              </div>
              <div class="ux-batch-quantity__stat">
                <span class="ux-batch-quantity__stat-value ux-batch-quantity__stat-value--rejected" x-text="rejectedQuantity"></span>
                <span class="ux-batch-quantity__stat-label">Rejected</span>
              </div>
              <div class="ux-batch-quantity__stat">
                <span class="ux-batch-quantity__stat-value ux-batch-quantity__stat-value--yield" x-text="yieldPercentage + '%'"></span>
                <span class="ux-batch-quantity__stat-label">Yield</span>
              </div>
            </div>
            <div class="ux-batch-quantity__bar">
              <div class="ux-batch-quantity__bar-segment ux-batch-quantity__bar-segment--good" :style="'width: ' + yieldPercentage + '%'"></div>
              <div class="ux-batch-quantity__bar-segment ux-batch-quantity__bar-segment--rejected" :style="'width: ' + rejectedPercentage + '%'"></div>
            </div>
          </div>
        </div>

        <div class="ux-batch-card__footer">
          <span style="font-size: var(--ux-font-size-xs); color: var(--ux-text-tertiary);">
            Created: <span x-text="formatDateTime(createdAt)"></span>
          </span>
          <button class="ux-button ux-button--sm ux-button--outline">View Details</button>
        </div>
      </div>
    </div>

    <pre class="ux-code-block" data-lang="html">&lt;div class="ux-batch-card" x-data="uxBatchTracker({
  batchNumber: 'BATCH-2024-00156',
  lotNumber: 'LOT-A1B2C3',
  productName: 'Organic Tomato Sauce 500ml',
  status: 'in-progress',
  initialQuantity: 1000,
  currentQuantity: 985,
  rejectedQuantity: 15
})"&gt;
  &lt;div class="ux-batch-card__header"&gt;
    &lt;div class="ux-batch-card__title-group"&gt;
      &lt;h2 class="ux-batch-card__batch-number" x-text="batchNumber"&gt;&lt;/h2&gt;
      &lt;p class="ux-batch-card__product-name" x-text="productName"&gt;&lt;/p&gt;
    &lt;/div&gt;
    &lt;div class="ux-batch-card__qr"&gt;...&lt;/div&gt;
  &lt;/div&gt;
  &lt;!-- Body content --&gt;
&lt;/div&gt;</pre>
  </div>

  <!-- Status Badges -->
  <div class="demo-section">
    <h3>Status Badges</h3>
    <p>Diferentes estados del lote con indicadores visuales.</p>

    <ux-playground src="pages/batch-tracker/examples/status-badges.html"></ux-playground>
      <div class="demo-box">
      <div style="display: flex; flex-wrap: wrap; gap: var(--ux-space-md);">
        <div class="ux-batch-status ux-batch-status--created">
          <span class="ux-batch-status__dot"></span>
          <span>Created</span>
        </div>
        <div class="ux-batch-status ux-batch-status--in-progress">
          <span class="ux-batch-status__dot"></span>
          <span>In Progress</span>
        </div>
        <div class="ux-batch-status ux-batch-status--qc">
          <span class="ux-batch-status__dot"></span>
          <span>Quality Check</span>
        </div>
        <div class="ux-batch-status ux-batch-status--completed">
          <span class="ux-batch-status__dot"></span>
          <span>Completed</span>
        </div>
        <div class="ux-batch-status ux-batch-status--shipped">
          <span class="ux-batch-status__dot"></span>
          <span>Shipped</span>
        </div>
        <div class="ux-batch-status ux-batch-status--rejected">
          <span class="ux-batch-status__dot"></span>
          <span>Rejected</span>
        </div>
        <div class="ux-batch-status ux-batch-status--quarantine">
          <span class="ux-batch-status__dot"></span>
          <span>Quarantine</span>
        </div>
      </div>
    </div>

    <pre class="ux-code-block" data-lang="html">&lt;div class="ux-batch-status ux-batch-status--in-progress"&gt;
  &lt;span class="ux-batch-status__dot"&gt;&lt;/span&gt;
  &lt;span&gt;In Progress&lt;/span&gt;
&lt;/div&gt;

&lt;!-- Available statuses: created, in-progress, qc, completed, shipped, rejected, quarantine --&gt;</pre>
  </div>

  <!-- Status Timeline -->
  <div class="demo-section">
    <h3>Status Timeline</h3>
    <p>Timeline vertical mostrando el progreso del lote a traves de las etapas de produccion.</p>

    <ux-playground src="pages/batch-tracker/examples/status-timeline.html"></ux-playground>
      <div class="demo-box">
      <div class="ux-batch-timeline" x-data="uxBatchTracker({
        status: 'qc',
        timelineSteps: [
          { id: 'created', title: 'Batch Created', time: '15 Jan 2024, 08:30', description: 'Initial batch created with 1000 units' },
          { id: 'in-progress', title: 'Production Started', time: '15 Jan 2024, 09:15', description: 'Manufacturing process initiated' },
          { id: 'qc', title: 'Quality Control', time: '15 Jan 2024, 14:00', description: 'QC inspection in progress' },
          { id: 'completed', title: 'Production Complete', time: 'Pending' },
          { id: 'shipped', title: 'Shipped', time: 'Pending' }
        ]
      })">
        <template x-for="(step, index) in timelineSteps" :key="step.id">
          <div class="ux-batch-timeline__item"
               :class="{
                 'ux-batch-timeline__item--completed': isStepCompleted(index),
                 'ux-batch-timeline__item--active': isStepActive(index),
                 'ux-batch-timeline__item--pending': isStepPending(index)
               }">
            <div class="ux-batch-timeline__marker">
              <svg x-show="isStepCompleted(index)" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                <path d="M20 6L9 17l-5-5"/>
              </svg>
              <svg x-show="isStepActive(index)" width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                <circle cx="12" cy="12" r="4"/>
              </svg>
            </div>
            <div class="ux-batch-timeline__content">
              <h4 class="ux-batch-timeline__title" x-text="step.title"></h4>
              <span class="ux-batch-timeline__time" x-text="step.time"></span>
              <p x-show="step.description" class="ux-batch-timeline__description" x-text="step.description"></p>
            </div>
          </div>
        </template>
      </div>
    </div>

    <pre class="ux-code-block" data-lang="html">&lt;div class="ux-batch-timeline" x-data="uxBatchTracker({ status: 'qc' })"&gt;
  &lt;template x-for="(step, index) in timelineSteps" :key="step.id"&gt;
    &lt;div class="ux-batch-timeline__item" :class="{ 'ux-batch-timeline__item--completed': isStepCompleted(index) }"&gt;
      &lt;div class="ux-batch-timeline__marker"&gt;...&lt;/div&gt;
      &lt;div class="ux-batch-timeline__content"&gt;
        &lt;h4 class="ux-batch-timeline__title" x-text="step.title"&gt;&lt;/h4&gt;
        &lt;span class="ux-batch-timeline__time" x-text="step.time"&gt;&lt;/span&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/template&gt;
&lt;/div&gt;</pre>
  </div>

  <!-- Horizontal Timeline -->
  <div class="demo-section">
    <h3>Timeline Horizontal</h3>
    <p>Timeline compacto horizontal para visualizacion r√°pida del estado.</p>

    <ux-playground src="pages/batch-tracker/examples/timeline-horizontal.html"></ux-playground>
      <div class="demo-box" style="overflow: hidden;">
      <div class="ux-batch-timeline ux-batch-timeline--horizontal" x-data="uxBatchTracker({
        status: 'completed',
        timelineSteps: [
          { id: 'created', title: 'Created' },
          { id: 'in-progress', title: 'Production' },
          { id: 'qc', title: 'QC Check' },
          { id: 'completed', title: 'Completed' },
          { id: 'shipped', title: 'Shipped' }
        ]
      })">
        <template x-for="(step, index) in timelineSteps" :key="step.id">
          <div class="ux-batch-timeline__item"
               :class="{
                 'ux-batch-timeline__item--completed': isStepCompleted(index),
                 'ux-batch-timeline__item--active': isStepActive(index),
                 'ux-batch-timeline__item--pending': isStepPending(index)
               }">
            <div class="ux-batch-timeline__marker">
              <svg x-show="isStepCompleted(index)" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                <path d="M20 6L9 17l-5-5"/>
              </svg>
              <svg x-show="isStepActive(index)" width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                <circle cx="12" cy="12" r="4"/>
              </svg>
            </div>
            <div class="ux-batch-timeline__content">
              <h4 class="ux-batch-timeline__title" x-text="step.title"></h4>
            </div>
          </div>
        </template>
      </div>
    </div>

    <pre class="ux-code-block" data-lang="html">&lt;div class="ux-batch-timeline ux-batch-timeline--horizontal"&gt;
  &lt;!-- Same structure as vertical --&gt;
&lt;/div&gt;</pre>
  </div>

  <!-- Expiry Indicator -->
  <div class="demo-section">
    <h3>Expiry Indicator</h3>
    <p>Indicadores de fecha de vencimiento con diferentes estados de alerta.</p>

    <ux-playground src="pages/batch-tracker/examples/expiry-indicator.html"></ux-playground>
      <div class="demo-box">
      <div style="display: flex; flex-direction: column; gap: var(--ux-space-md);">
        <!-- OK -->
        <div class="ux-batch-expiry ux-batch-expiry--ok">
          <svg class="ux-batch-expiry__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="4" width="18" height="18" rx="2"/>
            <path d="M16 2v4M8 2v4M3 10h18"/>
          </svg>
          <div class="ux-batch-expiry__content">
            <span class="ux-batch-expiry__label">Expiry Date</span>
            <span class="ux-batch-expiry__date">15 Jan 2026</span>
          </div>
          <span class="ux-batch-expiry__days">365 days</span>
        </div>

        <!-- Warning -->
        <div class="ux-batch-expiry ux-batch-expiry--warning">
          <svg class="ux-batch-expiry__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="4" width="18" height="18" rx="2"/>
            <path d="M16 2v4M8 2v4M3 10h18"/>
          </svg>
          <div class="ux-batch-expiry__content">
            <span class="ux-batch-expiry__label">Expiry Date</span>
            <span class="ux-batch-expiry__date">10 Feb 2024</span>
          </div>
          <span class="ux-batch-expiry__days">26 days</span>
        </div>

        <!-- Danger -->
        <div class="ux-batch-expiry ux-batch-expiry--danger">
          <svg class="ux-batch-expiry__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="4" width="18" height="18" rx="2"/>
            <path d="M16 2v4M8 2v4M3 10h18"/>
          </svg>
          <div class="ux-batch-expiry__content">
            <span class="ux-batch-expiry__label">Expiry Date</span>
            <span class="ux-batch-expiry__date">20 Jan 2024</span>
          </div>
          <span class="ux-batch-expiry__days">5 days</span>
        </div>

        <!-- Expired -->
        <div class="ux-batch-expiry ux-batch-expiry--expired">
          <svg class="ux-batch-expiry__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="4" width="18" height="18" rx="2"/>
            <path d="M16 2v4M8 2v4M3 10h18"/>
          </svg>
          <div class="ux-batch-expiry__content">
            <span class="ux-batch-expiry__label">Expiry Date</span>
            <span class="ux-batch-expiry__date">01 Jan 2024</span>
          </div>
          <span class="ux-batch-expiry__days">EXPIRED</span>
        </div>
      </div>
    </div>

    <pre class="ux-code-block" data-lang="html">&lt;div class="ux-batch-expiry ux-batch-expiry--ok"&gt;
  &lt;svg class="ux-batch-expiry__icon"&gt;...&lt;/svg&gt;
  &lt;div class="ux-batch-expiry__content"&gt;
    &lt;span class="ux-batch-expiry__label"&gt;Expiry Date&lt;/span&gt;
    &lt;span class="ux-batch-expiry__date"&gt;15 Jan 2026&lt;/span&gt;
  &lt;/div&gt;
  &lt;span class="ux-batch-expiry__days"&gt;365 days&lt;/span&gt;
&lt;/div&gt;

&lt;!-- States: ok, warning, danger, expired --&gt;</pre>
  </div>

  <!-- Location Info -->
  <div class="demo-section">
    <h3>Location/Warehouse Info</h3>
    <p>Informacion de ubicacion del lote en el almacen.</p>

    <ux-playground src="pages/batch-tracker/examples/locationwarehouse-info.html"></ux-playground>
      <div class="demo-box">
      <div class="ux-batch-location">
        <svg class="ux-batch-location__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
          <circle cx="12" cy="10" r="3"/>
        </svg>
        <div class="ux-batch-location__content">
          <span class="ux-batch-location__name">Warehouse A - Zone 3</span>
          <span class="ux-batch-location__details">Shelf 12, Bin 4 | Cold Storage (-18C)</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Parent/Child Relationships -->
  <div class="demo-section">
    <h3>Parent/Child Batch Relationships</h3>
    <p>Relaciones entre lotes padre e hijos para trazabilidad.</p>

    <ux-playground src="pages/batch-tracker/examples/parentchild-batch-relationships.html"></ux-playground>
      <div class="demo-box">
      <div style="display: flex; flex-direction: column; gap: var(--ux-space-lg);">
        <!-- Parent Batches -->
        <div class="ux-batch-relations">
          <span class="ux-batch-relations__title">Parent Batches (Raw Materials)</span>
          <div class="ux-batch-relations__list">
            <div class="ux-batch-relations__item ux-batch-relations__item--parent">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 19V5M5 12l7-7 7 7"/>
              </svg>
              <span>RAW-2024-00089</span>
            </div>
            <div class="ux-batch-relations__item ux-batch-relations__item--parent">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 19V5M5 12l7-7 7 7"/>
              </svg>
              <span>RAW-2024-00092</span>
            </div>
          </div>
        </div>

        <!-- Child Batches -->
        <div class="ux-batch-relations">
          <span class="ux-batch-relations__title">Child Batches (Derived Products)</span>
          <div class="ux-batch-relations__list">
            <div class="ux-batch-relations__item ux-batch-relations__item--child">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 5v14M5 12l7 7 7-7"/>
              </svg>
              <span>PKG-2024-00201</span>
            </div>
            <div class="ux-batch-relations__item ux-batch-relations__item--child">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 5v14M5 12l7 7 7-7"/>
              </svg>
              <span>PKG-2024-00202</span>
            </div>
            <div class="ux-batch-relations__item ux-batch-relations__item--child">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 5v14M5 12l7 7 7-7"/>
              </svg>
              <span>PKG-2024-00203</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <pre class="ux-code-block" data-lang="html">&lt;div class="ux-batch-relations"&gt;
  &lt;span class="ux-batch-relations__title"&gt;Parent Batches&lt;/span&gt;
  &lt;div class="ux-batch-relations__list"&gt;
    &lt;div class="ux-batch-relations__item ux-batch-relations__item--parent"&gt;
      &lt;svg&gt;...&lt;/svg&gt;
      &lt;span&gt;RAW-2024-00089&lt;/span&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre>
  </div>

  <!-- Traceability Links -->
  <div class="demo-section">
    <h3>Traceability Links</h3>
    <p>Enlaces a documentos y referencias relacionadas con el lote.</p>

    <ux-playground src="pages/batch-tracker/examples/traceability-links.html"></ux-playground>
      <div class="demo-box">
      <div class="ux-batch-trace">
        <span class="ux-batch-trace__title">Traceability Documents</span>
        <div class="ux-batch-trace__list">
          <div class="ux-batch-trace__item">
            <div class="ux-batch-trace__item-info">
              <svg class="ux-batch-trace__item-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                <path d="M14 2v6h6M16 13H8M16 17H8M10 9H8"/>
              </svg>
              <span class="ux-batch-trace__item-label">Production Order</span>
            </div>
            <span class="ux-batch-trace__item-value">PO-2024-00456</span>
          </div>

          <div class="ux-batch-trace__item">
            <div class="ux-batch-trace__item-info">
              <svg class="ux-batch-trace__item-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                <path d="M22 4L12 14.01l-3-3"/>
              </svg>
              <span class="ux-batch-trace__item-label">QC Report</span>
            </div>
            <span class="ux-batch-trace__item-value">QC-2024-00789</span>
          </div>

          <div class="ux-batch-trace__item">
            <div class="ux-batch-trace__item-info">
              <svg class="ux-batch-trace__item-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="1" y="3" width="15" height="13"/>
                <polygon points="16 8 20 8 23 11 23 16 16 16 16 8"/>
                <circle cx="5.5" cy="18.5" r="2.5"/>
                <circle cx="18.5" cy="18.5" r="2.5"/>
              </svg>
              <span class="ux-batch-trace__item-label">Shipment</span>
            </div>
            <span class="ux-batch-trace__item-value">SHP-2024-00321</span>
          </div>

          <div class="ux-batch-trace__item">
            <div class="ux-batch-trace__item-info">
              <svg class="ux-batch-trace__item-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/>
                <rect x="8" y="2" width="8" height="4" rx="1" ry="1"/>
              </svg>
              <span class="ux-batch-trace__item-label">Certificate of Analysis</span>
            </div>
            <span class="ux-batch-trace__item-value">COA-2024-00156</span>
          </div>
        </div>
      </div>
    </div>

    <pre class="ux-code-block" data-lang="html">&lt;div class="ux-batch-trace"&gt;
  &lt;span class="ux-batch-trace__title"&gt;Traceability Documents&lt;/span&gt;
  &lt;div class="ux-batch-trace__list"&gt;
    &lt;div class="ux-batch-trace__item"&gt;
      &lt;div class="ux-batch-trace__item-info"&gt;
        &lt;svg class="ux-batch-trace__item-icon"&gt;...&lt;/svg&gt;
        &lt;span class="ux-batch-trace__item-label"&gt;Production Order&lt;/span&gt;
      &lt;/div&gt;
      &lt;span class="ux-batch-trace__item-value"&gt;PO-2024-00456&lt;/span&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre>
  </div>

  <!-- History Log -->
  <div class="demo-section">
    <h3>History Log</h3>
    <p>Registro de historial de cambios y eventos del lote.</p>

    <ux-playground src="pages/batch-tracker/examples/history-log.html"></ux-playground>
      <div class="demo-box">
      <div class="ux-batch-history" x-data="{
        history: [
          { timestamp: '2024-01-15 16:45:00', action: 'Status changed to QC Check', user: 'System' },
          { timestamp: '2024-01-15 14:30:00', action: 'Quantity adjusted: 1000 -> 985 (-15 rejected)', user: 'Maria Garcia' },
          { timestamp: '2024-01-15 09:15:00', action: 'Production started on Line 3', user: 'Carlos Lopez' },
          { timestamp: '2024-01-15 08:30:00', action: 'Batch created from PO-2024-00456', user: 'System' }
        ]
      }">
        <div class="ux-batch-history__title">
          <span>Activity Log</span>
          <span style="font-size: var(--ux-font-size-xs); color: var(--ux-text-tertiary);" x-text="history.length + ' entries'"></span>
        </div>
        <div class="ux-batch-history__list">
          <template x-for="entry in history" :key="entry.timestamp">
            <div class="ux-batch-history__item">
              <span class="ux-batch-history__item-time" x-text="entry.timestamp"></span>
              <span class="ux-batch-history__item-action" x-text="entry.action"></span>
              <span class="ux-batch-history__item-user" x-text="entry.user"></span>
            </div>
          </template>
        </div>
      </div>
    </div>

    <pre class="ux-code-block" data-lang="html">&lt;div class="ux-batch-history"&gt;
  &lt;div class="ux-batch-history__title"&gt;Activity Log&lt;/div&gt;
  &lt;div class="ux-batch-history__list"&gt;
    &lt;div class="ux-batch-history__item"&gt;
      &lt;span class="ux-batch-history__item-time"&gt;2024-01-15 16:45:00&lt;/span&gt;
      &lt;span class="ux-batch-history__item-action"&gt;Status changed to QC Check&lt;/span&gt;
      &lt;span class="ux-batch-history__item-user"&gt;System&lt;/span&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre>
  </div>

  <!-- Search/Filter -->
  <div class="demo-section">
    <h3>Search/Filter by Batch Number</h3>
    <p>Busqueda y filtrado de lotes por numero de batch, lote, producto o SKU.</p>

    <ux-playground src="pages/batch-tracker/examples/searchfilter-by-batch-number.html"></ux-playground>
      <div class="demo-box" x-data="uxBatchTracker({
      batches: [
        { batchNumber: 'BATCH-2024-00156', lotNumber: 'LOT-A1B2C3', productName: 'Organic Tomato Sauce 500ml', status: 'in-progress', currentQuantity: 985, createdAt: '2024-01-15' },
        { batchNumber: 'BATCH-2024-00155', lotNumber: 'LOT-X9Y8Z7', productName: 'Extra Virgin Olive Oil 1L', status: 'completed', currentQuantity: 500, createdAt: '2024-01-14' },
        { batchNumber: 'BATCH-2024-00154', lotNumber: 'LOT-D4E5F6', productName: 'Organic Basil Pesto 200g', status: 'shipped', currentQuantity: 750, createdAt: '2024-01-13' },
        { batchNumber: 'BATCH-2024-00153', lotNumber: 'LOT-G7H8I9', productName: 'Sun-Dried Tomatoes 250g', status: 'qc', currentQuantity: 320, createdAt: '2024-01-12' }
      ]
    })">
      <div class="ux-batch-search">
        <div class="ux-batch-search__input">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"/>
            <path d="M21 21l-4.35-4.35"/>
          </svg>
          <input type="text"
                 placeholder="Search by batch number, lot, product..."
                 x-model="searchQuery"
                 @input="filterBatches()">
        </div>
      </div>

      <div class="ux-batch-list">
        <template x-for="batch in filteredBatches" :key="batch.batchNumber">
          <div class="ux-batch-list__item" @click="selectBatch(batch)">
            <div class="ux-batch-list__item-main">
              <div class="ux-batch-list__item-batch" x-text="batch.batchNumber"></div>
              <div class="ux-batch-list__item-product" x-text="batch.productName"></div>
            </div>
            <div class="ux-batch-list__item-meta">
              <div :class="'ux-batch-status ux-batch-status--' + batch.status" style="padding: 2px 8px; font-size: 10px;">
                <span class="ux-batch-status__dot" style="width: 6px; height: 6px;"></span>
                <span x-text="getStatusLabel(batch.status)"></span>
              </div>
              <div class="ux-batch-list__item-qty" x-text="batch.currentQuantity + ' units'"></div>
            </div>
          </div>
        </template>
      </div>
    </div>

    <pre class="ux-code-block" data-lang="html">&lt;div x-data="uxBatchTracker({ batches: [...] })"&gt;
  &lt;div class="ux-batch-search"&gt;
    &lt;div class="ux-batch-search__input"&gt;
      &lt;svg&gt;...&lt;/svg&gt;
      &lt;input type="text" x-model="searchQuery" @input="filterBatches()"&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class="ux-batch-list"&gt;
    &lt;template x-for="batch in filteredBatches"&gt;
      &lt;div class="ux-batch-list__item"&gt;...&lt;/div&gt;
    &lt;/template&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre>
  </div>

  <!-- Glass Variant -->
  <div class="demo-section">
    <h3>Glass Variant</h3>
    <p>Variante con efecto glass morphism.</p>

    <div class="demo-gradient">
      <div class="ux-batch-card ux-batch-card--glass" x-data="uxBatchTracker({
        batchNumber: 'BATCH-2024-00156',
        lotNumber: 'LOT-A1B2C3',
        productName: 'Premium Organic Coffee Beans 1kg',
        status: 'completed',
        initialQuantity: 500,
        currentQuantity: 498,
        rejectedQuantity: 2,
        expiryDate: '2025-06-15'
      })">
        <div class="ux-batch-card__header">
          <div class="ux-batch-card__title-group">
            <h2 class="ux-batch-card__batch-number" x-text="batchNumber"></h2>
            <p class="ux-batch-card__product-name" x-text="productName"></p>
          </div>
          <div :class="'ux-batch-status ux-batch-status--' + status">
            <span class="ux-batch-status__dot"></span>
            <span x-text="getStatusLabel(status)"></span>
          </div>
        </div>

        <div class="ux-batch-card__body">
          <div class="ux-batch-info">
            <div class="ux-batch-info__item">
              <span class="ux-batch-info__label">Lot</span>
              <span class="ux-batch-info__value ux-batch-info__value--mono" x-text="lotNumber"></span>
            </div>
            <div class="ux-batch-info__item">
              <span class="ux-batch-info__label">Quantity</span>
              <span class="ux-batch-info__value" x-text="currentQuantity + ' / ' + initialQuantity"></span>
            </div>
            <div class="ux-batch-info__item">
              <span class="ux-batch-info__label">Yield</span>
              <span class="ux-batch-info__value ux-batch-info__value--success" x-text="yieldPercentage + '%'"></span>
            </div>
            <div class="ux-batch-info__item">
              <span class="ux-batch-info__label">Expiry</span>
              <span class="ux-batch-info__value" x-text="formatDate(expiryDate)"></span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <pre class="ux-code-block" data-lang="html">&lt;div class="ux-batch-card ux-batch-card--glass"&gt;
  &lt;!-- Same structure as regular batch card --&gt;
&lt;/div&gt;</pre>
  </div>

  <!-- CSS Classes -->
  <div class="demo-section">
    <h3>Clases CSS</h3>
    <ux-playground src="pages/batch-tracker/examples/clases-css.html"></ux-playground>
      <div class="demo-box">
      <pre class="ux-code-block" data-lang="css">/* Batch Card */
.ux-batch-card                     /* Card container */
.ux-batch-card--glass              /* Glass variant */
.ux-batch-card__header             /* Card header */
.ux-batch-card__title-group        /* Title group */
.ux-batch-card__batch-number       /* Batch number */
.ux-batch-card__product-name       /* Product name */
.ux-batch-card__qr                 /* QR code container */
.ux-batch-card__body               /* Card body */
.ux-batch-card__footer             /* Card footer */

/* Status Badge */
.ux-batch-status                   /* Status badge */
.ux-batch-status--created          /* Created status */
.ux-batch-status--in-progress      /* In progress status */
.ux-batch-status--qc               /* QC check status */
.ux-batch-status--completed        /* Completed status */
.ux-batch-status--shipped          /* Shipped status */
.ux-batch-status--rejected         /* Rejected status */
.ux-batch-status--quarantine       /* Quarantine status */
.ux-batch-status__dot              /* Status dot (animated) */

/* Info Grid */
.ux-batch-info                     /* Info grid container */
.ux-batch-info__item               /* Info item */
.ux-batch-info__label              /* Item label */
.ux-batch-info__value              /* Item value */
.ux-batch-info__value--mono        /* Monospace value */
.ux-batch-info__value--danger      /* Danger color */
.ux-batch-info__value--warning     /* Warning color */
.ux-batch-info__value--success     /* Success color */

/* Quantity Tracking */
.ux-batch-quantity                 /* Quantity container */
.ux-batch-quantity__header         /* Quantity header */
.ux-batch-quantity__title          /* Quantity title */
.ux-batch-quantity__values         /* Values row */
.ux-batch-quantity__stat           /* Stat item */
.ux-batch-quantity__stat-value     /* Stat value */
.ux-batch-quantity__stat-label     /* Stat label */
.ux-batch-quantity__bar            /* Progress bar */
.ux-batch-quantity__bar-segment    /* Bar segment */
.ux-batch-quantity__bar-segment--good
.ux-batch-quantity__bar-segment--rejected

/* Expiry Indicator */
.ux-batch-expiry                   /* Expiry container */
.ux-batch-expiry--ok               /* OK state */
.ux-batch-expiry--warning          /* Warning state */
.ux-batch-expiry--danger           /* Danger state */
.ux-batch-expiry--expired          /* Expired state */
.ux-batch-expiry__icon             /* Calendar icon */
.ux-batch-expiry__content          /* Content */
.ux-batch-expiry__label            /* Label */
.ux-batch-expiry__date             /* Date */
.ux-batch-expiry__days             /* Days badge */

/* Timeline */
.ux-batch-timeline                 /* Timeline container */
.ux-batch-timeline--horizontal     /* Horizontal layout */
.ux-batch-timeline__item           /* Timeline item */
.ux-batch-timeline__item--completed
.ux-batch-timeline__item--active
.ux-batch-timeline__item--pending
.ux-batch-timeline__item--error
.ux-batch-timeline__marker         /* Step marker */
.ux-batch-timeline__content        /* Item content */
.ux-batch-timeline__title          /* Item title */
.ux-batch-timeline__time           /* Item time */
.ux-batch-timeline__description    /* Item description */

/* Location */
.ux-batch-location                 /* Location container */
.ux-batch-location__icon           /* Location icon */
.ux-batch-location__content        /* Content */
.ux-batch-location__name           /* Location name */
.ux-batch-location__details        /* Details text */

/* Relations */
.ux-batch-relations                /* Relations container */
.ux-batch-relations__title         /* Section title */
.ux-batch-relations__list          /* List */
.ux-batch-relations__item          /* Relation item */
.ux-batch-relations__item--parent  /* Parent batch */
.ux-batch-relations__item--child   /* Child batch */

/* Traceability */
.ux-batch-trace                    /* Trace container */
.ux-batch-trace__title             /* Section title */
.ux-batch-trace__list              /* List */
.ux-batch-trace__item              /* Trace item */
.ux-batch-trace__item-info         /* Item info */
.ux-batch-trace__item-icon         /* Item icon */
.ux-batch-trace__item-label        /* Item label */
.ux-batch-trace__item-value        /* Item value */

/* History */
.ux-batch-history                  /* History container */
.ux-batch-history__title           /* Title */
.ux-batch-history__list            /* List */
.ux-batch-history__item            /* History item */
.ux-batch-history__item-time       /* Timestamp */
.ux-batch-history__item-action     /* Action text */
.ux-batch-history__item-user       /* User name */

/* Search/List */
.ux-batch-search                   /* Search container */
.ux-batch-search__input            /* Search input */
.ux-batch-list                     /* Batch list */
.ux-batch-list__item               /* List item */
.ux-batch-list__item-main          /* Main content */
.ux-batch-list__item-batch         /* Batch number */
.ux-batch-list__item-product       /* Product name */
.ux-batch-list__item-meta          /* Meta info */
.ux-batch-list__item-qty           /* Quantity */
.ux-batch-list__item-date          /* Date */</pre>
    </div>
  </div>

  <!-- Alpine Component API -->
  <div class="demo-section">
    <h3>Componente Alpine.js</h3>
    <ux-playground src="pages/batch-tracker/examples/componente-alpinejs.html"></ux-playground>
      <div class="demo-box">
      <pre class="ux-code-block" data-lang="javascript">// Configuracion
uxBatchTracker({
  // Identification
  batchNumber: 'BATCH-2024-00156',
  lotNumber: 'LOT-A1B2C3',
  productName: 'Product Name',
  productSku: 'SKU-001',

  // Status: created, in-progress, qc, completed, shipped, rejected, quarantine
  status: 'in-progress',
  statusHistory: [],

  // Quantities
  initialQuantity: 1000,
  currentQuantity: 985,
  rejectedQuantity: 15,
  unit: 'units',

  // Dates (ISO format)
  createdAt: '2024-01-15T08:30:00',
  manufacturedDate: '2024-01-15',
  expiryDate: '2025-01-15',

  // Location
  location: {
    name: 'Warehouse A',
    zone: 'Zone 3',
    shelf: 'Shelf 12',
    bin: 'Bin 4'
  },

  // Relationships
  parentBatches: [{ number: 'RAW-001', product: 'Raw Material' }],
  childBatches: [{ number: 'PKG-001', product: 'Packaged Product' }],

  // Traceability links
  traceLinks: [
    { type: 'po', label: 'Production Order', value: 'PO-001' },
    { type: 'qc', label: 'QC Report', value: 'QC-001' }
  ],

  // History log
  history: [
    { timestamp: '2024-01-15T16:45:00', action: 'Status changed', user: 'System' }
  ],

  // Timeline steps
  timelineSteps: [
    { id: 'created', title: 'Created', icon: 'plus' },
    { id: 'in-progress', title: 'In Progress', icon: 'cog' },
    { id: 'qc', title: 'QC Check', icon: 'check-circle' },
    { id: 'completed', title: 'Completed', icon: 'package' },
    { id: 'shipped', title: 'Shipped', icon: 'truck' }
  ],

  // Search
  batches: [],       // Array of batches for search
  searchQuery: '',

  // QR
  showQR: true,
  qrData: null
})

// Computed Properties
yieldPercentage        // (currentQuantity / initialQuantity) * 100
rejectedPercentage     // (rejectedQuantity / initialQuantity) * 100
daysUntilExpiry        // Days until expiry date
expiryStatus           // 'ok', 'warning', 'danger', 'expired', 'none'
statusIndex            // Index of current status in timeline

// Methods
getStatusLabel(status)      // Get readable status label
isStepCompleted(index)      // Check if timeline step is completed
isStepActive(index)         // Check if timeline step is active
isStepPending(index)        // Check if timeline step is pending
getStepState(index)         // Get step state (completed/active/pending/error)
formatDate(date)            // Format date (DD MMM YYYY)
formatDateTime(date)        // Format datetime (DD MMM YYYY, HH:mm)
filterBatches()             // Filter batches by search query
selectBatch(batch)          // Select a batch (dispatches event)
viewParentBatch(batch)      // View parent batch
viewChildBatch(batch)       // View child batch
viewTraceLink(link)         // View trace link
updateStatus(newStatus)     // Update batch status
addHistoryEntry(action, user, details)  // Add history entry
generateQRData()            // Generate QR code data JSON

// Events
@batch:select              // { batch } - Batch selected
@batch:view-parent         // { batch } - Parent batch clicked
@batch:view-child          // { batch } - Child batch clicked
@batch:trace               // { link } - Trace link clicked
@batch:status-change       // { oldStatus, newStatus } - Status changed
@batch:history-add         // { action, user, details } - History entry added</pre>
    </div>
  </div>

  <!-- HTMX + Django -->
  <div class="demo-section">
    <h3>HTMX + Django</h3>
    <p>Integracion con Django y HTMX para aplicaciones de manufactura.</p>

    <ux-playground src="pages/batch-tracker/examples/htmx-django.html"></ux-playground>
      <div class="demo-box">
      <h4 style="margin-bottom: var(--ux-space-md);">Modelo Django</h4>
      <pre class="ux-code-block" data-lang="python"># models.py
from django.db import models
from django.contrib.auth.models import User

class Batch(models.Model):
    STATUS_CHOICES = [
        ('created', 'Created'),
        ('in-progress', 'In Progress'),
        ('qc', 'Quality Check'),
        ('completed', 'Completed'),
        ('shipped', 'Shipped'),
        ('rejected', 'Rejected'),
        ('quarantine', 'Quarantine'),
    ]

    batch_number = models.CharField(max_length=50, unique=True)
    lot_number = models.CharField(max_length=50)
    product = models.ForeignKey('Product', on_delete=models.CASCADE)
    status = models.CharField(max_length=20, choices=STATUS_CHOICES, default='created')

    initial_quantity = models.PositiveIntegerField()
    current_quantity = models.PositiveIntegerField()
    rejected_quantity = models.PositiveIntegerField(default=0)
    unit = models.CharField(max_length=20, default='units')

    manufactured_date = models.DateField()
    expiry_date = models.DateField(null=True, blank=True)

    location = models.ForeignKey('Location', on_delete=models.SET_NULL, null=True)

    parent_batches = models.ManyToManyField('self', symmetrical=False, related_name='child_batches', blank=True)

    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)

    class Meta:
        ordering = ['-created_at']
        verbose_name_plural = 'Batches'

    def __str__(self):
        return self.batch_number

    @property
    def yield_percentage(self):
        if self.initial_quantity == 0:
            return 0
        return round((self.current_quantity / self.initial_quantity) * 100, 1)

    @property
    def days_until_expiry(self):
        if not self.expiry_date:
            return None
        from datetime import date
        return (self.expiry_date - date.today()).days


class BatchHistory(models.Model):
    batch = models.ForeignKey(Batch, on_delete=models.CASCADE, related_name='history')
    action = models.CharField(max_length=200)
    user = models.ForeignKey(User, on_delete=models.SET_NULL, null=True)
    details = models.TextField(blank=True)
    timestamp = models.DateTimeField(auto_now_add=True)

    class Meta:
        ordering = ['-timestamp']


class BatchTraceLink(models.Model):
    LINK_TYPES = [
        ('po', 'Production Order'),
        ('qc', 'QC Report'),
        ('coa', 'Certificate of Analysis'),
        ('shipment', 'Shipment'),
    ]

    batch = models.ForeignKey(Batch, on_delete=models.CASCADE, related_name='trace_links')
    link_type = models.CharField(max_length=20, choices=LINK_TYPES)
    reference = models.CharField(max_length=50)
    url = models.URLField(blank=True)


class Location(models.Model):
    name = models.CharField(max_length=100)
    zone = models.CharField(max_length=50, blank=True)
    shelf = models.CharField(max_length=50, blank=True)
    bin = models.CharField(max_length=50, blank=True)

    def __str__(self):
        parts = [self.name]
        if self.zone: parts.append(self.zone)
        if self.shelf: parts.append(self.shelf)
        return ' - '.join(parts)</pre>
    </div>

    <ux-playground src="pages/batch-tracker/examples/modelo-django.html"></ux-playground>
      <div class="demo-box">
      <h4 style="margin-bottom: var(--ux-space-md);">Vista Django</h4>
      <pre class="ux-code-block" data-lang="python"># views.py
from django.shortcuts import render, get_object_or_404
from django.http import HttpResponse
from .models import Batch, BatchHistory

def batch_list(request):
    """Lista de batches con busqueda."""
    query = request.GET.get('q', '')
    batches = Batch.objects.select_related('product', 'location')

    if query:
        batches = batches.filter(
            models.Q(batch_number__icontains=query) |
            models.Q(lot_number__icontains=query) |
            models.Q(product__name__icontains=query) |
            models.Q(product__sku__icontains=query)
        )

    batches = batches[:50]

    if request.headers.get('HX-Request'):
        return render(request, 'batches/partials/batch_list.html', {'batches': batches})

    return render(request, 'batches/batch_list.html', {'batches': batches, 'query': query})


def batch_detail(request, pk):
    """Detalle de un batch."""
    batch = get_object_or_404(
        Batch.objects.select_related('product', 'location')
        .prefetch_related('history', 'trace_links', 'parent_batches', 'child_batches'),
        pk=pk
    )

    if request.headers.get('HX-Request'):
        return render(request, 'batches/partials/batch_card.html', {'batch': batch})

    return render(request, 'batches/batch_detail.html', {'batch': batch})


def batch_update_status(request, pk):
    """Actualizar estado del batch via HTMX."""
    batch = get_object_or_404(Batch, pk=pk)
    new_status = request.POST.get('status')

    if new_status and new_status in dict(Batch.STATUS_CHOICES):
        old_status = batch.status
        batch.status = new_status
        batch.save()

        BatchHistory.objects.create(
            batch=batch,
            action=f'Status changed from {old_status} to {new_status}',
            user=request.user if request.user.is_authenticated else None
        )

    return render(request, 'batches/partials/batch_status.html', {'batch': batch})


def batch_timeline(request, pk):
    """Timeline de un batch."""
    batch = get_object_or_404(Batch, pk=pk)
    return render(request, 'batches/partials/batch_timeline.html', {'batch': batch})</pre>
    </div>

    <ux-playground src="pages/batch-tracker/examples/vista-django.html"></ux-playground>
      <div class="demo-box">
      <h4 style="margin-bottom: var(--ux-space-md);">Template Django con HTMX</h4>
      <pre class="ux-code-block" data-lang="html">&lt;!-- templates/batches/batch_detail.html --&gt;
{% extends 'base.html' %}

{% block content %}
&lt;div class="ux-batch-card"&gt;
  &lt;div class="ux-batch-card__header"&gt;
    &lt;div class="ux-batch-card__title-group"&gt;
      &lt;h2 class="ux-batch-card__batch-number"&gt;{{ batch.batch_number }}&lt;/h2&gt;
      &lt;p class="ux-batch-card__product-name"&gt;{{ batch.product.name }}&lt;/p&gt;
    &lt;/div&gt;
    &lt;div class="ux-batch-card__qr"&gt;
      &lt;img src="{% url 'batch_qr' batch.pk %}" alt="QR Code"&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;div class="ux-batch-card__body"&gt;
    &lt;!-- Status (HTMX) --&gt;
    &lt;div id="batch-status"
         hx-get="{% url 'batch_status' batch.pk %}"
         hx-trigger="batch:status-updated from:body"&gt;
      {% include "batches/partials/batch_status.html" %}
    &lt;/div&gt;

    &lt;!-- Info Grid --&gt;
    &lt;div class="ux-batch-info"&gt;
      &lt;div class="ux-batch-info__item"&gt;
        &lt;span class="ux-batch-info__label"&gt;Lot Number&lt;/span&gt;
        &lt;span class="ux-batch-info__value ux-batch-info__value--mono"&gt;{{ batch.lot_number }}&lt;/span&gt;
      &lt;/div&gt;
      &lt;div class="ux-batch-info__item"&gt;
        &lt;span class="ux-batch-info__label"&gt;Manufactured&lt;/span&gt;
        &lt;span class="ux-batch-info__value"&gt;{{ batch.manufactured_date|date:"d M Y" }}&lt;/span&gt;
      &lt;/div&gt;
      &lt;div class="ux-batch-info__item"&gt;
        &lt;span class="ux-batch-info__label"&gt;Expiry&lt;/span&gt;
        &lt;span class="ux-batch-info__value"&gt;{{ batch.expiry_date|date:"d M Y" }}&lt;/span&gt;
      &lt;/div&gt;
      &lt;div class="ux-batch-info__item"&gt;
        &lt;span class="ux-batch-info__label"&gt;Location&lt;/span&gt;
        &lt;span class="ux-batch-info__value"&gt;{{ batch.location }}&lt;/span&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;!-- Quantity Tracking --&gt;
    &lt;div class="ux-batch-quantity"&gt;
      &lt;div class="ux-batch-quantity__header"&gt;
        &lt;span class="ux-batch-quantity__title"&gt;Quantity Tracking&lt;/span&gt;
      &lt;/div&gt;
      &lt;div class="ux-batch-quantity__values"&gt;
        &lt;div class="ux-batch-quantity__stat"&gt;
          &lt;span class="ux-batch-quantity__stat-value ux-batch-quantity__stat-value--initial"&gt;
            {{ batch.initial_quantity }}
          &lt;/span&gt;
          &lt;span class="ux-batch-quantity__stat-label"&gt;Initial&lt;/span&gt;
        &lt;/div&gt;
        &lt;div class="ux-batch-quantity__stat"&gt;
          &lt;span class="ux-batch-quantity__stat-value ux-batch-quantity__stat-value--current"&gt;
            {{ batch.current_quantity }}
          &lt;/span&gt;
          &lt;span class="ux-batch-quantity__stat-label"&gt;Current&lt;/span&gt;
        &lt;/div&gt;
        &lt;div class="ux-batch-quantity__stat"&gt;
          &lt;span class="ux-batch-quantity__stat-value ux-batch-quantity__stat-value--rejected"&gt;
            {{ batch.rejected_quantity }}
          &lt;/span&gt;
          &lt;span class="ux-batch-quantity__stat-label"&gt;Rejected&lt;/span&gt;
        &lt;/div&gt;
        &lt;div class="ux-batch-quantity__stat"&gt;
          &lt;span class="ux-batch-quantity__stat-value ux-batch-quantity__stat-value--yield"&gt;
            {{ batch.yield_percentage }}%
          &lt;/span&gt;
          &lt;span class="ux-batch-quantity__stat-label"&gt;Yield&lt;/span&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      &lt;div class="ux-batch-quantity__bar"&gt;
        &lt;div class="ux-batch-quantity__bar-segment ux-batch-quantity__bar-segment--good"
             style="width: {{ batch.yield_percentage }}%"&gt;&lt;/div&gt;
        {% with rejected_pct=batch.rejected_quantity|divide:batch.initial_quantity|multiply:100 %}
        &lt;div class="ux-batch-quantity__bar-segment ux-batch-quantity__bar-segment--rejected"
             style="width: {{ rejected_pct }}%"&gt;&lt;/div&gt;
        {% endwith %}
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;!-- Timeline (HTMX) --&gt;
    &lt;div id="batch-timeline"
         hx-get="{% url 'batch_timeline' batch.pk %}"
         hx-trigger="load"
         hx-swap="innerHTML"&gt;
      &lt;div class="ux-spinner"&gt;&lt;/div&gt;
    &lt;/div&gt;

    &lt;!-- History Log (HTMX) --&gt;
    &lt;div class="ux-batch-history"&gt;
      &lt;div class="ux-batch-history__title"&gt;Activity Log&lt;/div&gt;
      &lt;div id="batch-history"
           class="ux-batch-history__list"
           hx-get="{% url 'batch_history' batch.pk %}"
           hx-trigger="load, batch:history-updated from:body"
           hx-swap="innerHTML"&gt;
        &lt;div class="ux-spinner"&gt;&lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;div class="ux-batch-card__footer"&gt;
    &lt;span style="font-size: var(--ux-font-size-xs); color: var(--ux-text-tertiary);"&gt;
      Created: {{ batch.created_at|date:"d M Y, H:i" }}
    &lt;/span&gt;
    &lt;div style="display: flex; gap: var(--ux-space-sm);"&gt;
      &lt;button class="ux-button ux-button--sm ux-button--outline"
              hx-get="{% url 'batch_print' batch.pk %}"
              hx-target="#print-modal .ux-modal__content"
              @click="$dispatch('open-modal', 'print')"&gt;
        Print Label
      &lt;/button&gt;
      &lt;button class="ux-button ux-button--sm ux-color-primary"
              hx-get="{% url 'batch_edit' batch.pk %}"
              hx-target="#edit-modal .ux-modal__content"
              @click="$dispatch('open-modal', 'edit')"&gt;
        Edit
      &lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
{% endblock %}</pre>
    </div>

    <ux-playground src="pages/batch-tracker/examples/template-django-con-htmx.html"></ux-playground>
      <div class="demo-box">
      <h4 style="margin-bottom: var(--ux-space-md);">URLs Django</h4>
      <pre class="ux-code-block" data-lang="python"># urls.py
from django.urls import path
from . import views

urlpatterns = [
    path('batches/', views.batch_list, name='batch_list'),
    path('batches/<int:pk>/', views.batch_detail, name='batch_detail'),
    path('batches/<int:pk>/status/', views.batch_update_status, name='batch_status'),
    path('batches/<int:pk>/timeline/', views.batch_timeline, name='batch_timeline'),
    path('batches/<int:pk>/history/', views.batch_history, name='batch_history'),
    path('batches/<int:pk>/qr/', views.batch_qr, name='batch_qr'),
    path('batches/<int:pk>/print/', views.batch_print, name='batch_print'),
    path('batches/<int:pk>/edit/', views.batch_edit, name='batch_edit'),
]</pre>
    </div>
  </div>