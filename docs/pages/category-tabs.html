<style>
    .demo-section { margin-bottom: var(--ux-space-xl); }
    .demo-section h3 { font-size: var(--ux-font-size-lg); font-weight: 600; margin-bottom: var(--ux-space-md); }
    .demo-section p { font-size: var(--ux-font-size-md); color: var(--ux-text-secondary); margin-bottom: var(--ux-space-md); }
    .demo-box { background: var(--ux-surface-secondary); border-radius: var(--ux-border-radius-lg); margin-bottom: var(--ux-space-md); overflow: hidden; }
  </style>

<h2 style="margin-bottom: var(--ux-space-lg);">Category Tabs</h2>
    <p style="color: var(--ux-text-secondary); margin-bottom: var(--ux-space-xl);">Tabs de categorias con scroll horizontal, ideal para sistemas POS y navegacion por categorias de productos.</p>

    <section class="component-section">
      <h3>Basico (CSS-only)</h3>
      <p>Tabs simples con scroll horizontal.</p>
      <ux-playground src="examples/category-tabs/basico-css-only.html"></ux-playground>
      <div class="demo-box">
        <div class="ux-category-tabs ux-category-tabs--bordered">
          <button class="ux-category-tabs__item ux-category-tabs__item--active">
            <span class="ux-category-tabs__label">All</span>
          </button>
          <button class="ux-category-tabs__item">
            <span class="ux-category-tabs__label">Beverages</span>
          </button>
          <button class="ux-category-tabs__item">
            <span class="ux-category-tabs__label">Food</span>
          </button>
          <button class="ux-category-tabs__item">
            <span class="ux-category-tabs__label">Desserts</span>
          </button>
          <button class="ux-category-tabs__item">
            <span class="ux-category-tabs__label">Snacks</span>
          </button>
        </div>
      </div>
      <pre class="ux-code-block" data-lang="html"><div class="ux-category-tabs ux-category-tabs--bordered">
  <button class="ux-category-tabs__item ux-category-tabs__item--active">
    <span class="ux-category-tabs__label">All</span>
  </button>
  <button class="ux-category-tabs__item">...</button>
</div></pre>
    </section>

    <section class="component-section">
      <h3>Con Iconos</h3>
      <ux-playground src="examples/category-tabs/con-iconos.html"></ux-playground>
      <div class="demo-box">
        <div class="ux-category-tabs ux-category-tabs--bordered">
          <button class="ux-category-tabs__item ux-category-tabs__item--active">
            <span class="ux-category-tabs__icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></svg>
            </span>
            <span class="ux-category-tabs__label">All</span>
          </button>
          <button class="ux-category-tabs__item">
            <span class="ux-category-tabs__icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 8h1a4 4 0 0 1 0 8h-1"/><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"/><line x1="6" y1="1" x2="6" y2="4"/><line x1="10" y1="1" x2="10" y2="4"/><line x1="14" y1="1" x2="14" y2="4"/></svg>
            </span>
            <span class="ux-category-tabs__label">Coffee</span>
          </button>
          <button class="ux-category-tabs__item">
            <span class="ux-category-tabs__icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/></svg>
            </span>
            <span class="ux-category-tabs__label">Pastries</span>
          </button>
        </div>
      </div>
    </section>

    <section class="component-section">
      <h3>Pill Variant</h3>
      <p>Estilo pill con fondo redondeado.</p>
      <ux-playground src="examples/category-tabs/pill-variant.html"></ux-playground>
      <div class="demo-box" style="padding: var(--ux-space-md);">
        <div class="ux-category-tabs ux-category-tabs--pill">
          <button class="ux-category-tabs__item ux-category-tabs__item--active">
            <span class="ux-category-tabs__label">All Items</span>
          </button>
          <button class="ux-category-tabs__item">
            <span class="ux-category-tabs__label">Breakfast</span>
          </button>
          <button class="ux-category-tabs__item">
            <span class="ux-category-tabs__label">Lunch</span>
          </button>
          <button class="ux-category-tabs__item">
            <span class="ux-category-tabs__label">Dinner</span>
          </button>
        </div>
      </div>
      <pre class="ux-code-block" data-lang="html"><div class="ux-category-tabs ux-category-tabs--pill">
  <button class="ux-category-tabs__item ux-category-tabs__item--active">...</button>
  <button class="ux-category-tabs__item">...</button>
</div></pre>
    </section>

    <section class="component-section">
      <h3>Glass Variant</h3>
      <ux-playground src="examples/category-tabs/glass-variant.html"></ux-playground>
      <div class="demo-box" style="background: var(--ux-demo-gradient); padding: var(--ux-space-lg);">
        <div class="ux-category-tabs ux-category-tabs--glass">
          <button class="ux-category-tabs__item ux-category-tabs__item--active">
            <span class="ux-category-tabs__label">All</span>
          </button>
          <button class="ux-category-tabs__item">
            <span class="ux-category-tabs__label">Popular</span>
          </button>
          <button class="ux-category-tabs__item">
            <span class="ux-category-tabs__label">New</span>
          </button>
          <button class="ux-category-tabs__item">
            <span class="ux-category-tabs__label">Sale</span>
          </button>
        </div>
      </div>
    </section>

    <section class="component-section">
      <h3>Sizes</h3>
      <ux-playground src="examples/category-tabs/sizes.html"></ux-playground>
      <div class="demo-box" style="flex-direction: column; display: flex; gap: var(--ux-space-md);">
        <div class="ux-category-tabs ux-category-tabs--bordered ux-category-tabs--sm">
          <button class="ux-category-tabs__item ux-category-tabs__item--active">Small</button>
          <button class="ux-category-tabs__item">Tab</button>
          <button class="ux-category-tabs__item">Items</button>
        </div>
        <div class="ux-category-tabs ux-category-tabs--bordered">
          <button class="ux-category-tabs__item ux-category-tabs__item--active">Default</button>
          <button class="ux-category-tabs__item">Tab</button>
          <button class="ux-category-tabs__item">Items</button>
        </div>
        <div class="ux-category-tabs ux-category-tabs--bordered ux-category-tabs--lg">
          <button class="ux-category-tabs__item ux-category-tabs__item--active">Large</button>
          <button class="ux-category-tabs__item">Tab</button>
          <button class="ux-category-tabs__item">Items</button>
        </div>
      </div>
    </section>

    <section class="component-section">
      <h3>Con Alpine.js (Dinamico)</h3>
      <ux-playground src="examples/category-tabs/con-alpinejs-dinamico.html"></ux-playground>
      <div class="demo-box"
           x-data="uxCategoryTabs({
             categories: [
               { id: 'all', label: 'All Products' },
               { id: 'drinks', label: 'Drinks' },
               { id: 'food', label: 'Food' },
               { id: 'desserts', label: 'Desserts' },
               { id: 'specials', label: 'Specials' }
             ]
           })"
           @category-change="console.log('Selected:', $event.detail)">
        <div class="ux-category-tabs ux-category-tabs--indicator ux-category-tabs--bordered" x-ref="container">
          <template x-for="cat in categories" :key="cat.id">
            <button class="ux-category-tabs__item"
                    :class="{ 'ux-category-tabs__item--active': isActive(cat.id) }"
                    @click="selectTab(cat.id)">
              <span class="ux-category-tabs__label" x-text="cat.label"></span>
            </button>
          </template>
          <div class="ux-category-tabs__indicator" :style="indicatorStyle"></div>
        </div>
        <div style="padding: var(--ux-space-md); text-align: center; color: var(--ux-text-secondary);">
          Selected: <strong x-text="activeCategory?.label || 'None'"></strong>
        </div>
      </div>
      <pre class="ux-code-block" data-lang="html"><div x-data="uxCategoryTabs({ categories: [...] })">
  <div class="ux-category-tabs ux-category-tabs--indicator" x-ref="container">
    <template x-for="cat in categories">
      <button :class="{ 'ux-category-tabs__item--active': isActive(cat.id) }"
              @click="selectTab(cat.id)">
        <span x-text="cat.label"></span>
      </button>
    </template>
    <div class="ux-category-tabs__indicator" :style="indicatorStyle"></div>
  </div>
</div></pre>
    </section>

    <section class="component-section">
      <h3>HTMX + Django</h3>
      <p>Integracion con HTMX y Django para filtrado de productos por categoria sin recargar la pagina.</p>

      <h4 style="margin-top: var(--ux-space-lg); margin-bottom: var(--ux-space-sm); font-weight: 500;">Template Django con HTMX</h4>
      <pre class="ux-code-block" data-lang="html"><!-- templates/products/category_tabs.html -->
<div class="ux-category-tabs ux-category-tabs--bordered">
  <button class="ux-category-tabs__item {% if not selected_category %}ux-category-tabs__item--active{% endif %}"
          hx-get="{% url 'products:list' %}"
          hx-target="#products-grid"
          hx-swap="innerHTML"
          hx-push-url="true">
    <span class="ux-category-tabs__label">Todos</span>
  </button>
  {% for category in categories %}
  <button class="ux-category-tabs__item {% if selected_category.id == category.id %}ux-category-tabs__item--active{% endif %}"
          hx-get="{% url 'products:list' %}?category={{ category.slug }}"
          hx-target="#products-grid"
          hx-swap="innerHTML"
          hx-push-url="true">
    {% if category.icon %}
    <span class="ux-category-tabs__icon">{{ category.icon|safe }}</span>
    {% endif %}
    <span class="ux-category-tabs__label">{{ category.name }}</span>
    {% if category.product_count %}
    <span class="ux-category-tabs__badge">{{ category.product_count }}</span>
    {% endif %}
  </button>
  {% endfor %}
</div>

<div id="products-grid" class="products-grid">
  {% include "products/partials/product_list.html" %}
</div></pre>

      <h4 style="margin-top: var(--ux-space-lg); margin-bottom: var(--ux-space-sm); font-weight: 500;">Vista Django</h4>
      <pre class="ux-code-block" data-lang="python"># views.py
from django.shortcuts import render
from django.db.models import Count
from .models import Product, Category

def product_list(request):
    category_slug = request.GET.get('category')
    categories = Category.objects.annotate(
        product_count=Count('products')
    ).filter(is_active=True)

    products = Product.objects.filter(is_active=True)
    selected_category = None

    if category_slug:
        selected_category = categories.filter(slug=category_slug).first()
        if selected_category:
            products = products.filter(category=selected_category)

    context = {
        'products': products,
        'categories': categories,
        'selected_category': selected_category,
    }

    # Retornar solo el partial para peticiones HTMX
    if request.headers.get('HX-Request'):
        return render(request, 'products/partials/product_list.html', context)

    return render(request, 'products/list.html', context)</pre>

      <h4 style="margin-top: var(--ux-space-lg); margin-bottom: var(--ux-space-sm); font-weight: 500;">Con indicador de carga</h4>
      <pre class="ux-code-block" data-lang="html"><!-- Tabs con indicador de carga HTMX -->
<div class="ux-category-tabs ux-category-tabs--pill">
  {% for category in categories %}
  <button class="ux-category-tabs__item {% if selected == category.id %}ux-category-tabs__item--active{% endif %}"
          hx-get="{% url 'products:filter' category.id %}"
          hx-target="#products-container"
          hx-indicator="#loading-spinner"
          hx-on::before-request="this.closest('.ux-category-tabs').querySelectorAll('.ux-category-tabs__item').forEach(el => el.classList.remove('ux-category-tabs__item--active')); this.classList.add('ux-category-tabs__item--active')">
    <span class="ux-category-tabs__label">{{ category.name }}</span>
  </button>
  {% endfor %}
</div>

<!-- Spinner de carga -->
<div id="loading-spinner" class="htmx-indicator" style="text-align: center; padding: var(--ux-space-lg);">
  <div class="ux-spinner"></div>
</div>

<div id="products-container">
  {% include "products/partials/grid.html" %}
</div></pre>

      <h4 style="margin-top: var(--ux-space-lg); margin-bottom: var(--ux-space-sm); font-weight: 500;">POS con multiples filtros</h4>
      <pre class="ux-code-block" data-lang="html"><!-- Sistema POS con categorias y subcategorias -->
<div x-data="{ activeCategory: '{{ selected_category.id|default:"all" }}' }">
  <!-- Categorias principales -->
  <div class="ux-category-tabs ux-category-tabs--bordered">
    <button class="ux-category-tabs__item"
            :class="{ 'ux-category-tabs__item--active': activeCategory === 'all' }"
            @click="activeCategory = 'all'"
            hx-get="{% url 'pos:products' %}"
            hx-target="#pos-products"
            hx-swap="innerHTML">
      <span class="ux-category-tabs__icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/>
          <rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/>
        </svg>
      </span>
      <span class="ux-category-tabs__label">Todo</span>
    </button>
    {% for cat in categories %}
    <button class="ux-category-tabs__item"
            :class="{ 'ux-category-tabs__item--active': activeCategory === '{{ cat.id }}' }"
            @click="activeCategory = '{{ cat.id }}'"
            hx-get="{% url 'pos:products' %}?category={{ cat.id }}"
            hx-target="#pos-products"
            hx-swap="innerHTML">
      {% if cat.icon %}
      <span class="ux-category-tabs__icon">{{ cat.icon|safe }}</span>
      {% endif %}
      <span class="ux-category-tabs__label">{{ cat.name }}</span>
    </button>
    {% endfor %}
  </div>

  <!-- Grid de productos -->
  <div id="pos-products" class="pos-products-grid">
    {% include "pos/partials/products.html" %}
  </div>
</div></pre>

      <h4 style="margin-top: var(--ux-space-lg); margin-bottom: var(--ux-space-sm); font-weight: 500;">URLs Django</h4>
      <pre class="ux-code-block" data-lang="python"># urls.py
from django.urls import path
from . import views

app_name = 'products'

urlpatterns = [
    path('', views.product_list, name='list'),
    path('filter/<int:category_id>/', views.filter_by_category, name='filter'),
]

# Para POS
app_name = 'pos'

urlpatterns = [
    path('products/', views.pos_products, name='products'),
]</pre>
    </section>