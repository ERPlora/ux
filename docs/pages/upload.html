<style>
  .demo-section { margin-bottom: var(--ux-space-xl); padding: var(--ux-space-lg); }
  .demo-section h3 { font-size: var(--ux-font-size-lg); font-weight: 600; margin-bottom: var(--ux-space-md); color: var(--ux-text); }
  .demo-section p { font-size: var(--ux-font-size-md); color: var(--ux-text-secondary); margin-bottom: var(--ux-space-md); }
  .demo-box { padding: var(--ux-space-xl); background: var(--ux-surface); border-radius: var(--ux-border-radius-lg); border: 1px solid var(--ux-border-color); margin-bottom: var(--ux-space-md); }
  .ux-table { width: 100%; border-collapse: collapse; margin-bottom: var(--ux-space-lg); }
  .ux-table th, .ux-table td { padding: var(--ux-space-sm) var(--ux-space-md); text-align: left; border-bottom: 1px solid var(--ux-border-color); }
  .ux-table th { font-weight: 600; color: var(--ux-text); background: var(--ux-surface-secondary); }
  .ux-table td { color: var(--ux-text-secondary); }
  .ux-table code { background: var(--ux-surface-secondary); padding: 2px 6px; border-radius: 4px; font-size: var(--ux-font-size-sm); }
</style>

<nav class="ux-navbar">
  <div class="ux-navbar__content">
    <div class="ux-navbar__start">
      <a href="index.html" class="ux-button ux-button--clear ux-button--sm">← Back</a>
    </div>
    <div class="ux-navbar__center">
      <h1 class="ux-navbar__title">Upload</h1>
    </div>
    <div class="ux-navbar__end"></div>
  </div>
</nav>

<main class="ux-padding">
  <!-- Introduccion -->
  <div class="demo-section">
    <h3>File Upload</h3>
    <p>Componente para subir archivos con soporte para drag & drop, previews y barra de progreso.</p>
  </div>

  <!-- Upload Basico (Vanilla JS) -->
  <section class="component-section">
    <h3>Upload Basico (Vanilla JS)</h3>
    <p>Usando <code>data-ux-upload</code> - funciona sin Alpine.js</p>
    <ux-playground src="examples/upload/basico-vanilla.html"></ux-playground>
  </section>

  <!-- Upload Basico (Alpine.js) -->
  <section class="component-section">
    <h3>Upload Basico (Alpine.js)</h3>
    <p>Zona de drop con click para seleccionar archivos.</p>
    <ux-playground src="examples/upload/basico-alpine.html"></ux-playground>
  </section>

  <!-- Upload Compacto -->
  <section class="component-section">
    <h3>Upload Compacto</h3>
    <p>Version mas pequena para espacios reducidos.</p>
    <ux-playground src="examples/upload/compacto.html"></ux-playground>
  </section>

  <!-- Upload Button -->
  <section class="component-section">
    <h3>Upload Button</h3>
    <p>Estilo de boton para subir archivos.</p>
    <ux-playground src="examples/upload/boton.html"></ux-playground>
  </section>

  <!-- Image Upload Button (CSS-only) -->
  <section class="component-section">
    <h3>Image Upload Button (CSS-only)</h3>
    <p>Boton simple con preview para subir imagenes. No requiere Alpine.js.</p>
    <ux-playground src="examples/upload/image-button-css.html"></ux-playground>

    <h4 style="margin-top: var(--ux-space-xl);">Preview Sizes</h4>
    <ux-playground src="examples/upload/preview-sizes.html"></ux-playground>
  </section>

  <!-- Upload Area (CSS-only) -->
  <section class="component-section">
    <h3>Upload Area (CSS-only)</h3>
    <p>Zona de drop para archivos. No requiere Alpine.js para estilos basicos.</p>
    <ux-playground src="examples/upload/area-css.html"></ux-playground>

    <h4 style="margin-top: var(--ux-space-xl);">Area Sizes</h4>
    <ux-playground src="examples/upload/area-sizes.html"></ux-playground>
  </section>

  <!-- Avatar Upload -->
  <section class="component-section">
    <h3>Avatar Upload</h3>
    <p>Upload circular para fotos de perfil.</p>
    <ux-playground src="examples/upload/avatar.html"></ux-playground>
  </section>

  <!-- Grid Preview -->
  <section class="component-section">
    <h3>Grid Preview</h3>
    <p>Vista en grid para multiples imagenes.</p>
    <ux-playground src="examples/upload/grid-preview.html"></ux-playground>
  </section>

  <!-- API Reference -->
  <section class="component-section">
    <h3>API Alpine.js</h3>
    <div class="demo-box">
      <pre class="ux-code-block" data-lang="javascript" style="margin-top: 0;">// Configuración
uxUpload({
  multiple: true,           // Permitir múltiples archivos
  accept: '*/*',            // Tipos MIME aceptados
  maxSize: 10485760,        // Tamaño máximo (10MB)
  maxFiles: 10,             // Máximo de archivos
  autoUpload: false,        // Subir automáticamente
  uploadUrl: ''             // URL para upload
})

// Propiedades
files            // Array de archivos
isDragover       // Estado de drag over
isLoading        // Estado de carga
error            // Mensaje de error
hasFiles         // ¿Hay archivos?
pendingFiles     // Archivos pendientes
uploadingFiles   // Archivos subiendo
completedFiles   // Archivos completados
failedFiles      // Archivos fallidos
totalProgress    // Progreso total (0-100)

// Métodos
browse()                    // Abrir selector de archivos
handleFiles(FileList)       // Procesar archivos
uploadFile(fileObj)         // Subir un archivo
uploadAll()                 // Subir todos los pendientes
removeFile(id)              // Eliminar archivo
clearFiles()                // Limpiar todos
retryFile(id)               // Reintentar upload fallido

// Utilidades
formatSize(bytes)           // Formatear tamaño (ej: "1.5 MB")
getFileIcon(mimeType)       // Obtener icono SVG

// Drag handlers (usar en dropzone)
onDragEnter(event)
onDragOver(event)
onDragLeave(event)
onDrop(event)</pre>
    </div>
  </section>

  <!-- HTMX Integration -->
  <section class="component-section">
    <h3>Integracion con HTMX</h3>
    <p>El componente upload funciona perfectamente con HTMX para enviar archivos al servidor sin JavaScript adicional.</p>

    <h4 style="margin-top: var(--ux-space-lg); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">Upload Simple con HTMX</h4>
    <p>Formulario de upload que envia archivos directamente al servidor.</p>
    <ux-playground src="examples/upload/htmx-simple.html"></ux-playground>

    <h4 style="margin-top: var(--ux-space-xl); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">Upload Automatico al Seleccionar</h4>
    <p>Subir archivo automaticamente cuando el usuario lo selecciona.</p>
    <ux-playground src="examples/upload/htmx-auto.html"></ux-playground>

    <h4 style="margin-top: var(--ux-space-xl); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">Upload con Preview y Confirmacion</h4>
    <p>Mostrar preview antes de subir, luego confirmar con HTMX.</p>
    <ux-playground src="examples/upload/htmx-preview.html"></ux-playground>

    <h4 style="margin-top: var(--ux-space-xl); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">Upload de Producto con Formulario</h4>
    <p>Formulario completo con imagen y datos del producto.</p>
    <ux-playground src="examples/upload/htmx-formulario.html"></ux-playground>

    <h4 style="margin-top: var(--ux-space-xl); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">Galeria con Upload Multiple</h4>
    <p>Subir multiples imagenes y mostrar galeria actualizada.</p>
    <ux-playground src="examples/upload/htmx-galeria.html"></ux-playground>

    <h4 style="margin-top: var(--ux-space-xl); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">Eliminar Archivo del Servidor</h4>
    <p>Lista de archivos con opcion de eliminar via HTMX.</p>
    <ux-playground src="examples/upload/htmx-eliminar.html"></ux-playground>
  </section>

  <!-- HTMX + Django -->
  <section class="component-section">
    <h3>HTMX + Django</h3>
    <p>Ejemplos de integracion con Django para subir archivos con HTMX, incluyendo validacion y progreso.</p>

    <h4 style="margin-top: var(--ux-space-lg); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">Upload con Barra de Progreso</h4>
    <p>Formulario de upload con indicador de progreso usando HTMX y Alpine.js.</p>
    <ux-code src="examples/upload/django-progreso.html" lang="html"></ux-code>

    <h4 style="margin-top: var(--ux-space-xl); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">Vista Django para Manejar Uploads</h4>
    <p>Vista Django que procesa archivos, valida tipo y tamano, y devuelve respuestas HTML parciales para HTMX.</p>
    <ux-code src="examples/upload/django-views.html" lang="python"></ux-code>

    <h4 style="margin-top: var(--ux-space-xl); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">Validacion de Tipo y Tamano (Cliente)</h4>
    <p>Validacion en el cliente antes de enviar al servidor usando Alpine.js.</p>
    <ux-code src="examples/upload/django-validacion-cliente.html" lang="html"></ux-code>

    <h4 style="margin-top: var(--ux-space-xl); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">URLs Django</h4>
    <p>Configuracion de URLs para las vistas de upload.</p>
    <ux-code src="examples/upload/django-urls.html" lang="python"></ux-code>

    <h4 style="margin-top: var(--ux-space-xl); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">Vista de Upload con Modelo</h4>
    <p>Ejemplo completo con modelo Django y formulario.</p>
    <ux-code src="examples/upload/django-models.html" lang="python"></ux-code>
  </section>

  <!-- Referencia de Clases -->
  <section class="component-section">
    <h3>Referencia de Clases</h3>
    <table class="ux-table">
      <thead>
        <tr>
          <th>Clase</th>
          <th>Descripcion</th>
        </tr>
      </thead>
      <tbody>
        <tr><td><code>.ux-upload</code></td><td>Contenedor principal</td></tr>
        <tr><td><code>.ux-upload--compact</code></td><td>Version compacta horizontal</td></tr>
        <tr><td><code>.ux-upload--button</code></td><td>Estilo boton</td></tr>
        <tr><td><code>.ux-upload--avatar</code></td><td>Circular para avatar</td></tr>
        <tr><td><code>.ux-upload--grid</code></td><td>Preview en grid</td></tr>
        <tr><td><code>.ux-upload--dragover</code></td><td>Estado drag over</td></tr>
        <tr><td><code>.ux-upload__dropzone</code></td><td>Zona de drop</td></tr>
        <tr><td><code>.ux-upload__files</code></td><td>Lista de archivos</td></tr>
        <tr><td><code>.ux-upload__file</code></td><td>Item de archivo</td></tr>
        <tr><td><code>.ux-upload__file--error</code></td><td>Archivo con error</td></tr>
        <tr><td><code>.ux-upload__file--success</code></td><td>Archivo subido exitosamente</td></tr>
        <tr><td><code>.ux-upload__preview</code></td><td>Preview del archivo</td></tr>
        <tr><td><code>.ux-upload__progress</code></td><td>Barra de progreso</td></tr>
      </tbody>
    </table>

    <h4>Image Upload Button (CSS-only)</h4>
    <table class="ux-table">
      <thead>
        <tr><th>Clase</th><th>Descripcion</th></tr>
      </thead>
      <tbody>
        <tr><td><code>.ux-upload-image</code></td><td>Contenedor boton + preview</td></tr>
        <tr><td><code>.ux-upload-image__preview</code></td><td>Caja de preview (64px)</td></tr>
        <tr><td><code>.ux-upload-image__preview--sm</code></td><td>Preview pequeno (48px)</td></tr>
        <tr><td><code>.ux-upload-image__preview--lg</code></td><td>Preview grande (80px)</td></tr>
        <tr><td><code>.ux-upload-image__preview--rounded</code></td><td>Preview circular</td></tr>
        <tr><td><code>.ux-upload-image__button</code></td><td>Label que oculta el input</td></tr>
      </tbody>
    </table>

    <h4>Upload Area (CSS-only)</h4>
    <table class="ux-table">
      <thead>
        <tr><th>Clase</th><th>Descripcion</th></tr>
      </thead>
      <tbody>
        <tr><td><code>.ux-upload-area</code></td><td>Zona de drop (label)</td></tr>
        <tr><td><code>.ux-upload-area--sm</code></td><td>Area pequena (120px)</td></tr>
        <tr><td><code>.ux-upload-area--lg</code></td><td>Area grande (240px)</td></tr>
        <tr><td><code>.ux-upload-area--dragover</code></td><td>Estado drag over</td></tr>
        <tr><td><code>.ux-upload-area--disabled</code></td><td>Estado deshabilitado</td></tr>
        <tr><td><code>.ux-upload-area--error</code></td><td>Estado error</td></tr>
        <tr><td><code>.ux-upload-area__icon</code></td><td>Icono central</td></tr>
        <tr><td><code>.ux-upload-area__text</code></td><td>Texto principal</td></tr>
        <tr><td><code>.ux-upload-area__hint</code></td><td>Texto secundario (formatos)</td></tr>
        <tr><td><code>.ux-upload-area__link</code></td><td>Enlace "browse" destacado</td></tr>
      </tbody>
    </table>
  </section>

</main>
