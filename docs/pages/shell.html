<style>
    .demo-section { margin-bottom: var(--ux-space-xl); }
    .demo-section h3 { font-size: var(--ux-font-size-lg); font-weight: 600; margin-bottom: var(--ux-space-md); }
    .demo-section p { font-size: var(--ux-font-size-md); color: var(--ux-text-secondary); margin-bottom: var(--ux-space-md); }
    .demo-box { background: var(--ux-surface); border-radius: var(--ux-border-radius-lg); overflow: hidden; margin-bottom: var(--ux-space-md); border: 1px solid var(--ux-border-color); }
    .demo-frame { height: 400px; position: relative; background: var(--ux-surface-secondary); }
    .demo-frame--tall { height: 500px; }
    .api-table { width: 100%; border-collapse: collapse; font-size: var(--ux-font-size-md); }
    .api-table th { text-align: left; padding: var(--ux-space-sm) var(--ux-space-md); background: var(--ux-surface-secondary); font-weight: 600; border-bottom: 1px solid var(--ux-border-color); }
    .api-table td { padding: var(--ux-space-sm) var(--ux-space-md); border-bottom: 1px solid var(--ux-border-color); }
    .api-table code { background: var(--ux-surface-secondary); padding: 2px 6px; border-radius: 4px; font-size: var(--ux-font-size-md); }

    /* Mini shell demo styles */
    .mini-shell { position: relative; height: 100%; display: flex; flex-direction: column; }
    .mini-navbar { height: 40px; background: var(--ux-surface); border-bottom: 1px solid var(--ux-border-color); display: flex; align-items: center; padding: 0 12px; gap: 8px; }
    .mini-navbar__brand { font-size: 12px; font-weight: 600; }
    .mini-toolbar { height: 32px; background: var(--ux-surface); border-bottom: 1px solid var(--ux-border-color); display: flex; align-items: center; padding: 0 12px; gap: 8px; }
    .mini-sidebar { position: absolute; top: 40px; left: 0; bottom: 0; width: 160px; background: var(--ux-surface); border-right: 1px solid var(--ux-border-color); padding: 8px 0; }
    .mini-sidebar--collapsed { width: 40px; }
    .mini-main { position: absolute; top: 40px; left: 160px; right: 0; bottom: 0; background: var(--ux-surface-secondary); padding: 12px; overflow: auto; }
    .mini-main--full { left: 0; }
    .mini-main--toolbar { top: 72px; }
    .mini-main--collapsed { left: 40px; }
    .mini-item { display: flex; align-items: center; gap: 8px; padding: 6px 12px; font-size: 11px; color: var(--ux-text-secondary); }
    .mini-item--active { color: var(--ux-primary); background: rgba(var(--ux-primary-rgb), 0.1); }
    .mini-btn { width: 24px; height: 24px; display: flex; align-items: center; justify-content: center; border-radius: 4px; background: var(--ux-surface-secondary); }
    .mini-content { background: var(--ux-surface); border-radius: 8px; padding: 12px; height: 100%; font-size: 11px; color: var(--ux-text-secondary); }
    .mini-bottom-nav { position: absolute; bottom: 0; left: 0; right: 0; height: 40px; background: var(--ux-surface); border-top: 1px solid var(--ux-border-color); display: flex; align-items: center; justify-content: space-around; }
  </style>

<div>
    <!-- Introduccion -->
    <section class="component-section">
      <h3>Shell Layouts</h3>
      <p>Los shells son layouts de estructura que envuelven toda la aplicacion. Proporcionan navbar, sidebar colapsable, toolbar y bottom navigation. Cada seccion tiene IDs unicos para integracion con HTMX.</p>
    </section>

    <!-- Shell Sidebar -->
    <section class="component-section">
      <h3>Shell con Sidebar</h3>
      <p>Layout con navbar superior y sidebar colapsable. En mobile el sidebar se convierte en drawer.</p>
      <ux-playground src="examples/shell/shell-con-sidebar.html"></ux-playground>
      <div class="demo-box">
        <div class="demo-frame" x-data="{ collapsed: false, sidebarOpen: false }">
          <div class="mini-shell">
            <div class="mini-navbar">
              <div class="mini-btn" @click="collapsed = !collapsed" style="cursor: pointer;">
                <svg width="14" height="14" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                </svg>
              </div>
              <span class="mini-navbar__brand">Mi App</span>
            </div>
            <div class="mini-sidebar" :class="{ 'mini-sidebar--collapsed': collapsed }">
              <div class="mini-item mini-item--active">
                <svg width="14" height="14" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/></svg>
                <span x-show="!collapsed">Dashboard</span>
              </div>
              <div class="mini-item">
                <svg width="14" height="14" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"/></svg>
                <span x-show="!collapsed">Usuarios</span>
              </div>
              <div class="mini-item">
                <svg width="14" height="14" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
                <span x-show="!collapsed">Config</span>
              </div>
            </div>
            <div class="mini-main" :class="{ 'mini-main--collapsed': collapsed }">
              <div class="mini-content">
                Contenido principal con scroll interno si es necesario. Haz clic en el icono de menu para colapsar el sidebar.
              </div>
            </div>
          </div>
        </div>
      </div>
      <pre class="ux-code-block" data-lang="html">&lt;!-- Shell con Sidebar --&gt;
&lt;div class="ux-shell ux-shell--sidebar" x-data="uxShell()" :class="shellClasses"&gt;

  &lt;!-- Navbar --&gt;
  &lt;nav id="navbar" class="ux-shell__navbar"&gt;
    &lt;button class="ux-shell__navbar-toggle" @click="toggleSidebar()"&gt;
      &lt;svg&gt;...&lt;/svg&gt;
    &lt;/button&gt;
    &lt;div class="ux-shell__navbar-brand"&gt;Mi App&lt;/div&gt;
    &lt;div class="ux-shell__navbar-actions"&gt;...&lt;/div&gt;
  &lt;/nav&gt;

  &lt;!-- Sidebar --&gt;
  &lt;aside id="sidebar" class="ux-shell__sidebar"&gt;
    &lt;!-- Header con Logo (opcional) --&gt;
    &lt;div class="ux-shell__sidebar-header"&gt;
      &lt;img src="/static/img/logo.png" alt="Mi App" class="ux-shell__sidebar-logo"&gt;
      &lt;span class="ux-shell__sidebar-title"&gt;Mi App&lt;/span&gt;
    &lt;/div&gt;

    &lt;nav class="ux-shell__sidebar-nav"&gt;
      &lt;a href="#" class="ux-shell__sidebar-item ux-shell__sidebar-item--active"&gt;
        &lt;span class="ux-shell__sidebar-item-icon"&gt;&lt;svg&gt;...&lt;/svg&gt;&lt;/span&gt;
        &lt;span class="ux-shell__sidebar-item-text"&gt;Dashboard&lt;/span&gt;
      &lt;/a&gt;
    &lt;/nav&gt;
  &lt;/aside&gt;

  &lt;!-- Backdrop (mobile) --&gt;
  &lt;div class="ux-shell__sidebar-backdrop" @click="closeSidebar()"&gt;&lt;/div&gt;

  &lt;!-- Main Content --&gt;
  &lt;main id="main" class="ux-shell__main ux-padding"&gt;
    &lt;!-- Panel layouts go here --&gt;
  &lt;/main&gt;
&lt;/div&gt;</pre>
    </section>

    <!-- Shell Toolbar -->
    <section class="component-section">
      <h3>Shell con Toolbar</h3>
      <p>Layout con navbar y toolbar de acciones contextuales. Ideal para paginas sin sidebar.</p>
      <ux-playground src="examples/shell/shell-con-toolbar.html"></ux-playground>
      <div class="demo-box">
        <div class="demo-frame">
          <div class="mini-shell">
            <div class="mini-navbar">
              <span class="mini-navbar__brand">Mi App</span>
              <div style="flex: 1;"></div>
              <div class="mini-btn">
                <svg width="14" height="14" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
              </div>
            </div>
            <div class="mini-toolbar">
              <span style="font-size: 11px; font-weight: 600;">Usuarios</span>
              <div style="flex: 1;"></div>
              <div class="mini-btn" style="background: var(--ux-primary); color: var(--ux-primary-contrast); font-size: 10px; width: auto; padding: 0 8px;">+ Nuevo</div>
            </div>
            <div class="mini-main mini-main--full mini-main--toolbar">
              <div class="mini-content">
                Contenido principal. El toolbar proporciona acciones contextuales para la pagina actual.
              </div>
            </div>
          </div>
        </div>
      </div>
      <pre class="ux-code-block" data-lang="html">&lt;!-- Shell con Toolbar --&gt;
&lt;div class="ux-shell ux-shell--toolbar"&gt;

  &lt;!-- Navbar --&gt;
  &lt;nav id="navbar" class="ux-shell__navbar"&gt;
    &lt;div class="ux-shell__navbar-brand"&gt;Mi App&lt;/div&gt;
    &lt;div class="ux-shell__navbar-content"&gt;&lt;/div&gt;
    &lt;div class="ux-shell__navbar-actions"&gt;...&lt;/div&gt;
  &lt;/nav&gt;

  &lt;!-- Toolbar --&gt;
  &lt;div id="toolbar" class="ux-shell__toolbar ux-padding-horizontal"&gt;
    &lt;h2&gt;Usuarios&lt;/h2&gt;
    &lt;div style="flex: 1;"&gt;&lt;/div&gt;
    &lt;button class="ux-button ux-button ux-color-primary"&gt;+ Nuevo&lt;/button&gt;
  &lt;/div&gt;

  &lt;!-- Main Content --&gt;
  &lt;main id="main" class="ux-shell__main ux-padding"&gt;
    &lt;!-- Panel layouts go here --&gt;
  &lt;/main&gt;
&lt;/div&gt;</pre>
    </section>

    <!-- Shell Simple -->
    <section class="component-section">
      <h3>Shell Simple</h3>
      <p>Layout minimo con solo navbar. Perfecto para paginas de contenido simple o landing pages.</p>
      <ux-playground src="examples/shell/shell-simple.html"></ux-playground>
      <div class="demo-box">
        <div class="demo-frame">
          <div class="mini-shell">
            <div class="mini-navbar">
              <span class="mini-navbar__brand">Mi App</span>
              <div style="flex: 1;"></div>
              <div class="mini-btn">
                <svg width="14" height="14" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/></svg>
              </div>
            </div>
            <div class="mini-main mini-main--full">
              <div class="mini-content">
                Contenido principal ocupa todo el ancho disponible. Ideal para paginas de contenido, formularios de login, etc.
              </div>
            </div>
          </div>
        </div>
      </div>
      <pre class="ux-code-block" data-lang="html">&lt;!-- Shell Simple --&gt;
&lt;div class="ux-shell"&gt;

  &lt;!-- Navbar --&gt;
  &lt;nav id="navbar" class="ux-shell__navbar"&gt;
    &lt;div class="ux-shell__navbar-brand"&gt;Mi App&lt;/div&gt;
    &lt;div class="ux-shell__navbar-content"&gt;&lt;/div&gt;
    &lt;div class="ux-shell__navbar-actions"&gt;...&lt;/div&gt;
  &lt;/nav&gt;

  &lt;!-- Main Content --&gt;
  &lt;main id="main" class="ux-shell__main ux-padding"&gt;
    &lt;!-- Content here --&gt;
  &lt;/main&gt;
&lt;/div&gt;</pre>
    </section>

    <!-- Shell con Bottom Nav -->
    <section class="component-section">
      <h3>Shell con Bottom Navigation (Mobile)</h3>
      <p>Bottom navigation para mobile que se oculta en desktop.</p>
      <ux-playground src="examples/shell/shell-con-bottom-navigation-mobile.html"></ux-playground>
      <div class="demo-box">
        <div class="demo-frame" style="max-width: 320px; margin: 0 auto;">
          <div class="mini-shell">
            <div class="mini-navbar">
              <span class="mini-navbar__brand">Mi App</span>
            </div>
            <div class="mini-main mini-main--full" style="bottom: 40px;">
              <div class="mini-content">
                En mobile, el bottom nav proporciona navegacion principal. Se oculta automaticamente en pantallas mayores a 768px.
              </div>
            </div>
            <div class="mini-bottom-nav">
              <div style="display: flex; flex-direction: column; align-items: center; color: var(--ux-primary);">
                <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/></svg>
                <span style="font-size: 9px;">Inicio</span>
              </div>
              <div style="display: flex; flex-direction: column; align-items: center; color: var(--ux-text-tertiary);">
                <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
                <span style="font-size: 9px;">Buscar</span>
              </div>
              <div style="display: flex; flex-direction: column; align-items: center; color: var(--ux-text-tertiary);">
                <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/></svg>
                <span style="font-size: 9px;">Perfil</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <pre class="ux-code-block" data-lang="html">&lt;!-- Shell con Bottom Nav --&gt;
&lt;div class="ux-shell ux-shell--bottom-nav"&gt;
  &lt;nav class="ux-shell__navbar"&gt;...&lt;/nav&gt;
  &lt;main class="ux-shell__main"&gt;...&lt;/main&gt;

  &lt;!-- Bottom Nav (solo visible en mobile) --&gt;
  &lt;nav id="bottom-nav" class="ux-shell__bottom-nav"&gt;
    &lt;a href="#" class="ux-shell__bottom-nav-item ux-shell__bottom-nav-item--active"&gt;
      &lt;span class="ux-shell__bottom-nav-item-icon"&gt;&lt;svg&gt;...&lt;/svg&gt;&lt;/span&gt;
      &lt;span class="ux-shell__bottom-nav-item-label"&gt;Inicio&lt;/span&gt;
    &lt;/a&gt;
    &lt;a href="#" class="ux-shell__bottom-nav-item"&gt;...&lt;/a&gt;
  &lt;/nav&gt;
&lt;/div&gt;</pre>
    </section>

    <!-- Integracion con HTMX -->
    <section class="component-section">
      <h3>Integracion con HTMX</h3>
      <p>Los IDs de cada seccion permiten usar HTMX para renderizar contenido dinamico.</p>
      <pre class="ux-code-block" data-lang="html">&lt;!-- Cargar contenido en el main --&gt;
&lt;main id="main" class="ux-shell__main"
      hx-get="/api/dashboard"
      hx-trigger="load"&gt;
  &lt;!-- Content loaded via HTMX --&gt;
&lt;/main&gt;

&lt;!-- Navegacion con HTMX --&gt;
&lt;a href="/usuarios" class="ux-shell__sidebar-item"
   hx-get="/usuarios"
   hx-target="#main"
   hx-push-url="true"&gt;
  Usuarios
&lt;/a&gt;

&lt;!-- Actualizar toolbar segun la pagina --&gt;
&lt;div id="toolbar" class="ux-shell__toolbar"
     hx-get="/api/toolbar/usuarios"
     hx-trigger="page:usuarios from:body"&gt;
&lt;/div&gt;</pre>
    </section>

    <!-- HTMX + Django -->
    <section class="component-section">
      <h3>HTMX + Django</h3>
      <p>Ejemplos de integracion del shell con Django usando HTMX para crear un panel de administracion.</p>

      <h4 style="margin-top: var(--ux-space-lg); margin-bottom: var(--ux-space-sm);">Template Base (base_admin.html)</h4>
      <p>Template base de Django con el shell completo y bloques para contenido dinamico.</p>
      <pre class="ux-code-block" data-lang="html">&lt;!-- templates/admin/base_admin.html --&gt;
{% load static %}
&lt;!DOCTYPE html&gt;
&lt;html lang="es"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
  &lt;title&gt;{% block title %}Admin{% endblock %} - {{ site_name }}&lt;/title&gt;
  &lt;script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"&gt;&lt;/script&gt;
  &lt;script src="https://unpkg.com/htmx.org@1.9.x"&gt;&lt;/script&gt;
&lt;script src="https://erplora.github.io/ux/ux.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body class="ux-app" hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'&gt;

&lt;div class="ux-shell ux-shell--sidebar" x-data="uxShell()" :class="shellClasses"&gt;
  &lt;!-- Navbar --&gt;
  &lt;nav id="navbar" class="ux-shell__navbar"&gt;
    &lt;button class="ux-shell__navbar-toggle" @click="toggleSidebar()"&gt;
      &lt;svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;
        &lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/&gt;
      &lt;/svg&gt;
    &lt;/button&gt;
    &lt;div class="ux-shell__navbar-brand"&gt;{{ site_name }}&lt;/div&gt;
    &lt;div class="ux-shell__navbar-actions"&gt;
      &lt;span class="ux-avatar ux-avatar--sm"&gt;{{ user.get_initials }}&lt;/span&gt;
    &lt;/div&gt;
  &lt;/nav&gt;

  &lt;!-- Sidebar --&gt;
  &lt;aside id="sidebar" class="ux-shell__sidebar"&gt;
    &lt;nav class="ux-shell__sidebar-nav"&gt;
      {% include "admin/partials/sidebar_nav.html" %}
    &lt;/nav&gt;
  &lt;/aside&gt;

  &lt;div class="ux-shell__sidebar-backdrop" @click="closeSidebar()"&gt;&lt;/div&gt;

  &lt;!-- Main Content --&gt;
  &lt;main id="main" class="ux-shell__main"&gt;
    {% block content %}{% endblock %}
  &lt;/main&gt;
&lt;/div&gt;

&lt;/body&gt;
&lt;/html&gt;</pre>

      <h4 style="margin-top: var(--ux-space-lg); margin-bottom: var(--ux-space-sm);">Navegacion del Sidebar (sidebar_nav.html)</h4>
      <p>Partial de Django para la navegacion con HTMX y estado activo dinamico.</p>
      <pre class="ux-code-block" data-lang="html">&lt;!-- templates/admin/partials/sidebar_nav.html --&gt;
{% load admin_tags %}

&lt;a href="{% url 'admin:dashboard' %}"
   class="ux-shell__sidebar-item {% active_class 'admin:dashboard' %}"
   hx-get="{% url 'admin:dashboard' %}"
   hx-target="#main"
   hx-push-url="true"
   hx-swap="innerHTML"&gt;
  &lt;span class="ux-shell__sidebar-item-icon"&gt;
    &lt;svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;
      &lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/&gt;
    &lt;/svg&gt;
  &lt;/span&gt;
  &lt;span class="ux-shell__sidebar-item-text"&gt;Dashboard&lt;/span&gt;
&lt;/a&gt;

&lt;a href="{% url 'admin:users_list' %}"
   class="ux-shell__sidebar-item {% active_class 'admin:users' %}"
   hx-get="{% url 'admin:users_list' %}"
   hx-target="#main"
   hx-push-url="true"&gt;
  &lt;span class="ux-shell__sidebar-item-icon"&gt;
    &lt;svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;
      &lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"/&gt;
    &lt;/svg&gt;
  &lt;/span&gt;
  &lt;span class="ux-shell__sidebar-item-text"&gt;Usuarios&lt;/span&gt;
&lt;/a&gt;

&lt;a href="{% url 'admin:products_list' %}"
   class="ux-shell__sidebar-item {% active_class 'admin:products' %}"
   hx-get="{% url 'admin:products_list' %}"
   hx-target="#main"
   hx-push-url="true"&gt;
  &lt;span class="ux-shell__sidebar-item-icon"&gt;
    &lt;svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;
      &lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/&gt;
    &lt;/svg&gt;
  &lt;/span&gt;
  &lt;span class="ux-shell__sidebar-item-text"&gt;Productos&lt;/span&gt;
&lt;/a&gt;

&lt;div class="ux-shell__sidebar-divider"&gt;&lt;/div&gt;

&lt;a href="{% url 'admin:settings' %}"
   class="ux-shell__sidebar-item {% active_class 'admin:settings' %}"
   hx-get="{% url 'admin:settings' %}"
   hx-target="#main"
   hx-push-url="true"&gt;
  &lt;span class="ux-shell__sidebar-item-icon"&gt;
    &lt;svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;
      &lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/&gt;
      &lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/&gt;
    &lt;/svg&gt;
  &lt;/span&gt;
  &lt;span class="ux-shell__sidebar-item-text"&gt;Configuracion&lt;/span&gt;
&lt;/a&gt;</pre>

      <h4 style="margin-top: var(--ux-space-lg); margin-bottom: var(--ux-space-sm);">Vista de Lista con Toolbar (users_list.html)</h4>
      <p>Pagina de listado con toolbar contextual y tabla de datos.</p>
      <pre class="ux-code-block" data-lang="html">&lt;!-- templates/admin/users/list.html --&gt;
&lt;!-- Este template se carga via HTMX en #main --&gt;

&lt;div class="ux-shell__toolbar ux-padding-horizontal"&gt;
  &lt;h2&gt;Usuarios&lt;/h2&gt;
  &lt;div style="flex: 1;"&gt;&lt;/div&gt;
  &lt;div class="ux-searchbar" style="max-width: 300px;"&gt;
    &lt;input type="search"
           name="q"
           placeholder="Buscar usuarios..."
           hx-get="{% url 'admin:users_list' %}"
           hx-target="#users-table"
           hx-trigger="input changed delay:300ms"
           hx-include="[name='q']"&gt;
  &lt;/div&gt;
  &lt;button class="ux-button ux-color-primary"
          hx-get="{% url 'admin:users_create' %}"
          hx-target="#main"
          hx-push-url="true"&gt;
    + Nuevo Usuario
  &lt;/button&gt;
&lt;/div&gt;

&lt;div class="ux-padding"&gt;
  &lt;div class="ux-card"&gt;
    &lt;div id="users-table"&gt;
      {% include "admin/users/partials/table.html" %}
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre>

      <h4 style="margin-top: var(--ux-space-lg); margin-bottom: var(--ux-space-sm);">Tabla Parcial con HTMX (table.html)</h4>
      <p>Partial de tabla que se actualiza con busqueda y paginacion via HTMX.</p>
      <pre class="ux-code-block" data-lang="html">&lt;!-- templates/admin/users/partials/table.html --&gt;
&lt;table class="ux-datatable"&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Nombre&lt;/th&gt;
      &lt;th&gt;Email&lt;/th&gt;
      &lt;th&gt;Rol&lt;/th&gt;
      &lt;th&gt;Estado&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    {% for user in users %}
    &lt;tr&gt;
      &lt;td&gt;
        &lt;div style="display: flex; align-items: center; gap: 12px;"&gt;
          &lt;span class="ux-avatar ux-avatar--sm"&gt;{{ user.get_initials }}&lt;/span&gt;
          {{ user.get_full_name }}
        &lt;/div&gt;
      &lt;/td&gt;
      &lt;td&gt;{{ user.email }}&lt;/td&gt;
      &lt;td&gt;&lt;span class="ux-badge ux-color-primary--soft"&gt;{{ user.role }}&lt;/span&gt;&lt;/td&gt;
      &lt;td&gt;
        {% if user.is_active %}
          &lt;span class="ux-badge ux-color-success--soft"&gt;Activo&lt;/span&gt;
        {% else %}
          &lt;span class="ux-badge ux-color-danger--soft"&gt;Inactivo&lt;/span&gt;
        {% endif %}
      &lt;/td&gt;
      &lt;td&gt;
        &lt;button class="ux-button ux-button--clear ux-button--sm"
                hx-get="{% url 'admin:users_edit' user.pk %}"
                hx-target="#main"
                hx-push-url="true"&gt;
          Editar
        &lt;/button&gt;
        &lt;button class="ux-button ux-button--clear ux-button--sm ux-color-danger"
                hx-delete="{% url 'admin:users_delete' user.pk %}"
                hx-confirm="Eliminar a {{ user.get_full_name }}?"
                hx-target="closest tr"
                hx-swap="outerHTML swap:500ms"&gt;
          Eliminar
        &lt;/button&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
    {% empty %}
    &lt;tr&gt;
      &lt;td colspan="5" style="text-align: center; padding: 48px;"&gt;
        No se encontraron usuarios
      &lt;/td&gt;
    &lt;/tr&gt;
    {% endfor %}
  &lt;/tbody&gt;
&lt;/table&gt;

{% if page_obj.has_other_pages %}
&lt;div class="ux-pagination" style="padding: 16px;"&gt;
  {% if page_obj.has_previous %}
    &lt;button class="ux-button ux-button--outline ux-button--sm"
            hx-get="?page={{ page_obj.previous_page_number }}"
            hx-target="#users-table"&gt;
      Anterior
    &lt;/button&gt;
  {% endif %}
  &lt;span&gt;Pagina {{ page_obj.number }} de {{ page_obj.paginator.num_pages }}&lt;/span&gt;
  {% if page_obj.has_next %}
    &lt;button class="ux-button ux-button--outline ux-button--sm"
            hx-get="?page={{ page_obj.next_page_number }}"
            hx-target="#users-table"&gt;
      Siguiente
    &lt;/button&gt;
  {% endif %}
&lt;/div&gt;
{% endif %}</pre>

      <h4 style="margin-top: var(--ux-space-lg); margin-bottom: var(--ux-space-sm);">Vista de Django (views.py)</h4>
      <p>Vistas de Django que detectan peticiones HTMX para devolver partials.</p>
      <pre class="ux-code-block" data-lang="python"># admin/views.py
from django.shortcuts import render, get_object_or_404
from django.core.paginator import Paginator
from django.http import HttpResponse
from .models import User

def is_htmx(request):
    return request.headers.get('HX-Request') == 'true'

def users_list(request):
    users = User.objects.all().order_by('-date_joined')

    # Busqueda
    q = request.GET.get('q', '')
    if q:
        users = users.filter(
            Q(first_name__icontains=q) |
            Q(last_name__icontains=q) |
            Q(email__icontains=q)
        )

    # Paginacion
    paginator = Paginator(users, 25)
    page_obj = paginator.get_page(request.GET.get('page', 1))

    context = {
        'users': page_obj,
        'page_obj': page_obj,
    }

    # Si es HTMX y pide solo la tabla
    if is_htmx(request) and request.GET.get('q'):
        return render(request, 'admin/users/partials/table.html', context)

    # Si es HTMX, devolver solo el contenido
    if is_htmx(request):
        return render(request, 'admin/users/list.html', context)

    # Peticion normal, devolver pagina completa
    return render(request, 'admin/users/list_full.html', context)

def users_delete(request, pk):
    user = get_object_or_404(User, pk=pk)
    if request.method == 'DELETE':
        user.delete()
        return HttpResponse('', status=200)  # HTMX eliminara la fila
    return HttpResponse(status=405)</pre>

      <h4 style="margin-top: var(--ux-space-lg); margin-bottom: var(--ux-space-sm);">Template Tag Personalizado (admin_tags.py)</h4>
      <p>Tag para marcar el item activo en la navegacion.</p>
      <pre class="ux-code-block" data-lang="python"># admin/templatetags/admin_tags.py
from django import template
from django.urls import resolve

register = template.Library()

@register.simple_tag(takes_context=True)
def active_class(context, url_name):
    """
    Devuelve 'ux-shell__sidebar-item--active' si la URL actual
    coincide con el patron dado.

    Uso: {% active_class 'admin:users' %}
    """
    request = context.get('request')
    if not request:
        return ''

    try:
        current = resolve(request.path_info)
        # Comparar namespace:name o solo el prefijo
        if current.url_name and current.url_name.startswith(url_name.split(':')[-1]):
            return 'ux-shell__sidebar-item--active'
        if f"{current.namespace}:{current.url_name}" == url_name:
            return 'ux-shell__sidebar-item--active'
    except:
        pass

    return ''</pre>

      <h4 style="margin-top: var(--ux-space-lg); margin-bottom: var(--ux-space-sm);">URLs de Django (urls.py)</h4>
      <p>Configuracion de URLs para el panel de administracion.</p>
      <pre class="ux-code-block" data-lang="python"># admin/urls.py
from django.urls import path
from . import views

app_name = 'admin'

urlpatterns = [
    path('', views.dashboard, name='dashboard'),
    path('users/', views.users_list, name='users_list'),
    path('users/create/', views.users_create, name='users_create'),
    path('users/<int:pk>/', views.users_edit, name='users_edit'),
    path('users/<int:pk>/delete/', views.users_delete, name='users_delete'),
    path('products/', views.products_list, name='products_list'),
    path('settings/', views.settings, name='settings'),
]</pre>
    </section>

    <!-- API Reference -->
    <section class="component-section">
      <h3>Referencia de Clases CSS</h3>
      <ux-playground src="examples/shell/referencia-de-clases-css.html"></ux-playground>
      <div class="demo-box">
        <table class="api-table">
          <thead>
            <tr>
              <th>Clase</th>
              <th>Descripcion</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>.ux-shell</code></td>
              <td>Contenedor base del shell</td>
            </tr>
            <tr>
              <td><code>.ux-shell--sidebar</code></td>
              <td>Activa layout con sidebar</td>
            </tr>
            <tr>
              <td><code>.ux-shell--toolbar</code></td>
              <td>Activa layout con toolbar</td>
            </tr>
            <tr>
              <td><code>.ux-shell--bottom-nav</code></td>
              <td>Activa bottom navigation en mobile</td>
            </tr>
            <tr>
              <td><code>.ux-shell--collapsed</code></td>
              <td>Colapsa el sidebar (desktop)</td>
            </tr>
            <tr>
              <td><code>.ux-shell--sidebar-open</code></td>
              <td>Abre sidebar como drawer (mobile)</td>
            </tr>
            <tr>
              <td><code>.ux-shell__navbar</code></td>
              <td>Navbar superior fijo (56px)</td>
            </tr>
            <tr>
              <td><code>.ux-shell__toolbar</code></td>
              <td>Toolbar de acciones (48px)</td>
            </tr>
            <tr>
              <td><code>.ux-shell__sidebar</code></td>
              <td>Sidebar lateral (250px / 56px collapsed)</td>
            </tr>
            <tr>
              <td><code>.ux-shell__sidebar-header</code></td>
              <td>Header del sidebar con logo y titulo</td>
            </tr>
            <tr>
              <td><code>.ux-shell__sidebar-logo</code></td>
              <td>Logo que se agranda al colapsar el sidebar</td>
            </tr>
            <tr>
              <td><code>.ux-shell__sidebar-title</code></td>
              <td>Titulo que se oculta al colapsar</td>
            </tr>
            <tr>
              <td><code>.ux-shell__main</code></td>
              <td>Area de contenido principal</td>
            </tr>
            <tr>
              <td><code>.ux-shell__bottom-nav</code></td>
              <td>Navegacion inferior (solo mobile)</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- Alpine API -->
    <section class="component-section">
      <h3>API Alpine.js</h3>
      <p>El componente <code>uxShell()</code> proporciona control del sidebar.</p>
      <ux-playground src="examples/shell/api-alpinejs.html"></ux-playground>
      <div class="demo-box">
        <table class="api-table">
          <thead>
            <tr>
              <th>Propiedad/Metodo</th>
              <th>Tipo</th>
              <th>Descripcion</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>sidebarOpen</code></td>
              <td>Boolean</td>
              <td>Estado del drawer en mobile</td>
            </tr>
            <tr>
              <td><code>sidebarCollapsed</code></td>
              <td>Boolean</td>
              <td>Estado colapsado en desktop</td>
            </tr>
            <tr>
              <td><code>isMobile</code></td>
              <td>Boolean</td>
              <td>true si viewport < 768px</td>
            </tr>
            <tr>
              <td><code>toggleSidebar()</code></td>
              <td>Function</td>
              <td>Alterna sidebar (drawer en mobile, colapso en desktop)</td>
            </tr>
            <tr>
              <td><code>openSidebar()</code></td>
              <td>Function</td>
              <td>Abre el drawer (solo mobile)</td>
            </tr>
            <tr>
              <td><code>closeSidebar()</code></td>
              <td>Function</td>
              <td>Cierra el drawer (solo mobile)</td>
            </tr>
            <tr>
              <td><code>collapseSidebar()</code></td>
              <td>Function</td>
              <td>Colapsa sidebar (solo desktop)</td>
            </tr>
            <tr>
              <td><code>expandSidebar()</code></td>
              <td>Function</td>
              <td>Expande sidebar (solo desktop)</td>
            </tr>
            <tr>
              <td><code>shellClasses</code></td>
              <td>Object</td>
              <td>Clases computadas para el shell</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- CSS Variables -->
    <section class="component-section">
      <h3>Variables CSS</h3>
      <ux-playground src="examples/shell/variables-css.html"></ux-playground>
      <div class="demo-box">
        <table class="api-table">
          <thead>
            <tr>
              <th>Variable</th>
              <th>Default</th>
              <th>Descripcion</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>--ux-shell-navbar</code></td>
              <td>56px</td>
              <td>Altura del navbar</td>
            </tr>
            <tr>
              <td><code>--ux-shell-toolbar</code></td>
              <td>48px</td>
              <td>Altura del toolbar</td>
            </tr>
            <tr>
              <td><code>--ux-shell-sidebar</code></td>
              <td>250px</td>
              <td>Ancho del sidebar expandido</td>
            </tr>
            <tr>
              <td><code>--ux-shell-sidebar-collapsed</code></td>
              <td>56px</td>
              <td>Ancho del sidebar colapsado</td>
            </tr>
            <tr>
              <td><code>--ux-shell-bottom-nav</code></td>
              <td>56px</td>
              <td>Altura del bottom nav</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- Responsive Behavior -->
    <section class="component-section">
      <h3>Comportamiento Responsive</h3>
      <ux-playground src="examples/shell/comportamiento-responsive.html"></ux-playground>
      <div class="demo-box" style="padding: var(--ux-space-lg);">
        <p style="margin-bottom: var(--ux-space-md);"><strong>Mobile (&lt; 768px):</strong></p>
        <ul style="margin-left: var(--ux-space-lg); margin-bottom: var(--ux-space-lg); color: var(--ux-text-secondary);">
          <li>Sidebar se convierte en drawer overlay</li>
          <li>Bottom navigation visible</li>
          <li>Backdrop oscuro al abrir drawer</li>
        </ul>

        <p style="margin-bottom: var(--ux-space-md);"><strong>Tablet (768px - 1024px):</strong></p>
        <ul style="margin-left: var(--ux-space-lg); margin-bottom: var(--ux-space-lg); color: var(--ux-text-secondary);">
          <li>Sidebar colapsable</li>
          <li>Bottom navigation oculto</li>
        </ul>

        <p style="margin-bottom: var(--ux-space-md);"><strong>Desktop (&gt; 1024px):</strong></p>
        <ul style="margin-left: var(--ux-space-lg); color: var(--ux-text-secondary);">
          <li>Sidebar expandido por defecto</li>
          <li>Puede colapsarse con toggle</li>
        </ul>
      </div>
    </section>
  </div>
