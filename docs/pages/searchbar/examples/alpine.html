<div x-data="uxSearchbar({
  recentSearches: ['React', 'Vue', 'Angular'],
  debounceTime: 300
})">
  <div class="ux-searchbar"
       :class="{
         'ux-searchbar--has-value': hasValue,
         'ux-searchbar--focused': isFocused
       }"
       style="position: relative;">
    <div class="ux-searchbar__container">
      <span class="ux-searchbar__icon">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
        </svg>
      </span>
      <input type="search" class="ux-searchbar__input" placeholder="Buscar frameworks..."
             x-model="query"
             @focus="focus()"
             @blur="blur()"
             @input="onInput()"
             @keydown="handleKeydown($event)">
      <button class="ux-searchbar__clear" @click="clear()" type="button">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
    </div>
    <button class="ux-searchbar__cancel" @click="cancel()" type="button">Cancelar</button>
  </div>

  <div style="margin-top: var(--ux-space-md); padding: var(--ux-space-md); background: var(--ux-surface-secondary); border-radius: var(--ux-border-radius);">
    <p style="font-size: var(--ux-font-size-md); color: var(--ux-text-secondary);">
      Query: <strong x-text="query || '(vacio)'"></strong><br>
      Focused: <strong x-text="isFocused"></strong><br>
      Recientes: <strong x-text="recentSearches.join(', ') || 'ninguno'"></strong>
    </p>
    <div style="display: flex; gap: var(--ux-space-sm); margin-top: var(--ux-space-sm); flex-wrap: wrap;">
      <button class="ux-button ux-button--sm" @click="addToRecent('Svelte')">Agregar reciente</button>
      <button class="ux-button ux-button--sm ux-button ux-color-secondary" @click="clearRecent()">Limpiar recientes</button>
    </div>
  </div>
</div>
