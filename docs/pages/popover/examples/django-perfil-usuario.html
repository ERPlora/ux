<!-- Template Django: templates/components/user_popover_trigger.html -->
<div x-data="uxPopover({ position: 'bottom' })" @click.away="close()">
  <button x-ref="trigger"
          @click="toggle()"
          class="ux-button"
          hx-get="{% url 'user_popover' user.id %}"
          hx-target="#user-popover-{{ user.id }}"
          hx-trigger="click once">
    {{ user.username }}
  </button>
  <div class="ux-popover ux-popover--bottom"
       :class="{ 'ux-popover--open': isOpen }"
       x-ref="popover"
       :style="popoverStyle">
    <div class="ux-popover__arrow"></div>
    <div id="user-popover-{{ user.id }}" class="ux-popover__content">
      <div class="ux-spinner ux-spinner--sm"></div>
    </div>
  </div>
</div>
