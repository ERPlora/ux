<div x-data="{
  ...uxProgressCircle({ value: 0, animated: true }),
  interval: null,
  isRunning: false
}">
  <div class="demo-flex" style="margin-bottom: 1.5rem;">
    <div class="ux-progress-circle ux-progress-circle--lg" :class="colorClass">
      <svg class="ux-progress-circle__svg" viewBox="0 0 160 160">
        <circle class="ux-progress-circle__bg" cx="80" cy="80" r="70"/>
        <circle class="ux-progress-circle__fill" cx="80" cy="80" r="70"
                :stroke-dasharray="2 * Math.PI * 70" :stroke-dashoffset="2 * Math.PI * 70 * (1 - percentage / 100)"
                style="transition: stroke-dashoffset 0.1s ease-out;"/>
      </svg>
      <div class="ux-progress-circle__content">
        <span class="ux-progress-circle__value" x-text="displayValue"></span>
        <span class="ux-progress-circle__label">Progreso</span>
      </div>
    </div>

    <div style="display: flex; flex-direction: column; gap: 0.75rem;">
      <div style="display: flex; gap: 0.5rem;">
        <button class="ux-button ux-button--sm" @click="decrement(10)">-10</button>
        <button class="ux-button ux-button--sm" @click="decrement(1)">-1</button>
        <button class="ux-button ux-button--sm" @click="increment(1)">+1</button>
        <button class="ux-button ux-button--sm" @click="increment(10)">+10</button>
      </div>
      <div style="display: flex; gap: 0.5rem;">
        <button class="ux-button ux-button--sm ux-color-danger--outline" @click="reset()">Reset</button>
        <button class="ux-button ux-button--sm ux-color-success" @click="complete()">100%</button>
      </div>
      <button class="ux-button ux-button--sm ux-color-primary"
              @click="
                if (isRunning) {
                  clearInterval(interval);
                  isRunning = false;
                } else {
                  reset();
                  interval = setInterval(() => {
                    if (value >= 100) {
                      clearInterval(interval);
                      isRunning = false;
                    } else {
                      increment(1);
                    }
                  }, 50);
                  isRunning = true;
                }
              "
              x-text="isRunning ? 'Detener' : 'Animar'">
      </button>
    </div>
  </div>
</div>
