<style>
  .demo-section { margin-bottom: var(--ux-space-2xl); }
  .demo-section h3 { font-size: var(--ux-font-size-lg); font-weight: 600; margin-bottom: var(--ux-space-md); }
  .demo-section h4 { font-size: var(--ux-font-size-md); font-weight: 500; margin: var(--ux-space-lg) 0 var(--ux-space-sm); }
  .demo-section p { font-size: var(--ux-font-size-md); color: var(--ux-text-secondary); margin-bottom: var(--ux-space-md); }
  .demo-frame {
    background: var(--ux-surface);
    border: 1px solid var(--ux-border-color);
    border-radius: var(--ux-border-radius-lg);
    overflow: visible;
    padding: var(--ux-space-lg);
    margin-bottom: var(--ux-space-md);
    min-height: 200px;
  }
  .class-table {
    width: 100%;
    border-collapse: collapse;
    font-size: var(--ux-font-size-sm);
  }
  .class-table th, .class-table td {
    padding: var(--ux-space-sm) var(--ux-space-md);
    text-align: left;
    border-bottom: 1px solid var(--ux-border-color);
  }
  .class-table th {
    background: var(--ux-surface-secondary);
    font-weight: 600;
  }
  .class-table code {
    background: var(--ux-surface-secondary);
    padding: 2px 6px;
    border-radius: 4px;
    font-size: var(--ux-font-size-sm);
  }
</style>

<div>
  <!-- Intro -->
  <div class="demo-section">
    <h3>Dropdown Menu</h3>
    <p>Menu desplegable estilo iOS con animaciones suaves, navegacion por teclado y variantes glass.</p>
  </div>

  <!-- Basic Dropdown -->
  <div class="demo-section">
    <h3>Dropdown Basico</h3>
    <p>Dropdown simple con items clickeables.</p>

    <div class="demo-frame">
      <ux-playground src="examples/dropdown/basico.html"></ux-playground>
    </div>

    <pre class="ux-code-block" data-lang="html"><div class="ux-dropdown" x-data="uxDropdown()" :class="containerClasses">
  <button class="ux-button ux-dropdown__trigger"
          @click="toggle()"
          @keydown="handleKeydown($event)"
          x-bind="triggerAttrs">
    <span>Opciones</span>
    <span class="ux-dropdown__caret"><svg>...</svg></span>
  </button>

  <div class="ux-dropdown__menu" role="menu">
    <button class="ux-dropdown__item" @click="select('edit')">
      <span class="ux-dropdown__item-icon"><svg>...</svg></span>
      <span class="ux-dropdown__item-text">Editar</span>
    </button>
    <div class="ux-dropdown__divider"></div>
    <button class="ux-dropdown__item ux-dropdown__item--danger">Eliminar</button>
  </div>
</div></pre>
  </div>

  <!-- Dropdown Positions -->
  <div class="demo-section">
    <h3>Posiciones</h3>
    <p>El menu puede abrirse en diferentes posiciones.</p>

    <div class="demo-frame">
      <ux-playground src="examples/dropdown/posiciones.html"></ux-playground>
    </div>

    <pre class="ux-code-block" data-lang="html"><!-- Alineado a la izquierda (default) -->
<div class="ux-dropdown__menu ux-dropdown__menu--left">...</div>

<!-- Alineado a la derecha -->
<div class="ux-dropdown__menu ux-dropdown__menu--right">...</div>

<!-- Abre hacia arriba -->
<div class="ux-dropdown__menu ux-dropdown__menu--top">...</div>

<!-- Centrado -->
<div class="ux-dropdown__menu ux-dropdown__menu--center">...</div></pre>
  </div>

  <!-- With Headers and Groups -->
  <div class="demo-section">
    <h3>Headers y Grupos</h3>
    <p>Organiza items con headers y grupos.</p>

    <div class="demo-frame">
      <ux-playground src="examples/dropdown/grupos.html"></ux-playground>
    </div>

    <pre class="ux-code-block" data-lang="html"><div class="ux-dropdown__menu">
  <div class="ux-dropdown__group">
    <div class="ux-dropdown__header">Acciones</div>
    <button class="ux-dropdown__item">
      <span class="ux-dropdown__item-text">Nuevo</span>
      <span class="ux-dropdown__item-shortcut">âŒ˜N</span>
    </button>
  </div>

  <div class="ux-dropdown__group">
    <div class="ux-dropdown__header">Recientes</div>
    ...
  </div>
</div></pre>
  </div>

  <!-- With Badges and Checks -->
  <div class="demo-section">
    <h3>Badges y Seleccion</h3>
    <p>Items con badges y estados de seleccion.</p>

    <div class="demo-frame">
      <ux-playground src="examples/dropdown/badges-seleccion.html"></ux-playground>
    </div>
  </div>

  <!-- Glass Variant -->
  <div class="demo-section">
    <h3>Glass Variant</h3>
    <p>Menu con efecto glass para fondos con imagen.</p>

    <div class="demo-frame" style="background: linear-gradient(135deg, var(--ux-primary) 0%, var(--ux-secondary) 100%); min-height: 250px;">
      <ux-playground src="examples/dropdown/glass.html"></ux-playground>
    </div>

    <pre class="ux-code-block" data-lang="html"><div class="ux-dropdown ux-dropdown--glass">
  ...
  <div class="ux-dropdown__menu ux-dropdown__menu--glass">
    ...
  </div>
</div></pre>
  </div>

  <!-- Compact Variant -->
  <div class="demo-section">
    <h3>Variante Compacta</h3>
    <p>Menu mas compacto para espacios reducidos.</p>

    <div class="demo-frame">
      <ux-playground src="examples/dropdown/compacto.html"></ux-playground>
    </div>

    <pre class="ux-code-block" data-lang="html"><div class="ux-dropdown__menu ux-dropdown__menu--compact">
  ...
</div></pre>
  </div>

  <!-- Alpine.js API -->
  <div class="demo-section">
    <h3>Alpine.js API</h3>

    <ux-code src="examples/dropdown/alpine-config.html" lang="javascript"></ux-code>
  </div>

  <!-- CSS Reference -->
  <div class="demo-section">
    <h3>Referencia de Clases CSS</h3>

    <div style="overflow-x: auto;">
      <table class="class-table">
        <thead>
          <tr>
            <th>Clase</th>
            <th>Descripcion</th>
          </tr>
        </thead>
        <tbody>
          <tr><td colspan="2" style="background: var(--ux-surface-secondary); font-weight: 600;">Contenedor</td></tr>
          <tr><td><code>.ux-dropdown</code></td><td>Contenedor principal</td></tr>
          <tr><td><code>.ux-dropdown--open</code></td><td>Estado abierto</td></tr>
          <tr><td><code>.ux-dropdown--glass</code></td><td>Variante glass</td></tr>
          <tr><td colspan="2" style="background: var(--ux-surface-secondary); font-weight: 600;">Trigger</td></tr>
          <tr><td><code>.ux-dropdown__trigger</code></td><td>Boton que abre el menu</td></tr>
          <tr><td><code>.ux-dropdown__caret</code></td><td>Icono flecha</td></tr>
          <tr><td colspan="2" style="background: var(--ux-surface-secondary); font-weight: 600;">Menu</td></tr>
          <tr><td><code>.ux-dropdown__menu</code></td><td>Contenedor del menu</td></tr>
          <tr><td><code>.ux-dropdown__menu--left</code></td><td>Alineado izquierda</td></tr>
          <tr><td><code>.ux-dropdown__menu--right</code></td><td>Alineado derecha</td></tr>
          <tr><td><code>.ux-dropdown__menu--top</code></td><td>Abre hacia arriba</td></tr>
          <tr><td><code>.ux-dropdown__menu--center</code></td><td>Centrado</td></tr>
          <tr><td><code>.ux-dropdown__menu--glass</code></td><td>Efecto glass</td></tr>
          <tr><td><code>.ux-dropdown__menu--compact</code></td><td>Tamano compacto</td></tr>
          <tr><td><code>.ux-dropdown__menu--wide</code></td><td>Mas ancho</td></tr>
          <tr><td colspan="2" style="background: var(--ux-surface-secondary); font-weight: 600;">Items</td></tr>
          <tr><td><code>.ux-dropdown__item</code></td><td>Item del menu</td></tr>
          <tr><td><code>.ux-dropdown__item--danger</code></td><td>Item destructivo</td></tr>
          <tr><td><code>.ux-dropdown__item--disabled</code></td><td>Item deshabilitado</td></tr>
          <tr><td><code>.ux-dropdown__item--selected</code></td><td>Item seleccionado</td></tr>
          <tr><td><code>.ux-dropdown__item-icon</code></td><td>Icono del item</td></tr>
          <tr><td><code>.ux-dropdown__item-text</code></td><td>Texto del item</td></tr>
          <tr><td><code>.ux-dropdown__item-shortcut</code></td><td>Atajo de teclado</td></tr>
          <tr><td><code>.ux-dropdown__item-badge</code></td><td>Badge/contador</td></tr>
          <tr><td><code>.ux-dropdown__item-check</code></td><td>Check de seleccion</td></tr>
          <tr><td colspan="2" style="background: var(--ux-surface-secondary); font-weight: 600;">Estructura</td></tr>
          <tr><td><code>.ux-dropdown__divider</code></td><td>Linea divisoria</td></tr>
          <tr><td><code>.ux-dropdown__header</code></td><td>Header de seccion</td></tr>
          <tr><td><code>.ux-dropdown__group</code></td><td>Grupo de items</td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- HTMX + Django -->
  <div class="demo-section">
    <h3>HTMX + Django</h3>
    <p>Ejemplos de dropdown con acciones HTMX para integracion con Django.</p>

    <h4>Acciones CRUD</h4>
    <p>Dropdown con acciones que realizan peticiones HTMX.</p>

    <div class="demo-frame">
      <ux-playground src="examples/dropdown/htmx-crud.html"></ux-playground>
    </div>

    <pre class="ux-code-block" data-lang="html"><!-- Dropdown con acciones HTMX -->
<div class="ux-dropdown" x-data="uxDropdown()" :class="containerClasses">
  <button class="ux-button ux-button--outline ux-dropdown__trigger"
          @click="toggle()" x-bind="triggerAttrs">
    Acciones
    <span class="ux-dropdown__caret"><svg>...</svg></span>
  </button>

  <div class="ux-dropdown__menu" role="menu">
    <!-- Editar: carga formulario en modal -->
    <button class="ux-dropdown__item"
            hx-get="/items/{{ item.id }}/edit/"
            hx-target="#modal-content"
            hx-trigger="click"
            @click="close()">
      <span class="ux-dropdown__item-icon"><svg>...</svg></span>
      <span class="ux-dropdown__item-text">Editar</span>
    </button>

    <!-- Duplicar: POST y recargar lista -->
    <button class="ux-dropdown__item"
            hx-post="/items/{{ item.id }}/duplicate/"
            hx-target="#items-list"
            hx-swap="afterbegin"
            @click="close()">
      <span class="ux-dropdown__item-icon"><svg>...</svg></span>
      <span class="ux-dropdown__item-text">Duplicar</span>
    </button>

    <div class="ux-dropdown__divider"></div>

    <!-- Eliminar: DELETE con confirmacion -->
    <button class="ux-dropdown__item ux-dropdown__item--danger"
            hx-delete="/items/{{ item.id }}/"
            hx-target="closest .item-row"
            hx-swap="outerHTML swap:500ms"
            hx-confirm="Eliminar este elemento?"
            @click="close()">
      <span class="ux-dropdown__item-icon"><svg>...</svg></span>
      <span class="ux-dropdown__item-text">Eliminar</span>
    </button>
  </div>
</div></pre>

    <h4>Cambio de Estado</h4>
    <p>Dropdown para cambiar estado con feedback visual.</p>

    <ux-code src="examples/dropdown/htmx-estado.html" lang="html"></ux-code>

    <h4>Django View (Python)</h4>
    <ux-code src="examples/dropdown/django-views.html" lang="python"></ux-code>

    <h4>URLs Django</h4>
    <ux-code src="examples/dropdown/django-urls.html" lang="python"></ux-code>

    <h4>Bulk Actions</h4>
    <p>Dropdown para acciones masivas sobre elementos seleccionados.</p>

    <ux-code src="examples/dropdown/htmx-bulk.html" lang="html"></ux-code>
  </div>

</div>

<!-- Footer -->
<footer class="ux-padding" style="text-align: center; background: var(--ux-surface-secondary); color: var(--ux-text-secondary); font-size: var(--ux-font-size-sm);">
  <p>UX Library - Dropdown Component</p>
</footer>
