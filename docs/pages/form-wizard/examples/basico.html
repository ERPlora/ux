<div class="ux-form-wizard" x-data="uxFormWizard({ totalSteps: 4 })">
  <div class="ux-form-wizard__steps">
    <div class="ux-form-wizard__progress-line" :style="{ width: progressWidth }"></div>

    <div class="ux-form-wizard__step" :class="getStepClasses(0)" @click="goToStep(0)">
      <div class="ux-form-wizard__step-indicator">
        <template x-if="getStepIcon(0)"><span x-html="getStepIcon(0)"></span></template>
        <template x-if="!getStepIcon(0)">1</template>
      </div>
      <span class="ux-form-wizard__step-label">Account</span>
    </div>

    <div class="ux-form-wizard__step" :class="getStepClasses(1)" @click="goToStep(1)">
      <div class="ux-form-wizard__step-indicator">
        <template x-if="getStepIcon(1)"><span x-html="getStepIcon(1)"></span></template>
        <template x-if="!getStepIcon(1)">2</template>
      </div>
      <span class="ux-form-wizard__step-label">Personal</span>
    </div>

    <div class="ux-form-wizard__step" :class="getStepClasses(2)" @click="goToStep(2)">
      <div class="ux-form-wizard__step-indicator">
        <template x-if="getStepIcon(2)"><span x-html="getStepIcon(2)"></span></template>
        <template x-if="!getStepIcon(2)">3</template>
      </div>
      <span class="ux-form-wizard__step-label">Payment</span>
    </div>

    <div class="ux-form-wizard__step" :class="getStepClasses(3)" @click="goToStep(3)">
      <div class="ux-form-wizard__step-indicator">
        <template x-if="getStepIcon(3)"><span x-html="getStepIcon(3)"></span></template>
        <template x-if="!getStepIcon(3)">4</template>
      </div>
      <span class="ux-form-wizard__step-label">Confirm</span>
    </div>
  </div>

  <div class="ux-form-wizard__content">
    <div class="ux-form-wizard__panel" :class="{ 'ux-form-wizard__panel--active': currentStep === 0 }">
      <div class="ux-form-wizard__panel-header">
        <h3 class="ux-form-wizard__panel-title">Account Information</h3>
        <p class="ux-form-wizard__panel-subtitle">Enter your email and password</p>
      </div>
      <div class="ux-form-wizard__panel-body">
        <div class="form-row" style="margin-bottom: var(--ux-space-md);">
          <div class="ux-input-group ux-input-group--floating">
            <input type="email" class="ux-input" placeholder=" " id="email">
            <label class="ux-input__label" for="email">Email</label>
          </div>
        </div>
        <div class="form-row" style="margin-bottom: var(--ux-space-md);">
          <div class="ux-input-group ux-input-group--floating">
            <input type="password" class="ux-input" placeholder=" " id="password">
            <label class="ux-input__label" for="password">Password</label>
          </div>
        </div>
      </div>
    </div>

    <div class="ux-form-wizard__panel" :class="{ 'ux-form-wizard__panel--active': currentStep === 1 }">
      <div class="ux-form-wizard__panel-header">
        <h3 class="ux-form-wizard__panel-title">Personal Information</h3>
        <p class="ux-form-wizard__panel-subtitle">Tell us about yourself</p>
      </div>
      <div class="ux-form-wizard__panel-body">
        <div class="form-row" style="margin-bottom: var(--ux-space-md);">
          <div class="ux-input-group ux-input-group--floating">
            <input type="text" class="ux-input" placeholder=" " id="name">
            <label class="ux-input__label" for="name">Full Name</label>
          </div>
        </div>
        <div class="form-row" style="margin-bottom: var(--ux-space-md);">
          <div class="ux-input-group ux-input-group--floating">
            <input type="tel" class="ux-input" placeholder=" " id="phone">
            <label class="ux-input__label" for="phone">Phone</label>
          </div>
        </div>
      </div>
    </div>

    <div class="ux-form-wizard__panel" :class="{ 'ux-form-wizard__panel--active': currentStep === 2 }">
      <div class="ux-form-wizard__panel-header">
        <h3 class="ux-form-wizard__panel-title">Payment Details</h3>
        <p class="ux-form-wizard__panel-subtitle">Add your payment method</p>
      </div>
      <div class="ux-form-wizard__panel-body">
        <div class="form-row" style="margin-bottom: var(--ux-space-md);">
          <div class="ux-input-group ux-input-group--floating">
            <input type="text" class="ux-input" placeholder=" " id="card">
            <label class="ux-input__label" for="card">Card Number</label>
          </div>
        </div>
      </div>
    </div>

    <div class="ux-form-wizard__panel" :class="{ 'ux-form-wizard__panel--active': currentStep === 3 }">
      <div class="ux-form-wizard__panel-header">
        <h3 class="ux-form-wizard__panel-title">Confirm</h3>
        <p class="ux-form-wizard__panel-subtitle">Review and submit</p>
      </div>
      <div class="ux-form-wizard__panel-body">
        <p style="color: var(--ux-text-secondary);">Please review your information before submitting.</p>
      </div>
    </div>
  </div>

  <div class="ux-form-wizard__actions">
    <div class="ux-form-wizard__actions-start">
      <button class="ux-button" :disabled="isFirst" @click="prevStep()">Back</button>
    </div>
    <span class="ux-form-wizard__progress-text" x-text="progressText"></span>
    <div class="ux-form-wizard__actions-end">
      <template x-if="!isLast">
        <button class="ux-button ux-color-primary" @click="nextStep()">Continue</button>
      </template>
      <template x-if="isLast">
        <button class="ux-button ux-color-success" @click="submit()">Submit</button>
      </template>
    </div>
  </div>
</div>
