<div x-data="uxCart({
  items: [
    { id: 1, name: 'Cafe Americano Grande', price: 3.50, quantity: 2, image: 'https://images.unsplash.com/photo-1509042239860-f550ce710b93?w=100&h=100&fit=crop' },
    { id: 2, name: 'Croissant de Mantequilla', price: 2.80, quantity: 1, image: 'https://images.unsplash.com/photo-1555507036-ab1f4038808a?w=100&h=100&fit=crop' },
    { id: 3, name: 'Smoothie Tropical con Frutas Frescas', price: 5.90, quantity: 1, image: 'https://images.unsplash.com/photo-1505252585461-04db1eb84625?w=100&h=100&fit=crop' }
  ],
  taxRate: 21,
  currency: 'â‚¬',
  locale: 'es-ES',
  labels: {
    title: 'Carrito',
    subtotal: 'Subtotal',
    tax: 'IVA (21%)',
    total: 'Total',
    clearCart: 'Vaciar',
    checkout: 'Pagar',
    items: 'items'
  }
})" class="ux-cart ux-cart--bordered" style="height: 500px;">

  <!-- Header -->
  <div class="ux-cart__header">
    <h2 class="ux-cart__title">
      <span x-text="labels.title"></span>
      <span class="ux-cart__count" x-text="itemCount"></span>
    </h2>
    <button type="button" class="ux-cart__clear" @click="clearCart()" x-show="!isEmpty">
      <span x-html="getIcon('trash')"></span>
      <span x-text="labels.clearCart"></span>
    </button>
  </div>

  <!-- Items -->
  <div class="ux-cart__items">
    <template x-if="isEmpty">
      <div class="ux-cart__empty">
        <div class="ux-cart__empty-icon" x-html="getIcon('cart')"></div>
        <h3 class="ux-cart__empty-title" x-text="labels.empty"></h3>
        <p class="ux-cart__empty-text" x-text="labels.emptyText"></p>
      </div>
    </template>

    <ul class="ux-cart__items-list" x-show="!isEmpty">
      <template x-for="(item, index) in items" :key="item.id">
        <li class="ux-cart-item">
          <template x-if="item.image">
            <img :src="item.image" :alt="item.name" class="ux-cart-item__image">
          </template>
          <template x-if="!item.image">
            <div class="ux-cart-item__image-placeholder">
              <span x-html="getIcon('placeholder')"></span>
            </div>
          </template>

          <div class="ux-cart-item__content">
            <h4 class="ux-cart-item__name" x-text="item.name"></h4>
            <span class="ux-cart-item__unit-price" x-text="formatPrice(item.price) + ' c/u'"></span>

            <div class="ux-cart-item__qty">
              <button type="button" class="ux-cart-item__qty-btn" @click="decrementQuantity(index)">
                <span x-html="getIcon('minus')"></span>
              </button>
              <span class="ux-cart-item__qty-value" x-text="item.quantity"></span>
              <button type="button" class="ux-cart-item__qty-btn" @click="incrementQuantity(index)">
                <span x-html="getIcon('plus')"></span>
              </button>
            </div>
          </div>

          <div style="display: flex; flex-direction: column; align-items: flex-end; gap: var(--ux-space-xs);">
            <span class="ux-cart-item__price" x-text="formatPrice(item.price * item.quantity)"></span>
            <button type="button" class="ux-cart-item__remove" @click="removeItem(index)">
              <span x-html="getIcon('trash')"></span>
            </button>
          </div>
        </li>
      </template>
    </ul>
  </div>

  <!-- Summary -->
  <div class="ux-cart-summary" x-show="!isEmpty">
    <div class="ux-cart-summary__row">
      <span class="ux-cart-summary__label" x-text="labels.subtotal"></span>
      <span class="ux-cart-summary__value" x-text="formatPrice(subtotal)"></span>
    </div>
    <div class="ux-cart-summary__row" x-show="discount > 0">
      <span class="ux-cart-summary__label" x-text="labels.discount"></span>
      <span class="ux-cart-summary__value ux-cart-summary__row--discount" x-text="'-' + formatPrice(discount)"></span>
    </div>
    <div class="ux-cart-summary__row">
      <span class="ux-cart-summary__label" x-text="labels.tax"></span>
      <span class="ux-cart-summary__value" x-text="formatPrice(tax)"></span>
    </div>
    <div class="ux-cart-summary__row ux-cart-summary__row--total">
      <span class="ux-cart-summary__label" x-text="labels.total"></span>
      <span class="ux-cart-summary__value" x-text="formatPrice(total)"></span>
    </div>
  </div>

  <!-- Actions -->
  <div class="ux-cart__actions" x-show="!isEmpty">
    <button type="button" class="ux-button ux-color-primary ux-button--lg" @click="checkout()">
      <span x-text="labels.checkout + ' ' + formatPrice(total)"></span>
    </button>
  </div>
</div>
