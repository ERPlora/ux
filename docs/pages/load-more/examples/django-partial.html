<!-- Items to append -->
<div id="product-items">
  {% for product in page_obj %}
  <div class="ux-card">
    <div class="ux-card__content">
      <h3>{{ product.name }}</h3>
      <p>{{ product.description }}</p>
    </div>
  </div>
  {% endfor %}
</div>

<!-- Updated Load More Button (replaces previous) -->
<div id="load-more-replacement" hx-swap-oob="outerHTML:#load-more-container">
  {% if page_obj.has_next %}
  <div class="ux-load-more" id="load-more-container">
    <button
      class="ux-load-more__button"
      hx-get="?page={{ page_obj.next_page_number }}"
      hx-target="#product-list"
      hx-swap="beforeend"
      hx-indicator=".ux-load-more__spinner"
      hx-select="#product-items, #load-more-replacement">
      <span class="htmx-indicator ux-load-more__spinner"></span>
      <span>Load More</span>
    </button>
    <span class="ux-load-more__status">
      Showing {{ page_obj.start_index }}-{{ page_obj.end_index }} of {{ page_obj.paginator.count }}
    </span>
  </div>
  {% else %}
  <div class="ux-load-more ux-load-more--end" id="load-more-container">
    <div class="ux-load-more__end-message">All products loaded</div>
  </div>
  {% endif %}
</div>
