<div x-data="uxTree({
  expanded: ['inbox'],
  data: [
    { id: 'inbox', label: 'Bandeja de entrada', badge: 23, badgeType: 'primary', children: [
      { id: 'unread', label: 'No leidos', badge: 15 },
      { id: 'starred', label: 'Destacados', badge: 8 }
    ]},
    { id: 'sent', label: 'Enviados', badge: 142 },
    { id: 'drafts', label: 'Borradores', badge: 3 },
    { id: 'trash', label: 'Papelera' }
  ]
})">
  <div class="ux-tree ux-tree--bordered">
    <template x-for="node in data" :key="node.id">
      <div class="ux-tree__node">
        <div class="ux-tree__item" @click="toggle(node.id)">
          <span class="ux-tree__toggle"
                :class="{ 'ux-tree__toggle--expanded': expandedNodes.has(node.id), 'ux-tree__toggle--empty': !node.children }"
                x-html="icons.chevron"></span>
          <span class="ux-tree__label" x-text="node.label"></span>
          <span x-show="node.badge" class="ux-tree__badge" :class="{ 'ux-tree__badge--primary': node.badgeType === 'primary' }" x-text="node.badge"></span>
        </div>
        <template x-if="node.children && expandedNodes.has(node.id)">
          <ul class="ux-tree__list ux-tree__list--nested">
            <template x-for="child in node.children" :key="child.id">
              <li class="ux-tree__node">
                <div class="ux-tree__item">
                  <span class="ux-tree__toggle ux-tree__toggle--empty" x-html="icons.chevron"></span>
                  <span class="ux-tree__label" x-text="child.label"></span>
                  <span x-show="child.badge" class="ux-tree__badge" x-text="child.badge"></span>
                </div>
              </li>
            </template>
          </ul>
        </template>
      </div>
    </template>
  </div>
</div>
