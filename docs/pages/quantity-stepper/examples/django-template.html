<div class="cart-item" id="cart-item-{{ item.id }}">
  <div class="cart-item__info">
    <span>{{ item.product.name }}</span>
    <span>${{ item.subtotal }}</span>
  </div>

  <div class="ux-quantity-stepper"
       x-data="uxQuantityStepper({ value: {{ item.quantity }}, min: 1, max: {{ item.product.stock }} })"
       @quantity-change="
         htmx.ajax('POST', '/cart/update/{{ item.id }}/',
           { values: { quantity: $event.detail.value }, target: '#cart-item-{{ item.id }}', swap: 'outerHTML' }
         )
       ">
    <button class="ux-quantity-stepper__btn ux-quantity-stepper__btn--minus"
            :disabled="isAtMin" @click="decrement()" x-html="minusIcon"></button>
    <input type="text" class="ux-quantity-stepper__input" :value="value"
           @input="onInput($event)" @blur="onBlur($event)" inputmode="numeric">
    <button class="ux-quantity-stepper__btn ux-quantity-stepper__btn--plus"
            :disabled="isAtMax" @click="increment()" x-html="plusIcon"></button>
  </div>

  <button class="ux-button ux-button--clear ux-color-danger"
          hx-delete="/cart/remove/{{ item.id }}/"
          hx-target="#cart-item-{{ item.id }}"
          hx-swap="outerHTML"
          hx-confirm="Eliminar este producto?">
    Eliminar
  </button>
</div>
