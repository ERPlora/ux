<section class="component-section">
  <h3>Lista Basica</h3>
  <ux-playground src="pages/list/examples/basico.html"></ux-playground>
</section>

<section class="component-section">
  <h3>Lista Inset (iOS Style)</h3>
  <ux-playground src="pages/list/examples/inset.html"></ux-playground>
</section>

<section class="component-section">
  <h3>Con Avatar</h3>
  <ux-playground src="pages/list/examples/con-avatar.html"></ux-playground>
</section>

<section class="component-section">
  <h3>Con Toggle</h3>
  <ux-playground src="pages/list/examples/con-toggle.html"></ux-playground>
</section>

<section class="component-section">
  <h3>Con Header y Footer</h3>
  <ux-playground src="pages/list/examples/header-footer.html"></ux-playground>
</section>

<section class="component-section">
  <h3>Con Badge/Detail</h3>
  <ux-playground src="pages/list/examples/con-badge.html"></ux-playground>
</section>

<section class="component-section">
  <h3>Item Multilinea</h3>
  <ux-playground src="pages/list/examples/multilinea.html"></ux-playground>
</section>

<section class="component-section">
  <h3>Integracion con HTMX</h3>
  <p>HTMX es la tecnologia principal para cargar y manipular listas desde el servidor.</p>

  <h4 style="margin-top: var(--ux-space-lg); font-size: var(--ux-font-size-md);">Cargar lista desde servidor</h4>
  <p style="color: var(--ux-text-secondary);">Lista que carga items al cargar la pagina.</p>
  <pre class="ux-code-block" data-lang="html">&lt;div class="ux-list ux-list--inset"
     id="contacts-list"
     hx-get="/api/contacts"
     hx-trigger="load"
     hx-indicator="#list-loading"&gt;
  &lt;div id="list-loading" class="htmx-indicator" style="padding: var(--ux-space-lg); text-align: center;"&gt;
    &lt;span class="ux-spinner"&gt;&lt;/span&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre>

  <h4 style="margin-top: var(--ux-space-xl); font-size: var(--ux-font-size-md);">Click para cargar detalle</h4>
  <p style="color: var(--ux-text-secondary);">Cada item carga su detalle en un panel lateral.</p>
  <pre class="ux-code-block" data-lang="html">&lt;div class="ux-list ux-list--inset"&gt;
  &lt;a href="#"
     class="ux-item ux-item--button"
     hx-get="/api/users/1"
     hx-target="#user-detail"
     hx-swap="innerHTML"&gt;
    &lt;div class="ux-avatar ux-avatar--md"&gt;JD&lt;/div&gt;
    &lt;div class="ux-item__content"&gt;
      &lt;span class="ux-item__label"&gt;John Doe&lt;/span&gt;
      &lt;span class="ux-item__note"&gt;Desarrollador&lt;/span&gt;
    &lt;/div&gt;
    &lt;svg class="ux-item__chevron"&gt;...&lt;/svg&gt;
  &lt;/a&gt;
  &lt;a href="#"
     class="ux-item ux-item--button"
     hx-get="/api/users/2"
     hx-target="#user-detail"&gt;
    ...
  &lt;/a&gt;
&lt;/div&gt;

&lt;div id="user-detail"&gt;
  &lt;!-- Detalle cargado via HTMX --&gt;
&lt;/div&gt;</pre>

  <h4 style="margin-top: var(--ux-space-xl); font-size: var(--ux-font-size-md);">Toggles con guardado automatico</h4>
  <p style="color: var(--ux-text-secondary);">Los toggles guardan automaticamente al cambiar.</p>
  <pre class="ux-code-block" data-lang="html">&lt;div class="ux-list ux-list--inset"&gt;
  &lt;label class="ux-item"&gt;
    &lt;div class="ux-item__content"&gt;
      &lt;span class="ux-item__label"&gt;Notificaciones&lt;/span&gt;
    &lt;/div&gt;
    &lt;span class="ux-toggle"&gt;
      &lt;input type="checkbox"
             name="notifications"
             hx-post="/api/settings/notifications"
             hx-trigger="change"
             hx-swap="none"
             checked&gt;
      &lt;span class="ux-toggle__track"&gt;&lt;/span&gt;
    &lt;/span&gt;
  &lt;/label&gt;
  &lt;label class="ux-item"&gt;
    &lt;div class="ux-item__content"&gt;
      &lt;span class="ux-item__label"&gt;Modo Oscuro&lt;/span&gt;
    &lt;/div&gt;
    &lt;span class="ux-toggle"&gt;
      &lt;input type="checkbox"
             name="dark_mode"
             hx-post="/api/settings/dark_mode"
             hx-trigger="change"
             hx-swap="none"&gt;
      &lt;span class="ux-toggle__track"&gt;&lt;/span&gt;
    &lt;/span&gt;
  &lt;/label&gt;
&lt;/div&gt;</pre>

  <h4 style="margin-top: var(--ux-space-xl); font-size: var(--ux-font-size-md);">Eliminar item con swipe o boton</h4>
  <p style="color: var(--ux-text-secondary);">Eliminar elementos de la lista.</p>
  <pre class="ux-code-block" data-lang="html">&lt;div class="ux-list ux-list--inset" id="notifications-list"&gt;
  &lt;div class="ux-item" id="notif-1"&gt;
    &lt;div class="ux-item__content"&gt;
      &lt;span class="ux-item__label"&gt;Nueva actualizacion disponible&lt;/span&gt;
      &lt;span class="ux-item__note"&gt;Hace 5 minutos&lt;/span&gt;
    &lt;/div&gt;
    &lt;button class="ux-button ux-button--sm ux-color-danger--outline"
            hx-delete="/api/notifications/1"
            hx-target="#notif-1"
            hx-swap="outerHTML swap:300ms"&gt;
      Eliminar
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;!-- Servidor devuelve elemento vacio para animacion --&gt;
&lt;div class="ux-item" style="opacity: 0; max-height: 0; padding: 0;"&gt;&lt;/div&gt;</pre>

  <h4 style="margin-top: var(--ux-space-xl); font-size: var(--ux-font-size-md);">Busqueda y filtrado</h4>
  <p style="color: var(--ux-text-secondary);">Filtrar lista mientras se escribe.</p>
  <pre class="ux-code-block" data-lang="html">&lt;input type="search"
       class="ux-input"
       placeholder="Buscar contactos..."
       hx-get="/api/contacts/search"
       hx-trigger="input changed delay:300ms"
       hx-target="#contacts-list"
       name="q"&gt;

&lt;div class="ux-list ux-list--inset" id="contacts-list"&gt;
  &lt;!-- Resultados actualizados via HTMX --&gt;
&lt;/div&gt;</pre>

  <h4 style="margin-top: var(--ux-space-xl); font-size: var(--ux-font-size-md);">Agregar nuevo item</h4>
  <p style="color: var(--ux-text-secondary);">Agregar elementos a la lista sin recargar.</p>
  <pre class="ux-code-block" data-lang="html">&lt;form hx-post="/api/contacts"
      hx-target="#contacts-list"
      hx-swap="beforeend"
      hx-on::after-request="this.reset()"&gt;
  &lt;input type="text" name="name" class="ux-input" placeholder="Nombre" required&gt;
  &lt;input type="email" name="email" class="ux-input" placeholder="Email"&gt;
  &lt;button type="submit" class="ux-button ux-color-primary"&gt;Agregar&lt;/button&gt;
&lt;/form&gt;

&lt;div class="ux-list ux-list--inset" id="contacts-list"&gt;
  &lt;!-- Items existentes --&gt;
&lt;/div&gt;

&lt;!-- Servidor devuelve nuevo item --&gt;
&lt;div class="ux-item" id="contact-123"&gt;
  &lt;div class="ux-avatar"&gt;AB&lt;/div&gt;
  &lt;div class="ux-item__content"&gt;
    &lt;span class="ux-item__label"&gt;Ana Bella&lt;/span&gt;
    &lt;span class="ux-item__note"&gt;ana@email.com&lt;/span&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre>

  <h4 style="margin-top: var(--ux-space-xl); font-size: var(--ux-font-size-md);">Badge con contador en tiempo real</h4>
  <p style="color: var(--ux-text-secondary);">Actualizar contadores sin recargar.</p>
  <pre class="ux-code-block" data-lang="html">&lt;div class="ux-list ux-list--inset"&gt;
  &lt;a href="#" class="ux-item ux-item--button"&gt;
    &lt;div class="ux-item__content"&gt;
      &lt;span class="ux-item__label"&gt;Mensajes&lt;/span&gt;
    &lt;/div&gt;
    &lt;span id="msg-count"
          class="ux-badge ux-badge--danger"
          hx-get="/api/messages/count"
          hx-trigger="every 30s"&gt;5&lt;/span&gt;
  &lt;/a&gt;
  &lt;a href="#" class="ux-item ux-item--button"&gt;
    &lt;div class="ux-item__content"&gt;
      &lt;span class="ux-item__label"&gt;Pedidos pendientes&lt;/span&gt;
    &lt;/div&gt;
    &lt;span id="orders-count"
          class="ux-badge ux-badge--warning"
          hx-get="/api/orders/pending/count"
          hx-trigger="every 30s"&gt;3&lt;/span&gt;
  &lt;/a&gt;
&lt;/div&gt;</pre>

  <h4 style="margin-top: var(--ux-space-xl); font-size: var(--ux-font-size-md);">Menu de navegacion con estado activo</h4>
  <p style="color: var(--ux-text-secondary);">Cargar contenido y actualizar estado activo.</p>
  <pre class="ux-code-block" data-lang="html">&lt;div class="ux-list ux-list--inset"
     hx-boost="true"
     hx-target="#main-content"
     hx-select="#main-content"&gt;
  &lt;a href="/dashboard"
     class="ux-item ux-item--button ux-item--active"&gt;
    &lt;svg class="ux-item__icon"&gt;...&lt;/svg&gt;
    &lt;div class="ux-item__content"&gt;
      &lt;span class="ux-item__label"&gt;Dashboard&lt;/span&gt;
    &lt;/div&gt;
  &lt;/a&gt;
  &lt;a href="/products" class="ux-item ux-item--button"&gt;
    &lt;svg class="ux-item__icon"&gt;...&lt;/svg&gt;
    &lt;div class="ux-item__content"&gt;
      &lt;span class="ux-item__label"&gt;Productos&lt;/span&gt;
    &lt;/div&gt;
  &lt;/a&gt;
  &lt;a href="/orders" class="ux-item ux-item--button"&gt;
    &lt;svg class="ux-item__icon"&gt;...&lt;/svg&gt;
    &lt;div class="ux-item__content"&gt;
      &lt;span class="ux-item__label"&gt;Pedidos&lt;/span&gt;
    &lt;/div&gt;
  &lt;/a&gt;
&lt;/div&gt;</pre>
</section>

<section class="component-section">
  <h3>HTMX + Django</h3>
  <p>Ejemplos de integracion con Django para operaciones CRUD en listas.</p>

  <h4 style="margin-top: var(--ux-space-lg); font-size: var(--ux-font-size-md);">Lista con items cargados dinamicamente</h4>
  <p style="color: var(--ux-text-secondary);">Cargar lista de contactos desde Django al cargar la pagina.</p>
  <pre class="ux-code-block" data-lang="html">&lt;!-- Template: contacts.html --&gt;
&lt;div class="ux-list ux-list--inset"
     id="contacts-list"
     hx-get="{% url 'contacts_list' %}"
     hx-trigger="load"
     hx-indicator="#loading"&gt;
  &lt;div id="loading" class="htmx-indicator" style="padding: var(--ux-space-lg); text-align: center;"&gt;
    &lt;span class="ux-spinner"&gt;&lt;/span&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre>

  <pre class="ux-code-block" data-lang="django">&lt;!-- Template parcial: partials/contact_list.html --&gt;
{% for contact in contacts %}
&lt;div class="ux-item" id="contact-{{ contact.id }}"&gt;
  &lt;div class="ux-avatar ux-avatar--md" style="margin-right: var(--ux-space-md);"&gt;
    {{ contact.initials }}
  &lt;/div&gt;
  &lt;div class="ux-item__content"&gt;
    &lt;span class="ux-item__label"&gt;{{ contact.name }}&lt;/span&gt;
    &lt;span class="ux-item__note"&gt;{{ contact.email }}&lt;/span&gt;
  &lt;/div&gt;
  &lt;button class="ux-button ux-button--sm ux-color-danger--outline"
          hx-delete="{% url 'contact_delete' contact.id %}"
          hx-target="#contact-{{ contact.id }}"
          hx-swap="outerHTML swap:300ms"
          hx-confirm="Eliminar {{ contact.name }}?"&gt;
    Eliminar
  &lt;/button&gt;
&lt;/div&gt;
{% empty %}
&lt;div class="ux-item"&gt;
  &lt;div class="ux-item__content"&gt;
    &lt;span class="ux-item__label" style="color: var(--ux-text-secondary);"&gt;No hay contactos&lt;/span&gt;
  &lt;/div&gt;
&lt;/div&gt;
{% endfor %}</pre>

  <h4 style="margin-top: var(--ux-space-xl); font-size: var(--ux-font-size-md);">Eliminar item de lista via HTMX</h4>
  <p style="color: var(--ux-text-secondary);">Eliminar un contacto con confirmacion y animacion.</p>
  <pre class="ux-code-block" data-lang="html">&lt;!-- En el item de la lista --&gt;
&lt;div class="ux-item" id="contact-{{ contact.id }}"&gt;
  &lt;div class="ux-item__content"&gt;
    &lt;span class="ux-item__label"&gt;{{ contact.name }}&lt;/span&gt;
  &lt;/div&gt;
  &lt;button class="ux-button ux-button--sm ux-color-danger--outline"
          hx-delete="{% url 'contact_delete' contact.id %}"
          hx-target="#contact-{{ contact.id }}"
          hx-swap="outerHTML swap:300ms"
          hx-confirm="Estas seguro de eliminar este contacto?"&gt;
    &lt;svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;
      &lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/&gt;
    &lt;/svg&gt;
  &lt;/button&gt;
&lt;/div&gt;</pre>

  <h4 style="margin-top: var(--ux-space-xl); font-size: var(--ux-font-size-md);">Vista Django que maneja la lista</h4>
  <p style="color: var(--ux-text-secondary);">Views de Django para listar y eliminar contactos.</p>
  <pre class="ux-code-block" data-lang="python"># views.py
from django.shortcuts import render, get_object_or_404
from django.http import HttpResponse
from django.views.decorators.http import require_http_methods
from .models import Contact

def contacts_page(request):
    """Pagina principal con la lista vacia (se carga via HTMX)"""
    return render(request, 'contacts/contacts.html')

def contacts_list(request):
    """Devuelve los items de la lista (llamado via HTMX)"""
    contacts = Contact.objects.filter(user=request.user).order_by('name')
    return render(request, 'contacts/partials/contact_list.html', {
        'contacts': contacts
    })

@require_http_methods(["DELETE"])
def contact_delete(request, pk):
    """Elimina un contacto y devuelve elemento vacio para animacion"""
    contact = get_object_or_404(Contact, pk=pk, user=request.user)
    contact.delete()
    # Devolver elemento vacio que se desvanece
    return HttpResponse(
        '&lt;div class="ux-item" style="opacity: 0; max-height: 0; padding: 0; overflow: hidden; transition: all 0.3s ease;"&gt;&lt;/div&gt;'
    )

def contacts_search(request):
    """Busqueda de contactos"""
    query = request.GET.get('q', '')
    contacts = Contact.objects.filter(
        user=request.user,
        name__icontains=query
    ).order_by('name')
    return render(request, 'contacts/partials/contact_list.html', {
        'contacts': contacts
    })</pre>

  <pre class="ux-code-block" data-lang="python"># urls.py
from django.urls import path
from . import views

urlpatterns = [
    path('contacts/', views.contacts_page, name='contacts_page'),
    path('contacts/list/', views.contacts_list, name='contacts_list'),
    path('contacts/search/', views.contacts_search, name='contacts_search'),
    path('contacts/<int:pk>/delete/', views.contact_delete, name='contact_delete'),
]</pre>

  <pre class="ux-code-block" data-lang="python"># models.py
from django.db import models
from django.contrib.auth.models import User

class Contact(models.Model):
    user = models.ForeignKey(User, on_delete=models.CASCADE)
    name = models.CharField(max_length=100)
    email = models.EmailField(blank=True)
    phone = models.CharField(max_length=20, blank=True)
    created_at = models.DateTimeField(auto_now_add=True)

    @property
    def initials(self):
        parts = self.name.split()
        if len(parts) >= 2:
            return f"{parts[0][0]}{parts[1][0]}".upper()
        return self.name[:2].upper()

    def __str__(self):
        return self.name</pre>

  <h4 style="margin-top: var(--ux-space-xl); font-size: var(--ux-font-size-md);">Agregar contacto con formulario HTMX</h4>
  <p style="color: var(--ux-text-secondary);">Formulario que agrega items a la lista sin recargar.</p>
  <pre class="ux-code-block" data-lang="html">&lt;!-- Template: contacts.html --&gt;
&lt;form hx-post="{% url 'contact_create' %}"
      hx-target="#contacts-list"
      hx-swap="beforeend"
      hx-on::after-request="if(event.detail.successful) this.reset()"
      style="margin-bottom: var(--ux-space-lg);"&gt;
  {% csrf_token %}
  &lt;div style="display: flex; gap: var(--ux-space-sm);"&gt;
    &lt;input type="text" name="name" class="ux-input" placeholder="Nombre" required style="flex: 1;"&gt;
    &lt;input type="email" name="email" class="ux-input" placeholder="Email" style="flex: 1;"&gt;
    &lt;button type="submit" class="ux-button ux-color-primary"&gt;Agregar&lt;/button&gt;
  &lt;/div&gt;
&lt;/form&gt;

&lt;div class="ux-list ux-list--inset" id="contacts-list"
     hx-get="{% url 'contacts_list' %}"
     hx-trigger="load"&gt;
&lt;/div&gt;</pre>

  <pre class="ux-code-block" data-lang="python"># views.py - Agregar esta vista
from django.views.decorators.http import require_POST

@require_POST
def contact_create(request):
    """Crea un nuevo contacto y devuelve el HTML del item"""
    name = request.POST.get('name', '').strip()
    email = request.POST.get('email', '').strip()

    if not name:
        return HttpResponse(status=400)

    contact = Contact.objects.create(
        user=request.user,
        name=name,
        email=email
    )

    return render(request, 'contacts/partials/contact_item.html', {
        'contact': contact
    })</pre>

  <pre class="ux-code-block" data-lang="django">&lt;!-- Template parcial: partials/contact_item.html --&gt;
&lt;div class="ux-item" id="contact-{{ contact.id }}"&gt;
  &lt;div class="ux-avatar ux-avatar--md" style="margin-right: var(--ux-space-md);"&gt;
    {{ contact.initials }}
  &lt;/div&gt;
  &lt;div class="ux-item__content"&gt;
    &lt;span class="ux-item__label"&gt;{{ contact.name }}&lt;/span&gt;
    &lt;span class="ux-item__note"&gt;{{ contact.email|default:"Sin email" }}&lt;/span&gt;
  &lt;/div&gt;
  &lt;button class="ux-button ux-button--sm ux-color-danger--outline"
          hx-delete="{% url 'contact_delete' contact.id %}"
          hx-target="#contact-{{ contact.id }}"
          hx-swap="outerHTML swap:300ms"
          hx-confirm="Eliminar {{ contact.name }}?"&gt;
    Eliminar
  &lt;/button&gt;
&lt;/div&gt;</pre>
</section>
