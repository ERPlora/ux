<!-- Basic Numpad -->
<section class="component-section">
  <h3>Numpad Basico</h3>
  <p>Teclado numerico para entrada de cantidades. Incluye display, teclas numericas, borrar y confirmar.</p>

  <ux-playground src="pages/numpad/examples/basico.html"></ux-playground>
</section>

<!-- POS Numpad with Quick Amounts -->
<section class="component-section">
  <h3>Numpad POS con Montos Rapidos</h3>
  <p>Para punto de venta con botones de montos rapidos predefinidos.</p>

  <ux-playground src="pages/numpad/examples/pos-montos-rapidos.html"></ux-playground>
</section>

<!-- PIN Entry -->
<section class="component-section">
  <h3>Entrada de PIN</h3>
  <p>Modo PIN con puntos de mascara y autosubmit cuando se completa.</p>

  <ux-playground src="pages/numpad/examples/entrada-pin.html"></ux-playground>
</section>

<!-- Glass Variant -->
<section class="component-section">
  <h3>Variante Glass</h3>
  <p>Numpad con efecto glass morphism estilo iOS 26.</p>

  <ux-playground src="pages/numpad/examples/glass.html"></ux-playground>
</section>

<!-- PIN Pad Component -->
<section class="component-section">
  <h3>PIN Pad</h3>
  <p>Componente dedicado para entrada de PIN con botones circulares estilo iOS, indicadores de puntos animados, estados de error/success, y boton de backspace en la posicion correcta.</p>

  <ux-playground src="pages/numpad/examples/pinpad.html"></ux-playground>
</section>

<!-- PIN Pad with HTMX -->
<section class="component-section">
  <h3>PIN Pad con HTMX</h3>
  <p>Validacion de PIN en el servidor con HTMX.</p>

  <ux-playground src="pages/numpad/examples/pinpad-htmx.html"></ux-playground>

  <ux-code src="pages/numpad/examples/django-validate-pin.py" lang="python"></ux-code>
</section>

<!-- PIN Pad Sizes -->
<section class="component-section">
  <h3>PIN Pad - Tamanos</h3>
  <p>Variantes de tamano: pequeno (.ux-pinpad--sm) y grande (.ux-pinpad--lg).</p>

  <ux-playground src="pages/numpad/examples/pinpad-tamanos.html"></ux-playground>
</section>

<!-- Small Size -->
<section class="component-section">
  <h3>Tamanos</h3>
  <p>Variantes de tamano: pequeno (.ux-numpad--sm) y grande (.ux-numpad--lg).</p>

  <ux-playground src="pages/numpad/examples/tamanos.html"></ux-playground>
</section>

<!-- HTMX Integration -->
<section class="component-section">
  <h3>Integracion con HTMX</h3>
  <p>El numpad funciona perfectamente con HTMX. El valor se almacena en un input hidden que HTMX puede enviar al servidor.</p>

  <h4>Pago con HTMX</h4>
  <p>Enviar monto de pago al servidor cuando el usuario confirma.</p>

  <ux-playground src="pages/numpad/examples/htmx-pago.html"></ux-playground>

  <h4>PIN con Validacion HTMX</h4>
  <p>Validar PIN en el servidor automaticamente cuando se completan los 4 digitos.</p>

  <ux-playground src="pages/numpad/examples/htmx-pin.html"></ux-playground>

  <h4>Cantidad con Actualizacion en Tiempo Real</h4>
  <p>Actualizar precio total conforme cambia la cantidad.</p>

  <ux-playground src="pages/numpad/examples/htmx-cantidad.html"></ux-playground>

  <h4>Cambio POS (Efectivo)</h4>
  <p>Calcular cambio automaticamente en punto de venta.</p>

  <ux-playground src="pages/numpad/examples/pos-cambio.html"></ux-playground>
</section>

<!-- HTMX + Django Section -->
<section class="component-section">
  <h3>HTMX + Django</h3>
  <p>Ejemplos de integracion del numpad con Django para sistemas POS (Punto de Venta).</p>

  <h4>Vista Django para Procesar Pago</h4>
  <p>Endpoint que recibe el monto del numpad y procesa el pago.</p>

  <ux-code src="pages/numpad/examples/django-process-payment.py" lang="python"></ux-code>

  <h4>Template Django - Numpad POS</h4>
  <p>Template con numpad para cobro en efectivo.</p>

  <ux-code src="pages/numpad/examples/django-pos-template.html" lang="html"></ux-code>

  <h4>Vista Django - Calcular Cambio en Tiempo Real</h4>
  <p>Endpoint HTMX para calcular cambio mientras el usuario ingresa el monto.</p>

  <ux-code src="pages/numpad/examples/django-calculate-change.py" lang="python"></ux-code>

  <h4>Template Django - PIN de Empleado</h4>
  <p>Autenticacion de empleado con PIN usando numpad.</p>

  <ux-code src="pages/numpad/examples/django-employee-login.html" lang="html"></ux-code>

  <h4>Vista Django - Validar PIN</h4>

  <ux-code src="pages/numpad/examples/django-validate-employee-pin.py" lang="python"></ux-code>

  <h4>Template Django - Agregar Cantidad a Carrito</h4>
  <p>Numpad para ingresar cantidad de producto antes de agregarlo al carrito.</p>

  <ux-code src="pages/numpad/examples/django-add-to-cart.html" lang="html"></ux-code>

  <h4>URLs Django</h4>

  <ux-code src="pages/numpad/examples/django-urls.py" lang="python"></ux-code>
</section>

<!-- API Reference -->
<section class="component-section">
  <h3>Componente Alpine.js</h3>
  <div class="api-reference">
    <pre class="ux-code-block" data-lang="javascript">// Configuracion del componente uxNumpad
uxNumpad({
  // Valor inicial
  initialValue: '',

  // Limites
  maxLength: 12,          // Maximo de digitos
  decimals: 2,            // Decimales permitidos
  allowNegative: false,   // Permitir negativos
  allowDecimal: true,     // Permitir decimales

  // Moneda
  currency: '',           // Simbolo de moneda ('$', 'â‚¬')
  currencyPosition: 'prefix', // 'prefix' o 'suffix'

  // Modo PIN
  pinMode: false,         // Activar modo PIN
  pinLength: 4,           // Longitud del PIN
  pinMask: true,          // Ocultar digitos con puntos

  // Montos rapidos (para POS)
  quickAmounts: [],       // [5, 10, 20, 50, 100]

  // Labels
  labels: {
    clear: 'C',
    backspace: '&#9003;',
    enter: 'Enter',
    decimal: '.'
  }
})

// Propiedades reactivas:
value           // Valor actual como string
displayValue    // Valor formateado para display
hasDecimal      // Si tiene punto decimal
isNegative      // Si es negativo

// Metodos:
appendDigit(digit)    // Agregar digito (0-9)
appendDecimal()       // Agregar punto decimal
backspace()           // Borrar ultimo caracter
clear()               // Limpiar todo
toggleNegative()      // Cambiar signo +/-
setQuickAmount(n)     // Establecer monto rapido
getNumericValue()     // Obtener valor numerico
submit()              // Emitir evento submit
getIcon(name)         // Obtener icono SVG
getPinDots()          // Array de estados de PIN dots

// Eventos emitidos:
@numpad-change        // { value, numericValue, displayValue }
@numpad-submit        // { value, numericValue, displayValue, isNegative }

// Soporte de teclado (automatico):
0-9       Agregar digito
. ,       Agregar decimal
Backspace Borrar ultimo
Delete    Limpiar todo
Enter     Submit
-         Toggle negativo</pre>
  </div>

  <h4>Componente uxPinpad</h4>
  <div class="api-reference">
    <pre class="ux-code-block" data-lang="javascript">// Configuracion del componente uxPinpad
uxPinpad({
  // Longitud del PIN
  length: 4,              // Numero de digitos (4 o 6)

  // Textos
  label: 'Introduce tu PIN',
  hint: '',               // Texto de ayuda
  loadingText: 'Verificando...',
})

// Propiedades reactivas:
pin             // PIN actual como string
length          // Longitud del PIN
loading         // Estado de carga
error           // Estado de error
success         // Estado de exito
errorMessage    // Mensaje de error
keys            // Array de teclas [1-9, '', 0, 'backspace']

// Metodos:
handleKey(key)        // Manejar tecla (numero o 'backspace')
clear()               // Limpiar PIN
submit()              // Emitir evento submit
setLoading(bool)      // Activar/desactivar loading
setError(message)     // Mostrar error con animacion shake
setSuccess()          // Mostrar estado success
isDotFilled(index)    // Verificar si dot esta lleno
getDotClass(index)    // Obtener clase CSS del dot
getBackspaceIcon()    // Obtener SVG de backspace

// Eventos emitidos:
@pinpad-submit        // { pin: '1234' }

// Soporte de teclado (automatico):
0-9       Agregar digito
Backspace Borrar ultimo
Delete    Limpiar todo
Escape    Limpiar todo</pre>
  </div>
</section>

<!-- CSS Classes -->
<section class="component-section">
  <h3>Clases CSS</h3>
  <div class="api-reference">
    <pre class="ux-code-block" data-lang="css">/* Contenedor */
.ux-numpad                    // Contenedor principal
.ux-numpad--sm                // Tamano pequeno
.ux-numpad--lg                // Tamano grande
.ux-numpad--compact           // Padding reducido
.ux-numpad--full-width        // Ancho completo
.ux-numpad--glass             // Variante glass
.ux-numpad--pin               // Modo PIN
.ux-numpad--calculator        // Layout calculadora

/* Display */
.ux-numpad__display           // Display de valor
.ux-numpad__display--sm       // Display pequeno
.ux-numpad__display--lg       // Display grande
.ux-numpad__display-value     // Valor
.ux-numpad__display-currency  // Simbolo moneda
.ux-numpad__display-label     // Etiqueta

/* Grid */
.ux-numpad__grid              // Grid de teclas
.ux-numpad__grid--4cols       // Grid de 4 columnas

/* Teclas */
.ux-numpad__key               // Tecla base
.ux-numpad__key--wide         // Tecla doble ancho
.ux-numpad__key--tall         // Tecla doble alto
.ux-numpad__key--action       // Tecla de accion
.ux-numpad__key--primary      // Tecla primaria
.ux-numpad__key--success      // Tecla success
.ux-numpad__key--danger       // Tecla danger
.ux-numpad__key--disabled     // Tecla deshabilitada

/* Montos rapidos */
.ux-numpad__quick-amounts     // Contenedor montos
.ux-numpad__quick-btn         // Boton de monto

/* PIN (numpad mode) */
.ux-numpad__pin-dots          // Contenedor dots
.ux-numpad__pin-dot           // Dot individual
.ux-numpad__pin-dot--filled   // Dot relleno

/* ========================================
   PIN Pad Component
======================================== */

/* Contenedor */
.ux-pinpad                    // Contenedor principal
.ux-pinpad--sm                // Tamano pequeno
.ux-pinpad--lg                // Tamano grande
.ux-pinpad--glass             // Variante glass

/* Elementos */
.ux-pinpad__label             // Label/titulo
.ux-pinpad__dots              // Contenedor de dots
.ux-pinpad__dot               // Dot individual
.ux-pinpad__dot--filled       // Dot relleno
.ux-pinpad__dot--error        // Dot en error (rojo + shake)
.ux-pinpad__dot--success      // Dot success (verde)
.ux-pinpad__grid              // Grid de teclas
.ux-pinpad__key               // Tecla circular
.ux-pinpad__key--hidden       // Tecla oculta (espacio vacio)
.ux-pinpad__loading           // Indicador de carga
.ux-pinpad__hint              // Texto de ayuda
.ux-pinpad__error             // Mensaje de error</pre>
  </div>
</section>

<style>
  .demo-section { margin-bottom: var(--ux-space-xl); }
  .demo-section h3 { font-size: var(--ux-font-size-lg); font-weight: 600; margin-bottom: var(--ux-space-md); color: var(--ux-text); }
  .demo-section h4 { font-size: var(--ux-font-size-md); font-weight: 600; margin-top: var(--ux-space-xl); margin-bottom: var(--ux-space-sm); color: var(--ux-text); }
  .demo-section p { font-size: var(--ux-font-size-md); color: var(--ux-text-secondary); margin-bottom: var(--ux-space-md); }
  .api-reference { background: var(--ux-surface); padding: var(--ux-space-lg); border-radius: var(--ux-border-radius-lg); }
</style>
