<style>
    .demo-section { margin-bottom: var(--ux-space-xl); padding: var(--ux-space-lg); }
    .demo-section h3 { font-size: var(--ux-font-size-lg); font-weight: 600; margin-bottom: var(--ux-space-md); }
    .demo-section p { font-size: var(--ux-font-size-md); color: var(--ux-text-secondary); margin-bottom: var(--ux-space-md); }
    .demo-box { background: var(--ux-surface); border: 1px solid var(--ux-border-color); border-radius: var(--ux-border-radius-lg); margin-bottom: var(--ux-space-md); overflow: hidden; }

    /* Demo item styles */
    .virtual-item {
      display: flex;
      align-items: center;
      padding: var(--ux-space-md);
      border-bottom: 1px solid var(--ux-border-color);
    }
    .virtual-item__avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--ux-surface-secondary);
      margin-right: var(--ux-space-md);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      color: var(--ux-text-secondary);
    }
    .virtual-item__content {
      flex: 1;
      min-width: 0;
    }
    .virtual-item__title {
      font-weight: 500;
      color: var(--ux-text);
      margin-bottom: 2px;
    }
    .virtual-item__subtitle {
      font-size: var(--ux-font-size-sm);
      color: var(--ux-text-secondary);
    }
    .virtual-item__end {
      font-size: var(--ux-font-size-xs);
      color: var(--ux-text-tertiary);
    }
  </style>

<!-- Basic Virtual List -->
  <div class="demo-section">
    <h3>Virtual List Basico</h3>
    <p>Lista virtualizada con 10,000 elementos. Solo se renderizan los elementos visibles en pantalla para mantener un rendimiento optimo.</p>

    <ux-playground src="examples/virtual-list/virtual-list-basico.html"></ux-playground>
      <div class="demo-box" x-data="{
      virtualList: null,
      // Generate 10,000 items
      items: Array.from({ length: 10000 }, (_, i) => ({
        id: i + 1,
        name: 'Usuario ' + (i + 1),
        email: 'usuario' + (i + 1) + '@example.com',
        avatar: String.fromCharCode(65 + (i % 26))
      }))
    }">
      <div class="ux-virtual-list"
           x-data="uxVirtualList({ items: $data.items, itemHeight: 72 })"
           style="height: 400px;">

        <!-- Virtual container -->
        <div class="ux-virtual-list__container" :style="containerStyle">
          <div class="ux-virtual-list__content" :style="contentStyle">
            <template x-for="item in visibleItems" :key="item.id">
              <div class="virtual-item ux-virtual-list__item" :style="{ height: itemHeight + 'px' }">
                <div class="virtual-item__avatar" x-text="item.avatar"></div>
                <div class="virtual-item__content">
                  <div class="virtual-item__title" x-text="item.name"></div>
                  <div class="virtual-item__subtitle" x-text="item.email"></div>
                </div>
                <div class="virtual-item__end" x-text="'#' + item.id"></div>
              </div>
            </template>
          </div>
        </div>

        <!-- Scroll to top button -->
        <button class="ux-virtual-list__scroll-top"
                :class="{ 'ux-virtual-list__scroll-top--visible': showScrollTopButton }"
                @click="scrollToTop()">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 15l-6-6-6 6"/>
          </svg>
        </button>
      </div>

      <div style="padding: var(--ux-space-md); background: var(--ux-surface-secondary); font-size: var(--ux-font-size-sm); color: var(--ux-text-secondary);">
        10,000 elementos - Solo se renderizan los visibles
      </div>
    </div>

    <pre class="ux-code-block" data-lang="html"><div class="ux-virtual-list"
     x-data="uxVirtualList({
       items: myItems,      // Array de 10,000 items
       itemHeight: 72       // Altura fija de cada item
     })"
     style="height: 400px;">

  <div class="ux-virtual-list__container" :style="containerStyle">
    <div class="ux-virtual-list__content" :style="contentStyle">
      <template x-for="item in visibleItems" :key="item.id">
        <div class="ux-virtual-list__item" :style="{ height: itemHeight + 'px' }">
          <!-- Item content -->
        </div>
      </template>
    </div>
  </div>
</div></pre>
  </div>

  <!-- With Infinite Scroll -->
  <div class="demo-section">
    <h3>Con Scroll Infinito</h3>
    <p>Carga mas elementos automaticamente cuando el usuario llega al final de la lista.</p>

    <ux-playground src="examples/virtual-list/con-scroll-infinito.html"></ux-playground>
      <div class="demo-box" x-data="{
      items: Array.from({ length: 50 }, (_, i) => ({
        id: i + 1,
        title: 'Articulo ' + (i + 1),
        excerpt: 'Este es el contenido del articulo numero ' + (i + 1)
      })),
      hasMore: true,
      nextId: 51,
      async loadMore() {
        // Simulate API delay
        await new Promise(r => setTimeout(r, 1000));
        const newItems = Array.from({ length: 20 }, (_, i) => ({
          id: this.nextId + i,
          title: 'Articulo ' + (this.nextId + i),
          excerpt: 'Este es el contenido del articulo numero ' + (this.nextId + i)
        }));
        this.items = [...this.items, ...newItems];
        this.nextId += 20;
        if (this.items.length >= 200) {
          this.hasMore = false;
        }
      }
    }">
      <div class="ux-virtual-list ux-virtual-list--bordered"
           x-data="uxVirtualList({
             items: $data.items,
             itemHeight: 80,
             hasMore: $data.hasMore,
             loadMore: () => $data.loadMore()
           })"
           x-effect="setItems($data.items); hasMore = $data.hasMore"
           style="height: 350px;">

        <div class="ux-virtual-list__container" :style="containerStyle">
          <div class="ux-virtual-list__content" :style="contentStyle">
            <template x-for="item in visibleItems" :key="item.id">
              <div class="ux-virtual-list__item" :style="{ height: itemHeight + 'px', padding: 'var(--ux-space-md)' }">
                <div style="font-weight: 500; margin-bottom: 4px;" x-text="item.title"></div>
                <div style="font-size: var(--ux-font-size-sm); color: var(--ux-text-secondary);" x-text="item.excerpt"></div>
              </div>
            </template>
          </div>
        </div>

        <!-- Loading indicator -->
        <div class="ux-virtual-list__loader" x-show="loadingMore">
          <div class="ux-virtual-list__spinner"></div>
          <span class="ux-virtual-list__loader-text">Cargando mas...</span>
        </div>
      </div>

      <div style="padding: var(--ux-space-md); background: var(--ux-surface-secondary); font-size: var(--ux-font-size-sm); display: flex; justify-content: space-between;">
        <span x-text="items.length + ' elementos cargados'"></span>
        <span x-show="!hasMore" style="color: var(--ux-success);">Todos los elementos cargados</span>
      </div>
    </div>

    <pre class="ux-code-block" data-lang="html">x-data="uxVirtualList({
  items: myItems,
  itemHeight: 80,
  hasMore: true,                    // Hay mas elementos?
  loadMore: () => loadMoreItems(),  // Funcion async para cargar mas
  infiniteScrollThreshold: 200      // Pixeles antes del final
})"

// loadMore se llama automaticamente cuando el scroll
// llega a 200px del final</pre>
  </div>

  <!-- With Scroll to Index -->
  <div class="demo-section">
    <h3>Navegacion por Indice</h3>
    <p>Navega directamente a un elemento especifico por su indice.</p>

    <ux-playground src="examples/virtual-list/navegacion-por-indice.html"></ux-playground>
      <div class="demo-box" x-data="{
      items: Array.from({ length: 1000 }, (_, i) => ({
        id: i,
        label: 'Item ' + i
      })),
      targetIndex: 500
    }">
      <div style="padding: var(--ux-space-md); display: flex; gap: var(--ux-space-sm); align-items: center; border-bottom: 1px solid var(--ux-border-color);">
        <div class="ux-input-group" style="width: 100px; flex-shrink: 0;">
          <input type="number" class="ux-input" x-model.number="targetIndex" min="0" max="999" placeholder="Indice">
        </div>
        <button class="ux-button ux-color-primary ux-button--sm" @click="$refs.virtualList.scrollToIndex(targetIndex)">
          Ir al indice
        </button>
        <button class="ux-button ux-button--outline ux-button--sm" @click="$refs.virtualList.scrollToIndex(0)">
          Ir al inicio
        </button>
        <button class="ux-button ux-button--outline ux-button--sm" @click="$refs.virtualList.scrollToIndex(999)">
          Ir al final
        </button>
      </div>

      <div class="ux-virtual-list"
           x-ref="virtualList"
           x-data="uxVirtualList({ items: $data.items, itemHeight: 50 })"
           style="height: 300px;">

        <div class="ux-virtual-list__container" :style="containerStyle">
          <div class="ux-virtual-list__content" :style="contentStyle">
            <template x-for="item in visibleItems" :key="item.id">
              <div class="ux-virtual-list__item"
                   :style="{ height: itemHeight + 'px', display: 'flex', alignItems: 'center', padding: '0 var(--ux-space-md)', borderBottom: '1px solid var(--ux-border-color)' }">
                <span class="ux-badge ux-color-primary" style="margin-right: var(--ux-space-sm);" x-text="item.id"></span>
                <span x-text="item.label"></span>
              </div>
            </template>
          </div>
        </div>
      </div>

      <div style="padding: var(--ux-space-sm) var(--ux-space-md); background: var(--ux-surface-secondary); font-size: var(--ux-font-size-xs); color: var(--ux-text-tertiary);">
        1,000 elementos - Renderizando solo los visibles
      </div>
    </div>

    <pre class="ux-code-block" data-lang="html">// Metodos de navegacion
scrollToIndex(index, behavior)  // Ir a un indice especifico
scrollToTop(behavior)           // Ir al inicio

// behavior: 'smooth' (default) o 'instant'</pre>
  </div>

  <!-- Performance Stats -->
  <div class="demo-section">
    <h3>Estadisticas de Rendimiento</h3>
    <p>Informacion en tiempo real sobre la virtualizacion.</p>

    <ux-playground src="examples/virtual-list/estadisticas-de-rendimiento.html"></ux-playground>
      <div class="demo-box" x-data="{
      items: Array.from({ length: 5000 }, (_, i) => ({
        id: i,
        value: Math.round(Math.random() * 100)
      }))
    }">
      <div class="ux-virtual-list"
           x-data="uxVirtualList({ items: $data.items, itemHeight: 44, buffer: 3 })"
           @virtuallist:scroll.window="$dispatch('stats-update', getVisibleRange())"
           style="height: 300px;">

        <div class="ux-virtual-list__container" :style="containerStyle">
          <div class="ux-virtual-list__content" :style="contentStyle">
            <template x-for="item in visibleItems" :key="item.id">
              <div class="ux-virtual-list__item"
                   :style="{ height: itemHeight + 'px', display: 'flex', alignItems: 'center', justifyContent: 'space-between', padding: '0 var(--ux-space-md)', borderBottom: '1px solid var(--ux-border-color)' }">
                <span>Fila <span x-text="item.id"></span></span>
                <div style="width: 100px; height: 8px; background: var(--ux-surface-secondary); border-radius: 4px; overflow: hidden;">
                  <div :style="{ width: item.value + '%', height: '100%', background: 'var(--ux-primary)' }"></div>
                </div>
                <span style="font-size: var(--ux-font-size-sm); color: var(--ux-text-secondary);" x-text="item.value + '%'"></span>
              </div>
            </template>
          </div>
        </div>

        <!-- Stats panel -->
        <div style="position: absolute; bottom: var(--ux-space-sm); left: var(--ux-space-sm); right: var(--ux-space-sm); padding: var(--ux-space-sm); background: rgba(0,0,0,0.8); color: var(--ux-primary-contrast); border-radius: var(--ux-radius-md); font-size: var(--ux-font-size-xs); display: flex; gap: var(--ux-space-md);">
          <span>Total: <strong x-text="items.length"></strong></span>
          <span>Visible: <strong x-text="visibleItems.length"></strong></span>
          <span>Rango: <strong x-text="startIndex + '-' + endIndex"></strong></span>
          <span>Scroll: <strong x-text="scrollPercentage + '%'"></strong></span>
        </div>

        <!-- Scroll to top -->
        <button class="ux-virtual-list__scroll-top"
                :class="{ 'ux-virtual-list__scroll-top--visible': showScrollTopButton }"
                @click="scrollToTop()">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 15l-6-6-6 6"/>
          </svg>
        </button>
      </div>
    </div>
  </div>

  <!-- Empty State -->
  <div class="demo-section">
    <h3>Estado Vacio</h3>
    <p>Cuando no hay elementos para mostrar.</p>

    <ux-playground src="examples/virtual-list/estado-vacio.html"></ux-playground>
      <div class="demo-box">
      <div class="ux-virtual-list"
           x-data="uxVirtualList({
             items: [],
             itemHeight: 50,
             emptyTitle: 'Lista vacia',
             emptyText: 'No hay elementos que mostrar en esta lista.'
           })"
           style="height: 200px;">

        <template x-if="items.length === 0 && !loading">
          <div class="ux-virtual-list__empty">
            <svg class="ux-virtual-list__empty-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M3 6h18M3 12h18M3 18h18"/>
            </svg>
            <h4 class="ux-virtual-list__empty-title" x-text="emptyTitle"></h4>
            <p class="ux-virtual-list__empty-text" x-text="emptyText"></p>
          </div>
        </template>
      </div>
    </div>
  </div>

  <!-- CSS Classes -->
  <div class="demo-section">
    <h3>Clases CSS</h3>
    <ux-playground src="examples/virtual-list/clases-css.html"></ux-playground>
      <div class="demo-box" style="padding: var(--ux-space-lg);">
      <pre class="ux-code-block" data-lang="html">/* Container */
.ux-virtual-list              // Contenedor principal (debe tener altura fija)
.ux-virtual-list--striped     // Filas alternadas
.ux-virtual-list--bordered    // Con bordes entre items
.ux-virtual-list--glass       // Glass morphism

/* Structure */
.ux-virtual-list__container   // Contenedor total height
.ux-virtual-list__content     // Contenedor items visibles
.ux-virtual-list__item        // Item individual

/* States */
.ux-virtual-list__loader      // Indicador de carga
.ux-virtual-list__spinner     // Spinner animado
.ux-virtual-list__empty       // Estado vacio
.ux-virtual-list__empty-icon  // Icono estado vacio
.ux-virtual-list__empty-title // Titulo estado vacio
.ux-virtual-list__empty-text  // Texto estado vacio

/* Scroll */
.ux-virtual-list__scroll-top  // Boton scroll to top
.ux-virtual-list__scroll-top--visible // Visible</pre>
    </div>
  </div>

  <!-- Alpine Component -->
  <div class="demo-section">
    <h3>Componente Alpine.js</h3>
    <ux-playground src="examples/virtual-list/componente-alpinejs.html"></ux-playground>
      <div class="demo-box" style="padding: var(--ux-space-lg);">
      <pre class="ux-code-block" data-lang="html">// Configuracion
uxVirtualList({
  items: [],                 // Array de elementos
  itemHeight: 50,            // Altura fija de cada item (px)
  buffer: 5,                 // Items extra arriba/abajo del viewport

  // Loading states
  loading: false,            // Cargando inicial
  loadingText: 'Cargando...', // Texto de carga

  // Empty state
  emptyTitle: 'Sin elementos',
  emptyText: 'No hay elementos para mostrar.',

  // Scroll to top
  showScrollTop: true,       // Mostrar boton scroll top
  scrollTopThreshold: 300,   // Pixeles para mostrar boton

  // Infinite scroll
  hasMore: false,            // Hay mas elementos?
  loadMore: null,            // Funcion async para cargar mas
  infiniteScrollThreshold: 200 // Pixeles antes del final
})

// Propiedades reactivas
visibleItems     // Items actualmente visibles
startIndex       // Indice del primer item visible
endIndex         // Indice del ultimo item visible
scrollTop        // Posicion de scroll actual
totalHeight      // Altura total del contenedor
scrollPercentage // Porcentaje de scroll (0-100)
showScrollTopButton // Mostrar boton scroll top

// Metodos
setItems(items)           // Reemplazar todos los items
addItems(items)           // Agregar items al final
prependItems(items)       // Agregar items al inicio
removeItem(index)         // Eliminar item por indice
updateItem(index, data)   // Actualizar item
getItem(index)            // Obtener item por indice
scrollToIndex(i, behavior) // Scroll a indice
scrollToTop(behavior)     // Scroll al inicio
getVisibleRange()         // { start, end, count }
isItemVisible(index)      // Check si item es visible

// Eventos
@virtuallist:scroll       // { scrollTop, startIndex, endIndex }
@virtuallist:loadmore     // Cuando se activa infinite scroll</pre>
    </div>
  </div>

  <!-- HTMX + Django -->
  <div class="demo-section">
    <h3>HTMX + Django</h3>
    <p>Integracion de lista virtual con Django y HTMX para cargar datos desde el servidor con scroll infinito.</p>

    <ux-playground src="examples/virtual-list/htmx-django.html"></ux-playground>
      <div class="demo-box" style="padding: var(--ux-space-lg);">
      <h4 style="margin-bottom: var(--ux-space-md); font-weight: 600;">Template Django (lista_virtual.html)</h4>
      <pre class="ux-code-block" data-lang="html"><!-- Lista virtual con carga HTMX -->
<div class="ux-virtual-list"
     x-data="uxVirtualList({
       items: [],
       itemHeight: 72,
       hasMore: true,
       loadMore: () => htmx.trigger($refs.loader, 'loadMore')
     })"
     x-ref="virtualList"
     @items-loaded.window="setItems($event.detail.items); hasMore = $event.detail.hasMore"
     @items-appended.window="addItems($event.detail.items); hasMore = $event.detail.hasMore"
     style="height: 500px;">

  <!-- Trigger inicial para cargar datos -->
  <div hx-get="{% url 'virtual_list_items' %}"
       hx-trigger="load"
       hx-vals='{"page": 1}'
       hx-swap="none"></div>

  <!-- Trigger para cargar mas (infinite scroll) -->
  <div x-ref="loader"
       hx-get="{% url 'virtual_list_items' %}"
       hx-trigger="loadMore"
       hx-vals="js:{page: Math.floor($refs.virtualList.items.length / 20) + 1}"
       hx-swap="none"></div>

  <div class="ux-virtual-list__container" :style="containerStyle">
    <div class="ux-virtual-list__content" :style="contentStyle">
      <template x-for="item in visibleItems" :key="item.id">
        <div class="ux-virtual-list__item virtual-item" :style="{ height: itemHeight + 'px' }">
          <div class="virtual-item__avatar" x-text="item.initials"></div>
          <div class="virtual-item__content">
            <div class="virtual-item__title" x-text="item.name"></div>
            <div class="virtual-item__subtitle" x-text="item.email"></div>
          </div>
          <div class="virtual-item__end" x-text="item.date"></div>
        </div>
      </template>
    </div>
  </div>

  <!-- Loading indicator -->
  <div class="ux-virtual-list__loader" x-show="loadingMore">
    <div class="ux-virtual-list__spinner"></div>
    <span class="ux-virtual-list__loader-text">Cargando...</span>
  </div>
</div></pre>
    </div>

    <ux-playground src="examples/virtual-list/template-django-listavirtualhtml.html"></ux-playground>
      <div class="demo-box" style="padding: var(--ux-space-lg);">
      <h4 style="margin-bottom: var(--ux-space-md); font-weight: 600;">Vista Django (views.py)</h4>
      <pre class="ux-code-block" data-lang="python">from django.http import HttpResponse
from django.core.paginator import Paginator
import json

def virtual_list_items(request):
    """Endpoint para cargar items de lista virtual."""
    page = int(request.GET.get('page', 1))
    per_page = 20

    # Obtener todos los usuarios (o filtrar segun necesidad)
    users = User.objects.all().order_by('-created_at')
    paginator = Paginator(users, per_page)
    page_obj = paginator.get_page(page)

    # Serializar items para Alpine.js
    items = [{
        'id': user.id,
        'name': user.get_full_name(),
        'email': user.email,
        'initials': user.get_initials(),
        'date': user.created_at.strftime('%d/%m/%Y')
    } for user in page_obj]

    has_more = page_obj.has_next()
    is_first_page = page == 1

    # Dispatch evento segun si es carga inicial o siguiente pagina
    event_name = 'items-loaded' if is_first_page else 'items-appended'

    return HttpResponse(
        f'''<script>
            window.dispatchEvent(new CustomEvent('{event_name}', {{
                detail: {{
                    items: {json.dumps(items)},
                    hasMore: {'true' if has_more else 'false'},
                    page: {page}
                }}
            }}));
        </script>''',
        content_type='text/html'
    )</pre>
    </div>

    <ux-playground src="examples/virtual-list/vista-django-viewspy.html"></ux-playground>
      <div class="demo-box" style="padding: var(--ux-space-lg);">
      <h4 style="margin-bottom: var(--ux-space-md); font-weight: 600;">URLs Django (urls.py)</h4>
      <pre class="ux-code-block" data-lang="python">from django.urls import path
from . import views

urlpatterns = [
    path('api/virtual-list/', views.virtual_list_items, name='virtual_list_items'),
]</pre>
    </div>

    <ux-playground src="examples/virtual-list/urls-django-urlspy.html"></ux-playground>
      <div class="demo-box" style="padding: var(--ux-space-lg);">
      <h4 style="margin-bottom: var(--ux-space-md); font-weight: 600;">Con Busqueda y Filtros</h4>
      <pre class="ux-code-block" data-lang="html"><!-- Searchbar con HTMX -->
<div x-data="{ search: '', filters: {} }">
  <div class="ux-searchbar">
    <input type="search"
           x-model="search"
           hx-get="{% url 'virtual_list_items' %}"
           hx-trigger="input changed delay:300ms"
           hx-vals="js:{search: search, page: 1}"
           hx-swap="none"
           placeholder="Buscar usuarios...">
  </div>

  <div class="ux-virtual-list"
       x-data="uxVirtualList({ items: [], itemHeight: 72 })"
       @items-loaded.window="setItems($event.detail.items); hasMore = $event.detail.hasMore"
       style="height: 400px;">
    <!-- ... contenido de lista ... -->
  </div>
</div></pre>
    </div>

    <ux-playground src="examples/virtual-list/con-busqueda-y-filtros.html"></ux-playground>
      <div class="demo-box" style="padding: var(--ux-space-lg);">
      <h4 style="margin-bottom: var(--ux-space-md); font-weight: 600;">Vista con Busqueda (views.py)</h4>
      <pre class="ux-code-block" data-lang="python">def virtual_list_items(request):
    """Endpoint con soporte para busqueda."""
    page = int(request.GET.get('page', 1))
    search = request.GET.get('search', '').strip()
    per_page = 20

    users = User.objects.all()

    # Aplicar filtro de busqueda
    if search:
        users = users.filter(
            Q(first_name__icontains=search) |
            Q(last_name__icontains=search) |
            Q(email__icontains=search)
        )

    users = users.order_by('-created_at')
    paginator = Paginator(users, per_page)
    page_obj = paginator.get_page(page)

    items = [{
        'id': user.id,
        'name': user.get_full_name(),
        'email': user.email,
        'initials': user.get_initials(),
        'date': user.created_at.strftime('%d/%m/%Y')
    } for user in page_obj]

    # Siempre usar 'items-loaded' cuando hay busqueda para reemplazar lista
    event_name = 'items-loaded' if (page == 1 or search) else 'items-appended'

    return HttpResponse(
        f'''<script>
            window.dispatchEvent(new CustomEvent('{event_name}', {{
                detail: {{
                    items: {json.dumps(items)},
                    hasMore: {'true' if page_obj.has_next() else 'false'},
                    total: {paginator.count}
                }}
            }}));
        </script>''',
        content_type='text/html'
    )</pre>
    </div>

    <ux-playground src="examples/virtual-list/vista-con-busqueda-viewspy.html"></ux-playground>
      <div class="demo-box" style="padding: var(--ux-space-lg);">
      <h4 style="margin-bottom: var(--ux-space-md); font-weight: 600;">Acciones en Items (Editar/Eliminar)</h4>
      <pre class="ux-code-block" data-lang="html"><template x-for="item in visibleItems" :key="item.id">
  <div class="ux-virtual-list__item virtual-item" :style="{ height: itemHeight + 'px' }">
    <div class="virtual-item__content">
      <div class="virtual-item__title" x-text="item.name"></div>
      <div class="virtual-item__subtitle" x-text="item.email"></div>
    </div>

    <!-- Acciones con HTMX -->
    <div class="virtual-item__actions">
      <button class="ux-button ux-button--sm ux-button--outline"
              :hx-get="'/usuarios/' + item.id + '/editar/'"
              hx-target="#modal-content"
              hx-trigger="click"
              @click="$dispatch('open-modal')">
        Editar
      </button>

      <button class="ux-button ux-button--sm ux-color-danger--outline"
              :hx-delete="'/usuarios/' + item.id + '/'"
              hx-confirm="Eliminar este usuario?"
              hx-swap="none"
              @htmx:after-request="removeItem(visibleItems.indexOf(item))">
        Eliminar
      </button>
    </div>
  </div>
</template></pre>
    </div>
  </div>