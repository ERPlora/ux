<p><strong>Con indicador de estado sincronizado:</strong></p>
      <pre class="ux-code-block" data-lang="html"><div x-data="uxRefresher({
  onRefresh: () => {
    return new Promise(resolve => {
      const content = document.getElementById('content');

      // Escuchar cuando HTMX termina
      content.addEventListener('htmx:afterSwap', function handler() {
        content.removeEventListener('htmx:afterSwap', handler);
        resolve();
      });

      // Disparar request
      htmx.trigger(content, 'refresh');
    });
  }
})">
  ...
</div></pre>
