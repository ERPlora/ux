<header style="margin-bottom: 2rem;">
  <h1>Lightbox</h1>
  <p style="color: var(--ux-text-secondary);">Image viewer with zoom, pan, navigation, and gallery support. Touch-friendly with keyboard shortcuts.</p>
</header>

<!-- Basic Lightbox -->
<section class="component-section">
  <h2>Basic Lightbox</h2>
  <p style="color: var(--ux-text-secondary); margin-bottom: 1rem;">Click an image to open the lightbox.</p>

  <ux-playground src="pages/lightbox/examples/basico.html"></ux-playground>
</section>

<!-- Manual Gallery -->
<section class="component-section">
  <h2>Manual Image Array</h2>
  <p style="color: var(--ux-text-secondary); margin-bottom: 1rem;">You can also pass images directly to the component.</p>

  <ux-playground src="pages/lightbox/examples/array-manual.html"></ux-playground>
</section>

<!-- Single Image -->
<section class="component-section">
  <h2>Single Image</h2>
  <p style="color: var(--ux-text-secondary); margin-bottom: 1rem;">Works great with single images too.</p>

  <ux-playground src="pages/lightbox/examples/imagen-unica.html"></ux-playground>
</section>

<!-- HTMX + Django -->
<section class="component-section">
  <h2>HTMX + Django</h2>
  <p style="color: var(--ux-text-secondary); margin-bottom: 1rem;">Load gallery images dynamically from Django backend with HTMX.</p>

  <h3 style="font-size: 1rem; margin: 1.5rem 0 0.75rem;">Django Template - Gallery Grid</h3>
  <pre class="ux-code-block" data-lang="html">&lt;!-- templates/gallery/gallery.html --&gt;
&lt;div data-lightbox-gallery
     x-data="uxLightbox()"
     hx-get="{% url 'gallery:images' %}"
     hx-trigger="load"
     hx-target="#gallery-grid"&gt;

  &lt;div id="gallery-grid" class="demo-grid"&gt;
    &lt;!-- Images loaded via HTMX --&gt;
  &lt;/div&gt;

  &lt;!-- Lightbox markup (same as basic example) --&gt;
  &lt;div class="ux-lightbox" :class="{ 'ux-lightbox--open': isOpen }"&gt;
    ...
  &lt;/div&gt;
&lt;/div&gt;</pre>

  <h3 style="font-size: 1rem; margin: 1.5rem 0 0.75rem;">Django Template - Partial (HTMX Response)</h3>
  <pre class="ux-code-block" data-lang="html">&lt;!-- templates/gallery/partials/images.html --&gt;
{% for image in images %}
&lt;div class="demo-image ux-lightbox-trigger"
     data-lightbox-src="{{ image.file.url }}"
     data-lightbox-thumb="{{ image.thumbnail.url }}"
     data-lightbox-title="{{ image.title }}"
     data-lightbox-desc="{{ image.description }}"
     @click="open({{ forloop.counter0 }})"&gt;
  &lt;img src="{{ image.thumbnail.url }}" alt="{{ image.title }}"&gt;
&lt;/div&gt;
{% endfor %}</pre>

  <h3 style="font-size: 1rem; margin: 1.5rem 0 0.75rem;">Django View</h3>
  <pre class="ux-code-block" data-lang="python"># views.py
from django.shortcuts import render
from .models import GalleryImage

def gallery_images(request):
    images = GalleryImage.objects.filter(is_active=True).order_by('-created_at')
    return render(request, 'gallery/partials/images.html', {'images': images})</pre>

  <h3 style="font-size: 1rem; margin: 1.5rem 0 0.75rem;">Product Images with Categories</h3>
  <pre class="ux-code-block" data-lang="html">&lt;!-- Filter buttons --&gt;
&lt;div class="ux-segment"&gt;
  &lt;button class="ux-segment__button ux-segment__button--active"
          hx-get="{% url 'gallery:images' %}"
          hx-target="#gallery-grid"&gt;All&lt;/button&gt;
  {% for category in categories %}
  &lt;button class="ux-segment__button"
          hx-get="{% url 'gallery:images' %}?category={{ category.slug }}"
          hx-target="#gallery-grid"&gt;{{ category.name }}&lt;/button&gt;
  {% endfor %}
&lt;/div&gt;

&lt;!-- Gallery with dynamic images --&gt;
&lt;div data-lightbox-gallery x-data="uxLightbox()"
     @htmx:after-swap.window="$nextTick(() =&gt; collectImages())"&gt;
  &lt;div id="gallery-grid" class="demo-grid"&gt;&lt;/div&gt;

  &lt;div class="ux-lightbox" :class="{ 'ux-lightbox--open': isOpen }"&gt;
    ...
  &lt;/div&gt;
&lt;/div&gt;</pre>

  <h3 style="font-size: 1rem; margin: 1.5rem 0 0.75rem;">Infinite Scroll Gallery</h3>
  <pre class="ux-code-block" data-lang="html">&lt;div data-lightbox-gallery x-data="uxLightbox()"
     @htmx:after-swap.window="$nextTick(() =&gt; collectImages())"&gt;

  &lt;div id="gallery-grid" class="demo-grid"
       hx-get="{% url 'gallery:images' %}?page=1"
       hx-trigger="load"
       hx-swap="beforeend"&gt;
  &lt;/div&gt;

  &lt;!-- Load more trigger --&gt;
  &lt;div hx-get="{% url 'gallery:images' %}?page={{ next_page }}"
       hx-trigger="revealed"
       hx-target="#gallery-grid"
       hx-swap="beforeend"
       hx-indicator="#loading-spinner"&gt;
  &lt;/div&gt;

  &lt;div id="loading-spinner" class="htmx-indicator"&gt;
    &lt;div class="ux-spinner"&gt;&lt;/div&gt;
  &lt;/div&gt;

  &lt;div class="ux-lightbox" :class="{ 'ux-lightbox--open': isOpen }"&gt;
    ...
  &lt;/div&gt;
&lt;/div&gt;</pre>

  <h3 style="font-size: 1rem; margin: 1.5rem 0 0.75rem;">Django Model Example</h3>
  <pre class="ux-code-block" data-lang="python"># models.py
from django.db import models
from imagekit.models import ImageSpecField
from imagekit.processors import ResizeToFill

class GalleryImage(models.Model):
    title = models.CharField(max_length=200)
    description = models.TextField(blank=True)
    file = models.ImageField(upload_to='gallery/')
    thumbnail = ImageSpecField(
        source='file',
        processors=[ResizeToFill(200, 200)],
        format='JPEG',
        options={'quality': 80}
    )
    category = models.ForeignKey('Category', on_delete=models.CASCADE, null=True)
    is_active = models.BooleanField(default=True)
    created_at = models.DateTimeField(auto_now_add=True)

    class Meta:
        ordering = ['-created_at']</pre>

  <h3 style="font-size: 1rem; margin: 1.5rem 0 0.75rem;">JSON API Response</h3>
  <pre class="ux-code-block" data-lang="html">&lt;!-- Load images from JSON API --&gt;
&lt;div x-data="uxLightbox()"
     x-init="fetch('/api/gallery/images/')
       .then(r =&gt; r.json())
       .then(data =&gt; images = data.map(img =&gt; ({
         src: img.file_url,
         thumbnail: img.thumbnail_url,
         title: img.title,
         description: img.description
       })))"&gt;

  &lt;div class="demo-grid"&gt;
    &lt;template x-for="(img, idx) in images" :key="idx"&gt;
      &lt;div class="demo-image" @click="open(idx)"&gt;
        &lt;img :src="img.thumbnail" :alt="img.title"&gt;
      &lt;/div&gt;
    &lt;/template&gt;
  &lt;/div&gt;

  &lt;div class="ux-lightbox" :class="{ 'ux-lightbox--open': isOpen }"&gt;
    ...
  &lt;/div&gt;
&lt;/div&gt;</pre>
</section>

<!-- Keyboard Shortcuts -->
<section class="component-section">
  <h2>Keyboard Shortcuts</h2>
  <ux-playground src="pages/lightbox/examples/atajos-teclado.html"></ux-playground>
</section>

<!-- Touch Gestures -->
<section class="component-section">
  <h2>Touch Gestures</h2>
  <ux-playground src="pages/lightbox/examples/gestos-tactiles.html"></ux-playground>
</section>

<!-- API Reference -->
<section class="component-section">
  <h2>API Reference</h2>
  <ux-playground src="pages/lightbox/examples/api-referencia.html"></ux-playground>
</section>
