showStock: false,
      showCost: false,
      data: [
        {
          id: 'prod-001',
          sku: 'BIKE-MTN-001',
          name: 'Mountain Bike Pro',
          type: 'finished',
          quantity: 1,
          unit: 'pcs',
          children: [
            {
              id: 'frame-001',
              sku: 'FRAME-AL-27',
              name: 'Aluminum Frame 27.5 pulg',
              type: 'subassembly',
              quantity: 1,
              unit: 'pcs',
              children: [
                { id: 'tube-001', sku: 'TUBE-AL-6061', name: 'Aluminum Tube 6061-T6', type: 'raw', quantity: 3, unit: 'm' },
                { id: 'weld-001', sku: 'WELD-FILLER', name: 'Welding Filler Rod', type: 'consumable', quantity: 0.5, unit: 'kg' }
              ]
            },
            {
              id: 'wheel-001',
              sku: 'WHEEL-27-BLK',
              name: 'Wheel Assembly 27.5 pulg Black',
              type: 'subassembly',
              quantity: 2,
              unit: 'pcs',
              children: [
                { id: 'rim-001', sku: 'RIM-AL-27', name: 'Aluminum Rim', type: 'raw', quantity: 1, unit: 'pcs' },
                { id: 'tire-001', sku: 'TIRE-MTN-27', name: 'Mountain Tire 27.5x2.4', type: 'raw', quantity: 1, unit: 'pcs' },
                { id: 'spoke-001', sku: 'SPOKE-SS-280', name: 'Stainless Spokes 280mm', type: 'raw', quantity: 32, unit: 'pcs' }
              ]
            },
            { id: 'seat-001', sku: 'SEAT-SPORT-BLK', name: 'Sport Saddle Black', type: 'raw', quantity: 1, unit: 'pcs' },
            { id: 'hdlbar-001', sku: 'HBAR-AL-720', name: 'Handlebar 720mm', type: 'raw', quantity: 1, unit: 'pcs' }
          ]
        }
      ]
    })">
      <div class="ux-bom-tree ux-bom-tree--bordered">
        <!-- Header -->
        <div class="ux-bom-tree__header">
          <div class="ux-bom-tree__title">Bill of Materials</div>
          <div class="ux-bom-tree__actions">
            <button class="ux-bom-tree__action" @click="expandAll()" title="Expand All">
              <span x-html="icons.expandAll"></span>
            </button>
            <button class="ux-bom-tree__action" @click="collapseAll()" title="Collapse All">
              <span x-html="icons.collapseAll"></span>
            </button>
          </div>
        </div>

        <!-- Tree -->
        <ul class="ux-bom-tree__list">
          <template x-for="node in data" :key="node.id">
            <li class="ux-bom-tree__node">
              <div class="ux-bom-tree__item"
                   @click="toggle(node.id)"
                   :data-node-id="node.id">
                <span class="ux-bom-tree__toggle"
                      :class="{
                        'ux-bom-tree__toggle--expanded': expandedNodes.has(node.id),
                        'ux-bom-tree__toggle--empty': !node.children || node.children.length === 0
                      }"
                      x-html="icons.chevron"></span>
                <span class="ux-bom-tree__icon" :class="'ux-bom-tree__icon--' + (node.type || 'raw')"
                      x-html="getTypeIcon(node.type)"></span>
                <div class="ux-bom-tree__details">
                  <span class="ux-bom-tree__name" x-text="node.name"></span>
                  <span class="ux-bom-tree__sku" x-text="node.sku"></span>
                </div>
                <span class="ux-bom-tree__type" :class="'ux-bom-tree__type--' + (node.type || 'raw')" x-text="node.type || 'raw'"></span>
                <div class="ux-bom-tree__quantity">
                  <span class="ux-bom-tree__qty-value" x-text="node.quantity"></span>
                  <span class="ux-bom-tree__qty-unit" x-text="node.unit"></span>
                </div>
              </div>
              <!-- Level 2 -->
              <template x-if="node.children && node.children.length > 0 && expandedNodes.has(node.id)">
                <ul class="ux-bom-tree__list ux-bom-tree__list--nested">
                  <template x-for="child in node.children" :key="child.id">
                    <li class="ux-bom-tree__node">
                      <div class="ux-bom-tree__item" @click="toggle(child.id)">
                        <span class="ux-bom-tree__toggle"
                              :class="{
                                'ux-bom-tree__toggle--expanded': expandedNodes.has(child.id),
                                'ux-bom-tree__toggle--empty': !child.children || child.children.length === 0
                              }"
                              x-html="icons.chevron"></span>
                        <span class="ux-bom-tree__icon" :class="'ux-bom-tree__icon--' + (child.type || 'raw')"
                              x-html="getTypeIcon(child.type)"></span>
                        <div class="ux-bom-tree__details">
                          <span class="ux-bom-tree__name" x-text="child.name"></span>
                          <span class="ux-bom-tree__sku" x-text="child.sku"></span>
                        </div>
                        <span class="ux-bom-tree__type" :class="'ux-bom-tree__type--' + (child.type || 'raw')" x-text="child.type || 'raw'"></span>
                        <div class="ux-bom-tree__quantity">
                          <span class="ux-bom-tree__qty-value" x-text="child.quantity"></span>
                          <span class="ux-bom-tree__qty-unit" x-text="child.unit"></span>
                        </div>
                      </div>
                      <!-- Level 3 -->
                      <template x-if="child.children && child.children.length > 0 && expandedNodes.has(child.id)">
                        <ul class="ux-bom-tree__list ux-bom-tree__list--nested">
                          <template x-for="gc in child.children" :key="gc.id">
                            <li class="ux-bom-tree__node">
                              <div class="ux-bom-tree__item">
                                <span class="ux-bom-tree__toggle ux-bom-tree__toggle--empty" x-html="icons.chevron"></span>
                                <span class="ux-bom-tree__icon" :class="'ux-bom-tree__icon--' + (gc.type || 'raw')"
                                      x-html="getTypeIcon(gc.type)"></span>
                                <div class="ux-bom-tree__details">
                                  <span class="ux-bom-tree__name" x-text="gc.name"></span>
                                  <span class="ux-bom-tree__sku" x-text="gc.sku"></span>
                                </div>
                                <span class="ux-bom-tree__type" :class="'ux-bom-tree__type--' + (gc.type || 'raw')" x-text="gc.type || 'raw'"></span>
                                <div class="ux-bom-tree__quantity">
                                  <span class="ux-bom-tree__qty-value" x-text="gc.quantity"></span>
                                  <span class="ux-bom-tree__qty-unit" x-text="gc.unit"></span>
                                </div>
                              </div>
                            </li>
                          </template>
                        </ul>
                      </template>
                    </li>
                  </template>
                </ul>
              </template>
            </li>
          </template>
        </ul>

        <!-- Footer -->
        <div class="ux-bom-tree__footer">
          <div class="ux-bom-tree__summary">
            <div class="ux-bom-tree__summary-item">
              <span class="ux-bom-tree__summary-label">Components</span>
              <span class="ux-bom-tree__summary-value" x-text="countComponents()"></span>
            </div>
          </div>
        </div>
      </div>
