<div class="demo-box" x-data="uxNotificationCenter({
  notifications: [
    { id: '1', title: 'Nuevo pedido recibido', message: 'Pedido #1234 de Juan Garcia por 150.00', type: 'success', timestamp: new Date().toISOString(), read: false },
    { id: '2', title: 'Stock bajo', message: 'El producto Cafe Americano tiene menos de 10 unidades', type: 'warning', timestamp: new Date(Date.now() - 3600000).toISOString(), read: false },
    { id: '3', title: 'Error de sincronizacion', message: 'No se pudo sincronizar con el servidor. Reintentando...', type: 'error', timestamp: new Date(Date.now() - 7200000).toISOString(), read: true },
    { id: '4', title: 'Actualizacion disponible', message: 'Nueva version 2.1.0 disponible para instalar', type: 'info', timestamp: new Date(Date.now() - 86400000).toISOString(), read: true },
    { id: '5', title: 'Pago completado', message: 'Se proceso el pago de la factura #567', type: 'success', timestamp: new Date(Date.now() - 86400000 * 2).toISOString(), read: true }
  ]
})" @notification:click.window="console.log('Clicked:', $event.detail)">
  <!-- Trigger Button -->
  <button class="ux-notification-trigger" @click="toggle()">
    <span x-html="icons.bell"></span>
    <span x-show="unreadCount > 0" class="ux-notification-trigger__badge" x-text="unreadCount > 99 ? '99+' : unreadCount"></span>
  </button>

  <!-- Backdrop -->
  <div class="ux-notification-panel__backdrop"
       :class="{ 'ux-notification-panel__backdrop--open': isOpen }"
       @click="close()"></div>

  <!-- Panel -->
  <div class="ux-notification-panel" :class="{ 'ux-notification-panel--open': isOpen }">
    <!-- Header -->
    <div class="ux-notification-panel__header">
      <h2 class="ux-notification-panel__title">Notificaciones</h2>
      <div class="ux-notification-panel__actions">
        <button class="ux-notification-panel__action" title="Marcar todo como leido" @click="markAllAsRead()">
          <span x-html="icons.checkAll"></span>
        </button>
        <button class="ux-notification-panel__action" title="Cerrar" @click="close()">
          <span x-html="icons.close"></span>
        </button>
      </div>
    </div>

    <!-- Filters -->
    <div x-show="showFilters" class="ux-notification-panel__filters">
      <template x-for="filter in filters" :key="filter">
        <button class="ux-notification-panel__filter"
                :class="{ 'ux-notification-panel__filter--active': activeFilter === filter }"
                @click="activeFilter = filter">
          <span x-text="filterLabels[filter]"></span>
          <span class="ux-notification-panel__filter-count" x-text="getFilterCount(filter)"></span>
        </button>
      </template>
    </div>

    <!-- Content -->
    <div class="ux-notification-panel__content">
      <!-- Empty State -->
      <div x-show="filteredNotifications.length === 0 || (filteredNotifications.length === 1 && filteredNotifications[0].items.length === 0)"
           class="ux-notification-panel__empty">
        <div class="ux-notification-panel__empty-icon" x-html="icons.empty"></div>
        <div class="ux-notification-panel__empty-title">No hay notificaciones</div>
        <div class="ux-notification-panel__empty-description">Las nuevas notificaciones apareceran aqu√≠</div>
      </div>

      <!-- Notifications List -->
      <template x-for="group in filteredNotifications" :key="group.group">
        <div>
          <div x-show="group.group" class="ux-notification-panel__group" x-text="group.group"></div>
          <ul class="ux-notification-panel__list">
            <template x-for="notification in group.items" :key="notification.id">
              <li class="ux-notification-item"
                  :class="{ 'ux-notification-item--unread': !notification.read }"
                  @click="handleClick(notification)">
                <div class="ux-notification-item__icon"
                     :class="'ux-notification-item__icon--' + notification.type"
                     x-html="getTypeIcon(notification.type)"></div>
                <div class="ux-notification-item__content">
                  <div class="ux-notification-item__header">
                    <span class="ux-notification-item__title" x-text="notification.title"></span>
                    <span class="ux-notification-item__time" x-text="formatTime(notification.timestamp)"></span>
                  </div>
                  <p class="ux-notification-item__message" x-text="notification.message"></p>
                </div>
                <div x-show="!notification.read" class="ux-notification-item__dot"></div>
              </li>
            </template>
          </ul>
        </div>
      </template>
    </div>

    <!-- Footer -->
    <div x-show="showFooter && notifications.length > 0" class="ux-notification-panel__footer">
      <a class="ux-notification-panel__footer-link" @click="clearAll()">Borrar todas</a>
    </div>
  </div>

  <div class="demo-output">
    No leidas: <strong x-text="unreadCount"></strong> |
    Total: <strong x-text="notifications.length"></strong>
  </div>
</div>

<pre class="ux-code-block" data-lang="html"><div x-data="uxNotificationCenter({
  notifications: [
    { id: '1', title: 'Titulo', message: 'Mensaje', type: 'success', timestamp: '...', read: false }
  ]
})">
  <button class="ux-notification-trigger" @click="toggle()">
    <span x-html="icons.bell"></span>
    <span class="ux-notification-trigger__badge" x-text="unreadCount"></span>
  </button>

  <div class="ux-notification-panel" :class="{ 'ux-notification-panel--open': isOpen }">
    <!-- Panel content -->
  </div>
</div></pre>
