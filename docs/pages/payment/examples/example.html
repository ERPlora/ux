total: 156.00,
      allowSplit: true,
      methods: [
        { id: 'cash', name: 'Efectivo', icon: 'cash' },
        { id: 'card', name: 'Tarjeta', icon: 'card' },
        { id: 'voucher', name: 'Vale', icon: 'voucher' }
      ]
    })" x-init="addSplitPayment('cash', 100)">
      <div class="ux-payment">
        <div class="ux-payment__section">
          <span class="ux-payment__label">Pagos realizados</span>
          <div class="ux-payment-split">
            <template x-for="payment in splitPayments" :key="payment.id">
              <div class="ux-payment-split__item">
                <div class="ux-payment-split__method">
                  <div class="ux-payment-split__method-icon" x-html="getIcon(payment.method.icon)"></div>
                  <span class="ux-payment-split__method-name" x-text="payment.method.name"></span>
                </div>
                <span class="ux-payment-split__amount" x-text="formatCurrency(payment.amount)"></span>
                <button class="ux-payment-split__remove" @click="removeSplitPayment(payment.id)">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M18 6L6 18M6 6l12 12"/>
                  </svg>
                </button>
              </div>
            </template>

            <template x-if="amountDue > 0">
              <div class="ux-payment-split__add" @click="$refs.splitModal.showModal()">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M12 5v14M5 12h14"/>
                </svg>
                Añadir pago (<span x-text="formatCurrency(amountDue)"></span> pendiente)
              </div>
            </template>
          </div>
        </div>

        <div class="ux-payment-summary">
          <div class="ux-payment-summary__row">
            <span class="ux-payment-summary__label">Total</span>
            <span class="ux-payment-summary__value" x-text="formatCurrency(total)"></span>
          </div>
          <div class="ux-payment-summary__row">
            <span class="ux-payment-summary__label">Pagado</span>
            <span class="ux-payment-summary__value" x-text="formatCurrency(totalPaid)"></span>
          </div>
          <div class="ux-payment-summary__row" x-show="amountDue > 0">
            <span class="ux-payment-summary__label">Pendiente</span>
            <span class="ux-payment-summary__value" style="color: var(--ux-danger);" x-text="formatCurrency(amountDue)"></span>
          </div>
          <div class="ux-payment-summary__row" x-show="change > 0">
            <span class="ux-payment-summary__label">Cambio</span>
            <span class="ux-payment-summary__value" style="color: var(--ux-success);" x-text="formatCurrency(change)"></span>
          </div>
        </div>

        <button class="ux-button ux-color-success" style="width: 100%;"
                :disabled="!isPaid"
                @click="processPayment()">
          Completar Venta
        </button>

        <!-- Split payment modal -->
        <dialog x-ref="splitModal" class="ux-modal" style="max-width: 320px;">
          <div class="ux-modal__header">
            <h3 class="ux-modal__title">Añadir pago</h3>
            <button class="ux-modal__close" @click="$refs.splitModal.close()">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M18 6L6 18M6 6l12 12"/>
              </svg>
            </button>
          </div>
          <div class="ux-modal__content">
            <div class="ux-payment-methods ux-payment-methods--list" style="margin-bottom: 1rem;">
              <template x-for="method in methods" :key="method.id">
                <div class="ux-payment-method ux-payment-method--horizontal"
                     @click="addSplitPayment(method.id, amountDue); $refs.splitModal.close()">
                  <div class="ux-payment-method__icon" style="width: 24px; height: 24px;" x-html="getIcon(method.icon)"></div>
                  <span class="ux-payment-method__name" x-text="method.name"></span>
                </div>
              </template>
            </div>
          </div>
        </dialog>
      </div>
