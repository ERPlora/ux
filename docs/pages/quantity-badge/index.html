<style>
    .demo-section { margin-bottom: var(--ux-space-xl); }
    .demo-section h3 {
      font-size: var(--ux-font-size-lg);
      font-weight: 600;
      margin-bottom: var(--ux-space-md);
      color: var(--ux-text);
    }
    .demo-section p {
      font-size: var(--ux-font-size-md);
      color: var(--ux-text-secondary);
      margin-bottom: var(--ux-space-md);
    }
    .demo-box {
      background: var(--ux-surface);
      border-radius: var(--ux-border-radius-lg);
      padding: var(--ux-space-lg);
      margin-bottom: var(--ux-space-md);
      display: flex;
      flex-wrap: wrap;
      gap: var(--ux-space-lg);
      align-items: center;
    }
    .demo-icon {
      width: 24px;
      height: 24px;
    }
  </style>

<section class="component-section">
      <h3>Basico</h3>
      <p>Badge de cantidad sobre un elemento (icono, boton, etc).</p>
      <ux-playground src="pages/quantity-badge/examples/basico.html"></ux-playground>
      <div class="demo-box">
        <span class="ux-quantity-badge">
          <button class="ux-button ux-button--clear" style="padding: 8px;">
            <svg class="demo-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"/>
            </svg>
          </button>
          <span class="ux-quantity-badge__count">3</span>
        </span>

        <span class="ux-quantity-badge">
          <button class="ux-button ux-button--clear" style="padding: 8px;">
            <svg class="demo-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/>
            </svg>
          </button>
          <span class="ux-quantity-badge__count">12</span>
        </span>

        <span class="ux-quantity-badge">
          <button class="ux-button ux-button--clear" style="padding: 8px;">
            <svg class="demo-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"/>
            </svg>
          </button>
          <span class="ux-quantity-badge__count">99+</span>
        </span>
      </div>
      <pre class="ux-code-block" data-lang="html">&lt;span class="ux-quantity-badge"&gt;
  &lt;button class="ux-button ux-button--clear"&gt;...&lt;/button&gt;
  &lt;span class="ux-quantity-badge__count"&gt;3&lt;/span&gt;
&lt;/span&gt;</pre>
    </section>

    <section class="component-section">
      <h3>Variante Dot</h3>
      <p>Un punto sin numero para indicar presencia de notificaciones.</p>
      <ux-playground src="pages/quantity-badge/examples/variante-dot.html"></ux-playground>
      <div class="demo-box">
        <span class="ux-quantity-badge">
          <button class="ux-button ux-button--clear" style="padding: 8px;">
            <svg class="demo-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/>
            </svg>
          </button>
          <span class="ux-quantity-badge__count ux-quantity-badge__count--dot"></span>
        </span>

        <span class="ux-quantity-badge ux-quantity-badge--success">
          <button class="ux-button ux-button--clear" style="padding: 8px;">
            <svg class="demo-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
          </button>
          <span class="ux-quantity-badge__count ux-quantity-badge__count--dot"></span>
        </span>
      </div>
      <pre class="ux-code-block" data-lang="html">&lt;span class="ux-quantity-badge__count ux-quantity-badge__count--dot"&gt;&lt;/span&gt;</pre>
    </section>

    <section class="component-section">
      <h3>Colores</h3>
      <p>Diferentes colores para diferentes tipos de notificaciones.</p>
      <ux-playground src="pages/quantity-badge/examples/colores.html"></ux-playground>
      <div class="demo-box">
        <span class="ux-quantity-badge">
          <button class="ux-button ux-button--clear" style="padding: 8px;">
            <svg class="demo-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
          </button>
          <span class="ux-quantity-badge__count">5</span>
        </span>

        <span class="ux-quantity-badge ux-quantity-badge--primary">
          <button class="ux-button ux-button--clear" style="padding: 8px;">
            <svg class="demo-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
          </button>
          <span class="ux-quantity-badge__count">5</span>
        </span>

        <span class="ux-quantity-badge ux-quantity-badge--success">
          <button class="ux-button ux-button--clear" style="padding: 8px;">
            <svg class="demo-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
          </button>
          <span class="ux-quantity-badge__count">5</span>
        </span>

        <span class="ux-quantity-badge ux-quantity-badge--warning">
          <button class="ux-button ux-button--clear" style="padding: 8px;">
            <svg class="demo-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
          </button>
          <span class="ux-quantity-badge__count">5</span>
        </span>

        <span class="ux-quantity-badge ux-quantity-badge--dark">
          <button class="ux-button ux-button--clear" style="padding: 8px;">
            <svg class="demo-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
          </button>
          <span class="ux-quantity-badge__count">5</span>
        </span>
      </div>
      <pre class="ux-code-block" data-lang="html">&lt;span class="ux-quantity-badge ux-quantity-badge--primary"&gt;...&lt;/span&gt;
&lt;span class="ux-quantity-badge ux-quantity-badge--success"&gt;...&lt;/span&gt;
&lt;span class="ux-quantity-badge ux-quantity-badge--warning"&gt;...&lt;/span&gt;
&lt;span class="ux-quantity-badge ux-quantity-badge--danger"&gt;...&lt;/span&gt;</pre>
    </section>

    <section class="component-section">
      <h3>Tamanos</h3>
      <p>Badges en diferentes tamanos.</p>
      <ux-playground src="pages/quantity-badge/examples/tamanos.html"></ux-playground>
      <div class="demo-box" style="align-items: flex-end;">
        <span class="ux-quantity-badge ux-quantity-badge--sm">
          <button class="ux-button ux-button--sm ux-button--clear" style="padding: 6px;">
            <svg style="width: 18px; height: 18px;" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
          </button>
          <span class="ux-quantity-badge__count">3</span>
        </span>

        <span class="ux-quantity-badge">
          <button class="ux-button ux-button--clear" style="padding: 8px;">
            <svg class="demo-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
          </button>
          <span class="ux-quantity-badge__count">5</span>
        </span>

        <span class="ux-quantity-badge ux-quantity-badge--lg">
          <button class="ux-button ux-button--lg ux-button--clear" style="padding: 10px;">
            <svg style="width: 28px; height: 28px;" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
          </button>
          <span class="ux-quantity-badge__count">8</span>
        </span>
      </div>
      <pre class="ux-code-block" data-lang="html">&lt;span class="ux-quantity-badge ux-quantity-badge--sm"&gt;...&lt;/span&gt;
&lt;span class="ux-quantity-badge"&gt;...&lt;/span&gt;
&lt;span class="ux-quantity-badge ux-quantity-badge--lg"&gt;...&lt;/span&gt;</pre>
    </section>

    <section class="component-section">
      <h3>Posicion</h3>
      <p>El badge puede posicionarse en diferentes esquinas.</p>
      <ux-playground src="pages/quantity-badge/examples/posicion.html"></ux-playground>
      <div class="demo-box">
        <span class="ux-quantity-badge">
          <div style="width: 48px; height: 48px; background: var(--ux-gray-200); border-radius: var(--ux-radius-md);"></div>
          <span class="ux-quantity-badge__count">TR</span>
        </span>

        <span class="ux-quantity-badge ux-quantity-badge--top-left">
          <div style="width: 48px; height: 48px; background: var(--ux-gray-200); border-radius: var(--ux-radius-md);"></div>
          <span class="ux-quantity-badge__count">TL</span>
        </span>

        <span class="ux-quantity-badge ux-quantity-badge--bottom-right">
          <div style="width: 48px; height: 48px; background: var(--ux-gray-200); border-radius: var(--ux-radius-md);"></div>
          <span class="ux-quantity-badge__count">BR</span>
        </span>

        <span class="ux-quantity-badge ux-quantity-badge--bottom-left">
          <div style="width: 48px; height: 48px; background: var(--ux-gray-200); border-radius: var(--ux-radius-md);"></div>
          <span class="ux-quantity-badge__count">BL</span>
        </span>
      </div>
      <pre class="ux-code-block" data-lang="html">&lt;span class="ux-quantity-badge"&gt;...&lt;/span&gt; &lt;!-- Top Right (default) --&gt;
&lt;span class="ux-quantity-badge ux-quantity-badge--top-left"&gt;...&lt;/span&gt;
&lt;span class="ux-quantity-badge ux-quantity-badge--bottom-right"&gt;...&lt;/span&gt;
&lt;span class="ux-quantity-badge ux-quantity-badge--bottom-left"&gt;...&lt;/span&gt;</pre>
    </section>

    <section class="component-section">
      <h3>Animaciones</h3>
      <p>Badges animados y con efecto pulse.</p>
      <ux-playground src="pages/quantity-badge/examples/animaciones.html"></ux-playground>
      <div class="demo-box">
        <span class="ux-quantity-badge" x-data="{ count: 1 }">
          <button class="ux-button ux-button--clear" style="padding: 8px;" @click="count++">
            <svg class="demo-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
          </button>
          <span class="ux-quantity-badge__count ux-quantity-badge__count--animate" x-text="count" :key="count"></span>
        </span>

        <span class="ux-quantity-badge">
          <button class="ux-button ux-button--clear" style="padding: 8px;">
            <svg class="demo-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/></svg>
          </button>
          <span class="ux-quantity-badge__count ux-quantity-badge__count--pulse">!</span>
        </span>
      </div>
      <pre class="ux-code-block" data-lang="html">&lt;span class="ux-quantity-badge__count ux-quantity-badge__count--animate"&gt;...&lt;/span&gt;
&lt;span class="ux-quantity-badge__count ux-quantity-badge__count--pulse"&gt;...&lt;/span&gt;</pre>
    </section>

    <section class="component-section">
      <h3>Stepper (Interactivo)</h3>
      <p>Control de cantidad con botones + y -. Usa Alpine.js.</p>
      <ux-playground src="pages/quantity-badge/examples/stepper-interactivo.html"></ux-playground>
      <div class="demo-box" style="flex-direction: column; align-items: flex-start; gap: var(--ux-space-lg);">

        <div class="ux-quantity-badge--stepper" x-data="uxQuantityBadge({ value: 1, min: 0, max: 10 })">
          <button class="ux-quantity-badge__btn" @click="decrement()" :disabled="isAtMin">−</button>
          <span class="ux-quantity-badge__value" x-text="value"></span>
          <button class="ux-quantity-badge__btn" @click="increment()" :disabled="isAtMax">+</button>
        </div>

        <div class="ux-quantity-badge--cart" x-data="uxQuantityBadge({ value: 2, min: 1, max: 99 })">
          <button class="ux-quantity-badge__btn" @click="decrement()" :disabled="isAtMin">−</button>
          <span class="ux-quantity-badge__value" x-text="value"></span>
          <button class="ux-quantity-badge__btn" @click="increment()" :disabled="isAtMax">+</button>
        </div>

      </div>
      <pre class="ux-code-block" data-lang="html">&lt;div class="ux-quantity-badge--stepper"
     x-data="uxQuantityBadge({ value: 1, min: 0, max: 10 })"&gt;
  &lt;button class="ux-quantity-badge__btn" @click="decrement()"&gt;−&lt;/button&gt;
  &lt;span class="ux-quantity-badge__value" x-text="value"&gt;&lt;/span&gt;
  &lt;button class="ux-quantity-badge__btn" @click="increment()"&gt;+&lt;/button&gt;
&lt;/div&gt;

&lt;div class="ux-quantity-badge--cart" x-data="uxQuantityBadge({ value: 2 })"&gt;
  ...
&lt;/div&gt;</pre>
    </section>

    <section class="component-section">
      <h3>Opciones Alpine.js</h3>
      <p>Configuracion para el componente interactivo.</p>
      <ux-playground src="pages/quantity-badge/examples/opciones-alpinejs.html"></ux-playground>
      <div class="demo-box">
        <table style="width: 100%; border-collapse: collapse;">
          <thead>
            <tr style="text-align: left; border-bottom: 1px solid var(--ux-border-color);">
              <th style="padding: var(--ux-space-sm);">Opcion</th>
              <th style="padding: var(--ux-space-sm);">Tipo</th>
              <th style="padding: var(--ux-space-sm);">Default</th>
              <th style="padding: var(--ux-space-sm);">Descripcion</th>
            </tr>
          </thead>
          <tbody>
            <tr style="border-bottom: 1px solid var(--ux-border-color);">
              <td style="padding: var(--ux-space-sm);"><code>value</code></td>
              <td style="padding: var(--ux-space-sm);">number</td>
              <td style="padding: var(--ux-space-sm);">0</td>
              <td style="padding: var(--ux-space-sm);">Valor inicial</td>
            </tr>
            <tr style="border-bottom: 1px solid var(--ux-border-color);">
              <td style="padding: var(--ux-space-sm);"><code>min</code></td>
              <td style="padding: var(--ux-space-sm);">number</td>
              <td style="padding: var(--ux-space-sm);">0</td>
              <td style="padding: var(--ux-space-sm);">Valor minimo</td>
            </tr>
            <tr style="border-bottom: 1px solid var(--ux-border-color);">
              <td style="padding: var(--ux-space-sm);"><code>max</code></td>
              <td style="padding: var(--ux-space-sm);">number</td>
              <td style="padding: var(--ux-space-sm);">999</td>
              <td style="padding: var(--ux-space-sm);">Valor maximo</td>
            </tr>
            <tr style="border-bottom: 1px solid var(--ux-border-color);">
              <td style="padding: var(--ux-space-sm);"><code>step</code></td>
              <td style="padding: var(--ux-space-sm);">number</td>
              <td style="padding: var(--ux-space-sm);">1</td>
              <td style="padding: var(--ux-space-sm);">Incremento por paso</td>
            </tr>
            <tr style="border-bottom: 1px solid var(--ux-border-color);">
              <td style="padding: var(--ux-space-sm);"><code>animate</code></td>
              <td style="padding: var(--ux-space-sm);">boolean</td>
              <td style="padding: var(--ux-space-sm);">true</td>
              <td style="padding: var(--ux-space-sm);">Animar cambios de valor</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <section class="component-section">
      <h3>Eventos</h3>
      <p>Evento emitido cuando cambia el valor.</p>
      <ux-playground src="pages/quantity-badge/examples/eventos.html"></ux-playground>
      <div class="demo-box">
        <pre class="ux-code-block" data-lang="html" style="margin: 0;">&lt;div x-data="uxQuantityBadge({ value: 1 })"
     @quantity:change="console.log('Nuevo valor:', $event.detail.value)"&gt;
&lt;/div&gt;</pre>
      </div>
    </section>

    <section class="component-section">
      <h3>HTMX + Django</h3>
      <p>Ejemplos de badge de cantidad dinamico con HTMX y Django.</p>

      <h4 style="margin-top: var(--ux-space-lg); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">Badge del carrito con actualizacion en tiempo real</h4>
      <pre class="ux-code-block" data-lang="html">&lt;!-- Navbar con badge de carrito dinamico --&gt;
&lt;nav class="ux-navbar"&gt;
  &lt;div class="ux-navbar__end"&gt;
    &lt;span class="ux-quantity-badge"
          hx-get="/api/cart/count/"
          hx-trigger="cart:updated from:body, load"
          hx-swap="innerHTML"&gt;
      &lt;button class="ux-button ux-button--clear"&gt;
        &lt;svg class="demo-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;
          &lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"/&gt;
        &lt;/svg&gt;
      &lt;/button&gt;
      &lt;span class="ux-quantity-badge__count ux-quantity-badge__count--animate"&gt;
        {{ cart_count }}
      &lt;/span&gt;
    &lt;/span&gt;
  &lt;/div&gt;
&lt;/nav&gt;</pre>

      <h4 style="margin-top: var(--ux-space-lg); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">Boton "Agregar al carrito" que actualiza el badge</h4>
      <pre class="ux-code-block" data-lang="html">&lt;!-- Boton que agrega producto y dispara evento --&gt;
&lt;button class="ux-button ux-color-primary"
        hx-post="/api/cart/add/{{ product.id }}/"
        hx-trigger="click"
        hx-swap="none"
        hx-on::after-request="htmx.trigger(document.body, 'cart:updated')"&gt;
  Agregar al carrito
&lt;/button&gt;</pre>

      <h4 style="margin-top: var(--ux-space-lg); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">Vista Django para el contador</h4>
      <pre class="ux-code-block" data-lang="python"># views.py
from django.http import HttpResponse
from django.views.decorators.http import require_GET

@require_GET
def cart_count(request):
    """Retorna solo el badge con el contador actualizado."""
    cart = request.session.get('cart', {})
    count = sum(cart.values())

    if count == 0:
        return HttpResponse('')  # Sin badge si esta vacio

    display = '99+' if count &gt; 99 else str(count)
    return HttpResponse(f'''
        &lt;button class="ux-button ux-button--clear"&gt;
            &lt;svg class="demo-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;
                &lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"/&gt;
            &lt;/svg&gt;
        &lt;/button&gt;
        &lt;span class="ux-quantity-badge__count ux-quantity-badge__count--animate"&gt;{display}&lt;/span&gt;
    ''')</pre>

      <h4 style="margin-top: var(--ux-space-lg); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">Stepper de cantidad en producto (HTMX)</h4>
      <pre class="ux-code-block" data-lang="html">&lt;!-- Stepper que actualiza cantidad en servidor --&gt;
&lt;div class="ux-quantity-badge--stepper"
     id="qty-{{ item.id }}"&gt;
  &lt;button class="ux-quantity-badge__btn"
          hx-post="/api/cart/update/{{ item.id }}/"
          hx-vals='{"action": "decrement"}'
          hx-target="#qty-{{ item.id }}"
          hx-swap="outerHTML"&gt;−&lt;/button&gt;
  &lt;span class="ux-quantity-badge__value"&gt;{{ item.quantity }}&lt;/span&gt;
  &lt;button class="ux-quantity-badge__btn"
          hx-post="/api/cart/update/{{ item.id }}/"
          hx-vals='{"action": "increment"}'
          hx-target="#qty-{{ item.id }}"
          hx-swap="outerHTML"&gt;+&lt;/button&gt;
&lt;/div&gt;</pre>

      <h4 style="margin-top: var(--ux-space-lg); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">Vista Django para actualizar cantidad</h4>
      <pre class="ux-code-block" data-lang="python"># views.py
from django.http import HttpResponse
from django.views.decorators.http import require_POST
from django.template.loader import render_to_string

@require_POST
def update_cart_item(request, item_id):
    """Actualiza cantidad y retorna el stepper actualizado."""
    action = request.POST.get('action')
    cart = request.session.get('cart', {})

    current_qty = cart.get(str(item_id), 0)

    if action == 'increment':
        cart[str(item_id)] = min(current_qty + 1, 99)
    elif action == 'decrement':
        cart[str(item_id)] = max(current_qty - 1, 1)

    request.session['cart'] = cart

    return render_to_string('partials/quantity_stepper.html', {
        'item': {'id': item_id, 'quantity': cart[str(item_id)]}
    })</pre>

      <h4 style="margin-top: var(--ux-space-lg); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">Badge de notificaciones con polling</h4>
      <pre class="ux-code-block" data-lang="html">&lt;!-- Badge que se actualiza cada 30 segundos --&gt;
&lt;span class="ux-quantity-badge"
      hx-get="/api/notifications/unread-count/"
      hx-trigger="load, every 30s"
      hx-swap="innerHTML"&gt;
  &lt;button class="ux-button ux-button--clear"&gt;
    &lt;svg class="demo-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;
      &lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/&gt;
    &lt;/svg&gt;
  &lt;/button&gt;
  {% if unread_count &gt; 0 %}
    &lt;span class="ux-quantity-badge__count ux-quantity-badge__count--pulse"&gt;
      {{ unread_count|default:"" }}
    &lt;/span&gt;
  {% endif %}
&lt;/span&gt;</pre>

      <h4 style="margin-top: var(--ux-space-lg); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">Template parcial reutilizable</h4>
      <pre class="ux-code-block" data-lang="html">&lt;!-- templates/partials/quantity_stepper.html --&gt;
&lt;div class="ux-quantity-badge--stepper"
     id="qty-{{ item.id }}"&gt;
  &lt;button class="ux-quantity-badge__btn"
          hx-post="{% url 'cart:update' item.id %}"
          hx-vals='{"action": "decrement"}'
          hx-target="#qty-{{ item.id }}"
          hx-swap="outerHTML"
          {% if item.quantity &lt;= 1 %}disabled{% endif %}&gt;−&lt;/button&gt;
  &lt;span class="ux-quantity-badge__value"&gt;{{ item.quantity }}&lt;/span&gt;
  &lt;button class="ux-quantity-badge__btn"
          hx-post="{% url 'cart:update' item.id %}"
          hx-vals='{"action": "increment"}'
          hx-target="#qty-{{ item.id }}"
          hx-swap="outerHTML"
          {% if item.quantity &gt;= 99 %}disabled{% endif %}&gt;+&lt;/button&gt;
&lt;/div&gt;</pre>
    </section>