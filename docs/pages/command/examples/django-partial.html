<!-- partials/command_results.html -->
{% if results %}
  {% regroup results by category as grouped_results %}
  {% for group in grouped_results %}
    <div class="ux-command__group">
      <div class="ux-command__group-title">{{ group.grouper }}</div>
      <ul class="ux-command__list">
        {% for item in group.list %}
          <li class="ux-command__item"
              hx-get="{{ item.url }}"
              hx-push-url="true"
              hx-target="body"
              @click="close()">
            <div class="ux-command__item-icon">
              {% if item.icon %}
                <svg width="16" height="16"><use href="#icon-{{ item.icon }}"></use></svg>
              {% endif %}
            </div>
            <div class="ux-command__item-content">
              <div class="ux-command__item-title">{{ item.title }}</div>
              {% if item.description %}
                <div class="ux-command__item-description">{{ item.description }}</div>
              {% endif %}
            </div>
            {% if item.shortcut %}
              <div class="ux-command__item-shortcut">
                <span class="ux-command__key">{{ item.shortcut }}</span>
              </div>
            {% endif %}
          </li>
        {% endfor %}
      </ul>
    </div>
  {% endfor %}
{% else %}
  <div class="ux-command__empty">
    <div class="ux-command__empty-title">Sin resultados</div>
    <div class="ux-command__empty-description">
      No se encontraron comandos para "{{ query }}"
    </div>
  </div>
{% endif %}
