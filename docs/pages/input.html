<style>
    .demo-section { margin-bottom: var(--ux-space-xl); }
    .demo-section h3 { font-size: var(--ux-font-size-lg); font-weight: 600; margin-bottom: var(--ux-space-md); color: var(--ux-text); }
    .demo-section p { font-size: var(--ux-font-size-md); color: var(--ux-text-secondary); margin-bottom: var(--ux-space-md); }
    .demo-box { background: var(--ux-surface); border-radius: var(--ux-border-radius-lg); padding: var(--ux-space-lg); margin-bottom: var(--ux-space-md); }
  </style>

<div>
    <!-- Basic -->
    <section class="component-section">
      <h3>Input Básico</h3>
      <p>Campo de texto simple con la clase <code>.ux-input</code>.</p>
      <ux-playground src="examples/input/basico.html"></ux-playground>
    </section>

    <!-- With Label -->
    <section class="component-section">
      <h3>Con Label</h3>
      <p>Usa <code>.ux-input-group</code> para agrupar label e input.</p>
      <ux-playground src="examples/input/con-label.html"></ux-playground>
    </section>

    <!-- Floating Label -->
    <section class="component-section">
      <h3>Label Flotante</h3>
      <p>Estilo iOS con label que flota al enfocar.</p>
      <ux-playground src="examples/input/label-flotante.html"></ux-playground>
    </section>

    <!-- Password with Toggle -->
    <section class="component-section">
      <h3>Password con Toggle</h3>
      <p>Input de contraseña con boton para mostrar/ocultar. Usa <code>data-ux-password</code> para activar el JS.</p>
      <ux-playground src="examples/input/password.html"></ux-playground>
    </section>

    <!-- Types -->
    <section class="component-section">
      <h3>Tipos de Input</h3>
      <p>Diferentes tipos HTML nativos estilizados.</p>
      <ux-playground src="examples/input/tipos.html"></ux-playground>
    </section>

    <!-- With Icons -->
    <section class="component-section">
      <h3>Con Iconos</h3>
      <p>Iconos al inicio o al final del input.</p>
      <ux-playground src="examples/input/con-iconos.html"></ux-playground>
    </section>

    <!-- Validation States -->
    <section class="component-section">
      <h3>Estados de Validación</h3>
      <p>Success, error, y warning.</p>
      <ux-playground src="examples/input/validacion.html"></ux-playground>
    </section>

    <!-- Disabled & Readonly -->
    <section class="component-section">
      <h3>Disabled y Readonly</h3>
      <ux-playground src="examples/input/disabled.html"></ux-playground>
    </section>

    <!-- Sizes -->
    <section class="component-section">
      <h3>Tamaños</h3>
      <ux-playground src="examples/input/tamanos.html"></ux-playground>
    </section>

    <!-- Variants -->
    <section class="component-section">
      <h3>Variantes</h3>
      <p>Filled, outline, y underline.</p>
      <ux-playground src="examples/input/variantes.html"></ux-playground>
    </section>

    <!-- Textarea -->
    <section class="component-section">
      <h3>Textarea</h3>
      <p>Area de texto multilinea.</p>
      <ux-playground src="examples/input/textarea.html"></ux-playground>
    </section>

    <!-- Input Group with Addon -->
    <section class="component-section">
      <h3>Con Addon</h3>
      <p>Prefijos y sufijos para inputs.</p>
      <ux-playground src="examples/input/con-addon.html"></ux-playground>
    </section>

    <!-- HTMX -->
    <section class="component-section">
      <h3>Con HTMX</h3>
      <p>Validación en tiempo real con HTMX.</p>
      <pre class="ux-code-block" data-lang="html">&lt;input type="email"
       class="ux-input"
       name="email"
       hx-post="/validate/email"
       hx-trigger="blur"
       hx-target="next .ux-input__error"&gt;
&lt;span class="ux-input__error"&gt;&lt;/span&gt;</pre>
    </section>

    <!-- HTMX + Django -->
    <section class="component-section">
      <h3>HTMX + Django</h3>
      <p>Ejemplos de integración con Django para validación de formularios.</p>

      <h4 style="font-size: var(--ux-font-size-md); font-weight: 600; margin: var(--ux-space-lg) 0 var(--ux-space-sm); color: var(--ux-text);">Template Django - Validación en Blur</h4>
      <p>Input que valida el email cuando pierde el foco.</p>
      <pre class="ux-code-block" data-lang="html">&lt;!-- templates/partials/email_field.html --&gt;
&lt;div class="ux-input-group" id="email-field"&gt;
  &lt;label class="ux-input__label"&gt;Email&lt;/label&gt;
  &lt;input type="email"
         class="ux-input {% if error %}ux-input--error{% endif %}"
         name="email"
         value="{{ value|default:'' }}"
         placeholder="tu@email.com"
         hx-post="{% url 'validate_email' %}"
         hx-trigger="blur changed"
         hx-target="#email-field"
         hx-swap="outerHTML"&gt;
  {% if error %}
    &lt;span class="ux-input__error"&gt;{{ error }}&lt;/span&gt;
  {% elif success %}
    &lt;span class="ux-input__helper" style="color: var(--ux-success);"&gt;Email disponible&lt;/span&gt;
  {% endif %}
&lt;/div&gt;</pre>

      <h4 style="font-size: var(--ux-font-size-md); font-weight: 600; margin: var(--ux-space-lg) 0 var(--ux-space-sm); color: var(--ux-text);">Vista Django - Validación</h4>
      <p>Vista que valida y retorna el partial con estado actualizado.</p>
      <pre class="ux-code-block" data-lang="python"># views.py
from django.http import HttpResponse
from django.template.loader import render_to_string
from django.core.validators import validate_email
from django.core.exceptions import ValidationError
from .models import User

def validate_email_view(request):
    email = request.POST.get('email', '').strip()
    context = {'value': email}

    if not email:
        context['error'] = 'El email es requerido.'
    else:
        try:
            validate_email(email)
            if User.objects.filter(email=email).exists():
                context['error'] = 'Este email ya esta registrado.'
            else:
                context['success'] = True
        except ValidationError:
            context['error'] = 'Ingresa un email valido.'

    html = render_to_string('partials/email_field.html', context)
    return HttpResponse(html)</pre>

      <h4 style="font-size: var(--ux-font-size-md); font-weight: 600; margin: var(--ux-space-lg) 0 var(--ux-space-sm); color: var(--ux-text);">Búsqueda en Tiempo Real</h4>
      <p>Input de búsqueda que muestra resultados mientras escribes.</p>
      <pre class="ux-code-block" data-lang="html">&lt;!-- templates/search.html --&gt;
&lt;div class="ux-input-wrapper ux-input-wrapper--icon-start"&gt;
  &lt;svg class="ux-input__icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;
    &lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/&gt;
  &lt;/svg&gt;
  &lt;input type="search"
         class="ux-input"
         name="q"
         placeholder="Buscar productos..."
         hx-get="{% url 'search_products' %}"
         hx-trigger="input changed delay:300ms, search"
         hx-target="#search-results"
         hx-indicator="#search-spinner"&gt;
&lt;/div&gt;

&lt;div class="ux-spinner ux-spinner--sm" id="search-spinner" style="display: none;"&gt;&lt;/div&gt;

&lt;div id="search-results"&gt;
  &lt;!-- Los resultados se cargan aqui --&gt;
&lt;/div&gt;</pre>

      <pre class="ux-code-block" data-lang="python"># views.py
from django.shortcuts import render
from .models import Product

def search_products(request):
    query = request.GET.get('q', '').strip()
    products = []

    if len(query) >= 2:
        products = Product.objects.filter(
            name__icontains=query
        )[:10]

    return render(request, 'partials/search_results.html', {
        'products': products,
        'query': query
    })</pre>

      <pre class="ux-code-block" data-lang="html">&lt;!-- templates/partials/search_results.html --&gt;
{% if products %}
  &lt;ul class="ux-list ux-list--inset"&gt;
    {% for product in products %}
      &lt;li class="ux-list__item"&gt;
        &lt;div class="ux-list__content"&gt;
          &lt;span class="ux-list__title"&gt;{{ product.name }}&lt;/span&gt;
          &lt;span class="ux-list__note"&gt;$&lt;span&gt;{{ product.price }}&lt;/span&gt;&lt;/span&gt;
        &lt;/div&gt;
      &lt;/li&gt;
    {% endfor %}
  &lt;/ul&gt;
{% elif query %}
  &lt;p class="ux-text-secondary ux-padding"&gt;No se encontraron resultados para "{{ query }}"&lt;/p&gt;
{% endif %}</pre>

      <h4 style="font-size: var(--ux-font-size-md); font-weight: 600; margin: var(--ux-space-lg) 0 var(--ux-space-sm); color: var(--ux-text);">URLs Django</h4>
      <pre class="ux-code-block" data-lang="python"># urls.py
from django.urls import path
from . import views

urlpatterns = [
    path('validate/email/', views.validate_email_view, name='validate_email'),
    path('search/products/', views.search_products, name='search_products'),
]</pre>
    </section>

    <!-- Login Form with Glass -->
    <section class="component-section">
      <h3>Formulario Login con Glass</h3>
      <p>Ejemplo completo de formulario de login usando la variante glass sobre un fondo con gradiente.</p>
      <ux-playground src="examples/input/login-glass.html"></ux-playground>
    </section>
  </div>
