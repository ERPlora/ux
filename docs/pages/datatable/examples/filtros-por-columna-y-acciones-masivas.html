columns: [
        { key: 'name', label: 'Nombre', sortable: true, filterable: true },
        { key: 'department', label: 'Departamento', sortable: true, filterable: true, filterType: 'select' },
        { key: 'status', label: 'Estado', sortable: true, filterable: true, filterType: 'select' },
        { key: 'salary', label: 'Salario', sortable: true, type: 'number', format: (v) => '$' + v.toLocaleString() }
      ],
      rows: [
        { id: 1, name: 'Ana Martinez', department: 'Desarrollo', status: 'Activo', salary: 55000 },
        { id: 2, name: 'Carlos Ruiz', department: 'Diseno', status: 'Activo', salary: 48000 },
        { id: 3, name: 'Elena Torres', department: 'Marketing', status: 'Inactivo', salary: 52000 },
        { id: 4, name: 'Miguel Santos', department: 'Desarrollo', status: 'Activo', salary: 62000 },
        { id: 5, name: 'Laura Vega', department: 'RRHH', status: 'Activo', salary: 45000 },
        { id: 6, name: 'Pedro Garcia', department: 'Desarrollo', status: 'Vacaciones', salary: 58000 },
        { id: 7, name: 'Sofia Lopez', department: 'Marketing', status: 'Activo', salary: 50000 },
        { id: 8, name: 'Diego Fernandez', department: 'Diseno', status: 'Inactivo', salary: 47000 }
      ],
      selectable: true,
      filterable: true,
      showFilters: true,
      perPage: 10,
      paginated: false,
      bulkActions: [
        { key: 'export', label: 'Exportar', icon: 'export' },
        { key: 'delete', label: 'Eliminar', icon: 'delete', danger: true }
      ],
      labels: {
        selected: 'seleccionados',
        clearSelection: 'Limpiar seleccion',
        clearFilters: 'Limpiar filtros',
        all: 'Todos'
      }
    })" class="ux-datatable ux-datatable--bordered ux-datatable--responsive"
       @bulk-action.window="alert($event.detail.action + ': ' + $event.detail.selectedRows.length + ' filas')">

      <!-- Bulk Actions Toolbar (shown when rows selected) -->
      <template x-if="selectedRows.length > 0">
        <div class="ux-datatable__bulk-toolbar">
          <div class="ux-datatable__bulk-info">
            <span class="ux-datatable__bulk-count" x-text="selectedRows.length"></span>
            <span x-text="labels.selected"></span>
          </div>
          <div class="ux-datatable__bulk-actions">
            <button type="button" class="ux-datatable__bulk-btn" @click="onBulkAction('export', $event)">
              <span x-html="getIcon('export')"></span>
              Exportar
            </button>
            <button type="button" class="ux-datatable__bulk-btn ux-datatable__bulk-btn--danger" @click="onBulkAction('delete', $event)">
              <span x-html="getIcon('delete')"></span>
              Eliminar
            </button>
            <button type="button" class="ux-datatable__bulk-clear" @click="clearSelection()" :title="labels.clearSelection">
              <span x-html="getIcon('close')"></span>
            </button>
          </div>
        </div>
      </template>

      <!-- Regular Toolbar (shown when no rows selected) -->
      <template x-if="selectedRows.length === 0">
        <div class="ux-datatable__toolbar">
          <div class="ux-datatable__toolbar-start">
            <span class="ux-text-sm ux-text-secondary" x-text="filteredRows.length + ' empleados'"></span>
            <button type="button" class="ux-button ux-button--outline ux-button--sm" @click="toggleFilters()">
              <span x-html="getIcon('filter')"></span>
              Filtros
            </button>
          </div>
          <div class="ux-datatable__toolbar-end">
            <input type="search"
                   class="ux-input ux-datatable__search"
                   placeholder="Buscar..."
                   x-model="searchQuery"
                   @input.debounce.300ms="onSearch()">
          </div>
        </div>
      </template>

      <!-- Active Filters Tags -->
      <template x-if="hasActiveFilters">
        <div class="ux-datatable__active-filters">
          <template x-for="filter in activeFiltersList" :key="filter.key">
            <span class="ux-datatable__filter-tag">
              <span class="ux-datatable__filter-tag-label" x-text="filter.label + ':'"></span>
              <span x-text="filter.value"></span>
              <button type="button" class="ux-datatable__filter-tag-remove" @click="clearColumnFilter(filter.key)">
                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M18 6L6 18M6 6l12 12"/>
                </svg>
              </button>
            </span>
          </template>
          <button type="button" class="ux-datatable__clear-filters" @click="clearAllFilters()" x-text="labels.clearFilters"></button>
        </div>
      </template>

      <!-- Table Body -->
      <div class="ux-datatable__body">
        <table class="ux-datatable__table">
          <thead class="ux-datatable__thead">
            <tr>
              <th class="ux-datatable__th ux-datatable__th--checkbox">
                <input type="checkbox" class="ux-checkbox" x-model="selectAll" @change="toggleSelectAll()">
              </th>
              <template x-for="col in columns" :key="col.key">
                <th class="ux-datatable__th"
                    :class="{
                      'ux-datatable__th--sortable': col.sortable,
                      'ux-datatable__th--sorted': isSorted(col),
                      'ux-datatable__th--sorted-desc': isSorted(col) && sortDirection === 'desc'
                    }"
                    @click="sortBy(col)">
                  <span x-text="col.label"></span>
                  <span x-show="col.sortable" class="ux-datatable__sort-icon">
                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M12 5v14M5 12l7-7 7 7"/>
                    </svg>
                  </span>
                </th>
              </template>
            </tr>
            <!-- Filter Row -->
            <tr class="ux-datatable__filters" x-show="showFilters && filterable">
              <td class="ux-datatable__filter-cell"></td>
              <template x-for="col in columns" :key="'filter-' + col.key">
                <td class="ux-datatable__filter-cell">
                  <template x-if="col.filterable !== false">
                    <!-- Select filter -->
                    <template x-if="col.filterType === 'select'">
                      <select class="ux-datatable__filter-select"
                              x-model="columnFilters[col.key]"
                              @change="setColumnFilter(col.key, $event.target.value)">
                        <option value="" x-text="labels.all"></option>
                        <template x-for="opt in getUniqueValues(col.key)" :key="opt">
                          <option :value="opt" x-text="opt"></option>
                        </template>
                      </select>
                    </template>
                    <!-- Text filter (default) -->
                    <template x-if="col.filterType !== 'select' && col.filterType !== 'date-range'">
                      <div class="ux-datatable__filter-wrapper">
                        <input type="text"
                               class="ux-datatable__filter-input"
                               :placeholder="labels.filterBy + '...'"
                               x-model="columnFilters[col.key]"
                               @input.debounce.300ms="setColumnFilter(col.key, $event.target.value)">
                      </div>
                    </template>
                  </template>
                </td>
              </template>
            </tr>
          </thead>
          <tbody class="ux-datatable__tbody">
            <template x-if="paginatedRows.length === 0">
              <tr>
                <td :colspan="columns.length + 1" class="ux-datatable__empty">
                  <div class="ux-datatable__empty-icon" x-html="getIcon('empty')"></div>
                  <h4 class="ux-datatable__empty-title" x-text="emptyTitle"></h4>
                  <p class="ux-datatable__empty-text" x-text="emptyText"></p>
                </td>
              </tr>
            </template>
            <template x-for="row in paginatedRows" :key="getRowId(row)">
              <tr class="ux-datatable__tr" :class="{ 'ux-datatable__tr--selected': isRowSelected(row) }">
                <td class="ux-datatable__td ux-datatable__td--checkbox" data-label="">
                  <input type="checkbox" class="ux-checkbox" :checked="isRowSelected(row)" @change="toggleRowSelection(row)">
                </td>
                <template x-for="col in columns" :key="col.key">
                  <td class="ux-datatable__td" :data-label="col.label">
                    <span x-text="formatCellValue(row, col)"></span>
                  </td>
                </template>
              </tr>
            </template>
          </tbody>
        </table>
      </div>
