columns: [
        { key: 'orderNumber', label: 'Pedido', sortable: true },
        { key: 'customer', label: 'Cliente', sortable: true },
        { key: 'date', label: 'Fecha', sortable: true, type: 'date' },
        { key: 'total', label: 'Total', sortable: true, type: 'number' },
        { key: 'status', label: 'Estado', sortable: true }
      ],
      rows: [
        {
          id: 1,
          orderNumber: 'ORD-001',
          customer: 'Juan Garcia',
          date: '2024-01-15',
          total: 299.99,
          status: 'Completado',
          items: [
            { name: 'Laptop Pro', qty: 1, price: 250.00 },
            { name: 'Mouse Wireless', qty: 2, price: 24.99 }
          ],
          shipping: 'Calle Principal 123, Madrid',
          notes: 'Entregar por la tarde'
        },
        {
          id: 2,
          orderNumber: 'ORD-002',
          customer: 'Maria Lopez',
          date: '2024-01-16',
          total: 149.50,
          status: 'Pendiente',
          items: [
            { name: 'Teclado Mecanico', qty: 1, price: 89.99 },
            { name: 'Cable USB-C', qty: 3, price: 19.83 }
          ],
          shipping: 'Av. Libertad 456, Barcelona',
          notes: ''
        },
        {
          id: 3,
          orderNumber: 'ORD-003',
          customer: 'Carlos Ruiz',
          date: '2024-01-17',
          total: 599.00,
          status: 'Procesando',
          items: [
            { name: 'Monitor 27 pulgadas', qty: 1, price: 399.00 },
            { name: 'Webcam HD', qty: 1, price: 200.00 }
          ],
          shipping: 'Plaza Mayor 789, Valencia',
          notes: 'Regalo - incluir tarjeta'
        }
      ],
      expandable: true,
      paginated: false
    })" class="ux-datatable ux-datatable--bordered ux-datatable--responsive">

      <div class="ux-datatable__header">
        <div>
          <h3 class="ux-datatable__title">Pedidos</h3>
          <p class="ux-datatable__subtitle">Click en la flecha para ver detalles</p>
        </div>
        <div class="ux-datatable__actions">
          <button type="button"
                  class="ux-button ux-button--outline ux-button--sm"
                  @click="toggleExpandAll()">
            <span x-text="expandAllState ? 'Colapsar todos' : 'Expandir todos'"></span>
          </button>
        </div>
      </div>

      <div class="ux-datatable__body">
        <table class="ux-datatable__table">
          <thead class="ux-datatable__thead">
            <tr>
              <th class="ux-datatable__th ux-datatable__th--expand">
                <button type="button"
                        class="ux-datatable__expand-all-btn"
                        :class="{ 'ux-datatable__expand-all-btn--expanded': expandAllState }"
                        @click="toggleExpandAll()"
                        title="Expandir/Colapsar todos">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M9 18l6-6-6-6"/>
                  </svg>
                </button>
              </th>
              <template x-for="col in columns" :key="col.key">
                <th class="ux-datatable__th"
                    :class="{
                      'ux-datatable__th--sortable': col.sortable,
                      'ux-datatable__th--sorted': isSorted(col),
                      'ux-datatable__th--sorted-desc': isSorted(col) && sortDirection === 'desc'
                    }"
                    @click="sortBy(col)">
                  <span x-text="col.label"></span>
                  <span x-show="col.sortable" class="ux-datatable__sort-icon">
                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M12 5v14M5 12l7-7 7 7"/>
                    </svg>
                  </span>
                </th>
              </template>
            </tr>
          </thead>
          <tbody class="ux-datatable__tbody">
            <template x-for="row in paginatedRows" :key="getRowId(row)">
              <template x-fragment>
                <!-- Main Row -->
                <tr class="ux-datatable__tr ux-datatable__tr--expandable"
                    :class="{ 'ux-datatable__tr--expanded': isRowExpanded(row) }"
                    @click="toggleRowExpand(row, $event)">
                  <td class="ux-datatable__td ux-datatable__td--expand">
                    <button type="button"
                            class="ux-datatable__expand-btn"
                            :class="{ 'ux-datatable__expand-btn--expanded': isRowExpanded(row) }"
                            @click.stop="toggleRowExpand(row, $event)"
                            :aria-expanded="isRowExpanded(row)">
                      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 18l6-6-6-6"/>
                      </svg>
                    </button>
                  </td>
                  <template x-for="col in columns" :key="col.key">
                    <td class="ux-datatable__td" :data-label="col.label">
                      <template x-if="col.key === 'total'">
                        <strong x-text="'$' + row.total.toFixed(2)"></strong>
                      </template>
                      <template x-if="col.key === 'status'">
                        <span class="ux-badge ux-badge--soft"
                              :class="{
                                'ux-color-success--soft': row.status === 'Completado',
                                'ux-color-warning--soft': row.status === 'Pendiente',
                                'ux-color-primary--soft': row.status === 'Procesando'
                              }"
                              x-text="row.status"></span>
                      </template>
                      <template x-if="col.key !== 'total' && col.key !== 'status'">
                        <span x-text="formatCellValue(row, col)"></span>
                      </template>
                    </td>
                  </template>
                </tr>

                <!-- Expanded Content Row -->
                <tr class="ux-datatable__expand-row" x-show="isRowExpanded(row)">
                  <td :colspan="columns.length + 1">
                    <div class="ux-datatable__expand-content"
                         :class="{ 'ux-datatable__expand-content--open': isRowExpanded(row) }">
                      <div class="ux-datatable__expand-inner">
                        <div class="ux-datatable__expand-body">
                          <!-- Detail Grid -->
                          <div class="ux-datatable__detail-list" style="margin-bottom: var(--ux-space-lg);">
                            <div class="ux-datatable__detail-item">
                              <span class="ux-datatable__detail-label">Direccion de envio</span>
                              <span class="ux-datatable__detail-value" x-text="row.shipping"></span>
                            </div>
                            <div class="ux-datatable__detail-item">
                              <span class="ux-datatable__detail-label">Notas</span>
                              <span class="ux-datatable__detail-value" x-text="row.notes || 'Sin notas'"></span>
                            </div>
                          </div>

                          <!-- Items Sub-table -->
                          <h4 style="font-size: var(--ux-font-size-sm); font-weight: 600; margin-bottom: var(--ux-space-sm); color: var(--ux-text-secondary);">ARTICULOS DEL PEDIDO</h4>
                          <table class="ux-datatable__table" style="border: 1px solid var(--ux-border-color); border-radius: var(--ux-border-radius);">
                            <thead>
                              <tr>
                                <th class="ux-datatable__th" style="background: var(--ux-surface);">Producto</th>
                                <th class="ux-datatable__th ux-datatable__th--center" style="background: var(--ux-surface);">Cantidad</th>
                                <th class="ux-datatable__th ux-datatable__th--right" style="background: var(--ux-surface);">Precio</th>
                              </tr>
                            </thead>
                            <tbody>
                              <template x-for="item in row.items" :key="item.name">
                                <tr>
                                  <td class="ux-datatable__td" x-text="item.name"></td>
                                  <td class="ux-datatable__td ux-datatable__td--center" x-text="item.qty"></td>
                                  <td class="ux-datatable__td ux-datatable__td--right" x-text="'$' + item.price.toFixed(2)"></td>
                                </tr>
                              </template>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </td>
                </tr>
              </template>
            </template>
          </tbody>
        </table>
      </div>
