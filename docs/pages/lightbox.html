<header style="margin-bottom: 2rem;">
  <h1>Lightbox</h1>
  <p style="color: var(--ux-text-secondary);">Image viewer with zoom, pan, navigation, and gallery support. Touch-friendly with keyboard shortcuts.</p>
</header>

<!-- Basic Lightbox -->
<section class="component-section">
  <h2>Basic Lightbox</h2>
  <p style="color: var(--ux-text-secondary); margin-bottom: 1rem;">Click an image to open the lightbox.</p>

  <ux-playground src="examples/lightbox/basico.html"></ux-playground>
</section>

<!-- Manual Gallery -->
<section class="component-section">
  <h2>Manual Image Array</h2>
  <p style="color: var(--ux-text-secondary); margin-bottom: 1rem;">You can also pass images directly to the component.</p>

  <ux-playground src="examples/lightbox/array-manual.html"></ux-playground>
</section>

<!-- Single Image -->
<section class="component-section">
  <h2>Single Image</h2>
  <p style="color: var(--ux-text-secondary); margin-bottom: 1rem;">Works great with single images too.</p>

  <ux-playground src="examples/lightbox/imagen-unica.html"></ux-playground>
</section>

<!-- HTMX + Django -->
<section class="component-section">
  <h2>HTMX + Django</h2>
  <p style="color: var(--ux-text-secondary); margin-bottom: 1rem;">Load gallery images dynamically from Django backend with HTMX.</p>

  <h3 style="font-size: 1rem; margin: 1.5rem 0 0.75rem;">Django Template - Gallery Grid</h3>
  <pre class="ux-code-block" data-lang="html"><!-- templates/gallery/gallery.html -->
<div data-lightbox-gallery
     x-data="uxLightbox()"
     hx-get="{% url 'gallery:images' %}"
     hx-trigger="load"
     hx-target="#gallery-grid">

  <div id="gallery-grid" class="demo-grid">
    <!-- Images loaded via HTMX -->
  </div>

  <!-- Lightbox markup (same as basic example) -->
  <div class="ux-lightbox" :class="{ 'ux-lightbox--open': isOpen }">
    ...
  </div>
</div></pre>

  <h3 style="font-size: 1rem; margin: 1.5rem 0 0.75rem;">Django Template - Partial (HTMX Response)</h3>
  <pre class="ux-code-block" data-lang="html"><!-- templates/gallery/partials/images.html -->
{% for image in images %}
<div class="demo-image ux-lightbox-trigger"
     data-lightbox-src="{{ image.file.url }}"
     data-lightbox-thumb="{{ image.thumbnail.url }}"
     data-lightbox-title="{{ image.title }}"
     data-lightbox-desc="{{ image.description }}"
     @click="open({{ forloop.counter0 }})">
  <img src="{{ image.thumbnail.url }}" alt="{{ image.title }}">
</div>
{% endfor %}</pre>

  <h3 style="font-size: 1rem; margin: 1.5rem 0 0.75rem;">Django View</h3>
  <pre class="ux-code-block" data-lang="python"># views.py
from django.shortcuts import render
from .models import GalleryImage

def gallery_images(request):
    images = GalleryImage.objects.filter(is_active=True).order_by('-created_at')
    return render(request, 'gallery/partials/images.html', {'images': images})</pre>

  <h3 style="font-size: 1rem; margin: 1.5rem 0 0.75rem;">Product Images with Categories</h3>
  <pre class="ux-code-block" data-lang="html"><!-- Filter buttons -->
<div class="ux-segment">
  <button class="ux-segment__button ux-segment__button--active"
          hx-get="{% url 'gallery:images' %}"
          hx-target="#gallery-grid">All</button>
  {% for category in categories %}
  <button class="ux-segment__button"
          hx-get="{% url 'gallery:images' %}?category={{ category.slug }}"
          hx-target="#gallery-grid">{{ category.name }}</button>
  {% endfor %}
</div>

<!-- Gallery with dynamic images -->
<div data-lightbox-gallery x-data="uxLightbox()"
     @htmx:after-swap.window="$nextTick(() => collectImages())">
  <div id="gallery-grid" class="demo-grid"></div>

  <div class="ux-lightbox" :class="{ 'ux-lightbox--open': isOpen }">
    ...
  </div>
</div></pre>

  <h3 style="font-size: 1rem; margin: 1.5rem 0 0.75rem;">Infinite Scroll Gallery</h3>
  <pre class="ux-code-block" data-lang="html"><div data-lightbox-gallery x-data="uxLightbox()"
     @htmx:after-swap.window="$nextTick(() => collectImages())">

  <div id="gallery-grid" class="demo-grid"
       hx-get="{% url 'gallery:images' %}?page=1"
       hx-trigger="load"
       hx-swap="beforeend">
  </div>

  <!-- Load more trigger -->
  <div hx-get="{% url 'gallery:images' %}?page={{ next_page }}"
       hx-trigger="revealed"
       hx-target="#gallery-grid"
       hx-swap="beforeend"
       hx-indicator="#loading-spinner">
  </div>

  <div id="loading-spinner" class="htmx-indicator">
    <div class="ux-spinner"></div>
  </div>

  <div class="ux-lightbox" :class="{ 'ux-lightbox--open': isOpen }">
    ...
  </div>
</div></pre>

  <h3 style="font-size: 1rem; margin: 1.5rem 0 0.75rem;">Django Model Example</h3>
  <pre class="ux-code-block" data-lang="python"># models.py
from django.db import models
from imagekit.models import ImageSpecField
from imagekit.processors import ResizeToFill

class GalleryImage(models.Model):
    title = models.CharField(max_length=200)
    description = models.TextField(blank=True)
    file = models.ImageField(upload_to='gallery/')
    thumbnail = ImageSpecField(
        source='file',
        processors=[ResizeToFill(200, 200)],
        format='JPEG',
        options={'quality': 80}
    )
    category = models.ForeignKey('Category', on_delete=models.CASCADE, null=True)
    is_active = models.BooleanField(default=True)
    created_at = models.DateTimeField(auto_now_add=True)

    class Meta:
        ordering = ['-created_at']</pre>

  <h3 style="font-size: 1rem; margin: 1.5rem 0 0.75rem;">JSON API Response</h3>
  <pre class="ux-code-block" data-lang="html"><!-- Load images from JSON API -->
<div x-data="uxLightbox()"
     x-init="fetch('/api/gallery/images/')
       .then(r => r.json())
       .then(data => images = data.map(img => ({
         src: img.file_url,
         thumbnail: img.thumbnail_url,
         title: img.title,
         description: img.description
       })))">

  <div class="demo-grid">
    <template x-for="(img, idx) in images" :key="idx">
      <div class="demo-image" @click="open(idx)">
        <img :src="img.thumbnail" :alt="img.title">
      </div>
    </template>
  </div>

  <div class="ux-lightbox" :class="{ 'ux-lightbox--open': isOpen }">
    ...
  </div>
</div></pre>
</section>

<!-- Keyboard Shortcuts -->
<section class="component-section">
  <h2>Keyboard Shortcuts</h2>
  <ux-playground src="examples/lightbox/atajos-teclado.html"></ux-playground>
</section>

<!-- Touch Gestures -->
<section class="component-section">
  <h2>Touch Gestures</h2>
  <ux-playground src="examples/lightbox/gestos-tactiles.html"></ux-playground>
</section>

<!-- API Reference -->
<section class="component-section">
  <h2>API Reference</h2>
  <ux-playground src="examples/lightbox/api-referencia.html"></ux-playground>
</section>
