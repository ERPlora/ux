<style>
    .demo-section {
      margin-bottom: 3rem;
    }
    .demo-section h2 {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 1rem;
      color: var(--ux-text);
    }
    .demo-section h3 {
      font-size: 1rem;
      font-weight: 500;
      margin-bottom: 0.75rem;
      color: var(--ux-text-secondary);
    }
    .demo-box {
      background: var(--ux-surface);
      border-radius: 16px;
      padding: 1.5rem;
      margin-bottom: 1rem;
    }
    code {
      background: var(--ux-surface-tertiary);
      padding: 0.125rem 0.375rem;
      border-radius: 4px;
      font-size: 0.875rem;
    }
  </style>

<h1 style="margin-bottom: 0.5rem;">Autocomplete</h1>
  <p style="color: var(--ux-text-secondary); margin-bottom: 2rem;">
    Campo de busqueda con sugerencias, resaltado de coincidencias y navegacion por teclado.
  </p>

  <!-- Basic Autocomplete (Vanilla JS) -->
  <section class="component-section">
    <h2>Autocomplete Basico (Vanilla JS)</h2>
    <p style="color: var(--ux-text-secondary); margin-bottom: 1rem;">
      Usando <code>data-ux-autocomplete</code> - funciona sin Alpine.js
    </p>
    <ux-playground src="pages/autocomplete/examples/vanilla.html"></ux-playground>
  </section>

  <!-- Basic Autocomplete (Alpine.js) -->
  <section class="component-section">
    <h2>Autocomplete Basico (Alpine.js)</h2>
    <p style="color: var(--ux-text-secondary); margin-bottom: 1rem;">
      Busqueda simple con lista de sugerencias.
    </p>
    <ux-playground src="pages/autocomplete/examples/basico.html"></ux-playground>
  </section>

  <!-- With Descriptions -->
  <section class="component-section">
    <h2>Con Descripciones</h2>
    <p style="color: var(--ux-text-secondary); margin-bottom: 1rem;">
      Items con descripcion adicional y iconos.
    </p>
    <ux-playground src="pages/autocomplete/examples/con-descripciones.html"></ux-playground>
  </section>

  <!-- Grouped Results -->
  <section class="component-section">
    <h2>Resultados Agrupados</h2>
    <p style="color: var(--ux-text-secondary); margin-bottom: 1rem;">
      Items organizados por grupos o categorias.
    </p>
    <ux-playground src="pages/autocomplete/examples/agrupados.html"></ux-playground>
  </section>

  <!-- Multi-select Tags -->
  <section class="component-section">
    <h2>Multi-seleccion con Tags</h2>
    <p style="color: var(--ux-text-secondary); margin-bottom: 1rem;">
      Selecciona multiples items que se muestran como tags.
    </p>
    <ux-playground src="pages/autocomplete/examples/multi-select.html"></ux-playground>
  </section>

  <!-- Async / Remote Data -->
  <section class="component-section">
    <h2>Datos Remotos (Async)</h2>
    <p style="color: var(--ux-text-secondary); margin-bottom: 1rem;">
      Busqueda con datos remotos usando funcion async personalizada.
    </p>
    <ux-playground src="pages/autocomplete/examples/async.html"></ux-playground>
  </section>

  <!-- Sizes -->
  <section class="component-section">
    <h2>Tamaños</h2>
    <ux-playground src="pages/autocomplete/examples/tamanos.html"></ux-playground>
  </section>

  <!-- Glass Variant -->
  <section class="component-section">
    <h2>Glass Variant</h2>
    <ux-playground src="pages/autocomplete/examples/glass.html"></ux-playground>
  </section>

  <!-- Events -->
  <section class="component-section">
    <h2>Eventos</h2>
    <ux-playground src="pages/autocomplete/examples/eventos.html"></ux-playground>

    <h3>Eventos disponibles</h3>
    <pre class="ux-code-block" data-lang="javascript">@autocomplete:select   // Item seleccionado
@autocomplete:input    // Query cambiado
@autocomplete:clear    // Campo limpiado
@autocomplete:remove   // Tag eliminado (multi-select)
@autocomplete:focus    // Input focused
@autocomplete:blur     // Input blurred</pre>
  </section>

  <!-- API Reference -->
  <section class="component-section">
    <h2>API Reference</h2>

    <h3>Opciones</h3>
    <pre class="ux-code-block" data-lang="javascript">uxAutocomplete({
  items: [],                    // Array de items
  placeholder: 'Search...',     // Placeholder del input
  minChars: 1,                  // Minimo de caracteres para buscar
  debounce: 300,                // Debounce en ms
  maxItems: 10,                 // Maximo de resultados
  highlightMatches: true,       // Resaltar coincidencias
  closeOnSelect: true,          // Cerrar al seleccionar
  clearOnSelect: false,         // Limpiar al seleccionar
  showEmpty: true,              // Mostrar estado vacio
  emptyText: 'No results',      // Texto estado vacio
  labelKey: 'label',            // Key para el label
  valueKey: 'value',            // Key para el value
  descriptionKey: 'description', // Key para descripcion
  groupKey: 'group',            // Key para grupos
  filterFn: null,               // Funcion de filtrado custom
  fetchFn: null,                // Funcion async para datos remotos
  multiple: false,              // Multi-seleccion
  value: null                   // Valor inicial
})</pre>

    <h3>Propiedades reactivas</h3>
    <pre class="ux-code-block" data-lang="javascript">query           // Texto del input
isOpen          // Dropdown visible
isLoading       // Cargando (async)
activeIndex     // Indice activo
filteredItems   // Items filtrados
selectedItems   // Items seleccionados (multiple)
selectedValue   // Valor seleccionado (single)</pre>

    <h3>Metodos</h3>
    <pre class="ux-code-block" data-lang="javascript">search()                // Ejecutar busqueda
select(item)            // Seleccionar item
removeSelected(index)   // Eliminar seleccion (multiple)
clear()                 // Limpiar todo
highlight(text)         // Resaltar texto
getLabel(item)          // Obtener label
getValue(item)          // Obtener value
getDescription(item)    // Obtener descripcion
getGroup(item)          // Obtener grupo</pre>

    <h3>Navegacion por teclado</h3>
    <pre class="ux-code-block" data-lang="text">↓           Siguiente item / Abrir dropdown
↑           Item anterior
Enter       Seleccionar item activo
Escape      Cerrar dropdown
Backspace   Eliminar ultimo tag (multiple)
Tab         Cerrar dropdown</pre>
  </section>

  <!-- HTMX + Django -->
  <section class="component-section">
    <h2>HTMX + Django</h2>
    <p style="color: var(--ux-text-secondary); margin-bottom: 1rem;">
      Integracion con Django usando HTMX para busqueda en servidor.
    </p>

    <div class="demo-box">
      <h3>Template Django (autocomplete_field.html)</h3>
      <ux-code src="pages/autocomplete/examples/django-template.html" lang="html"></ux-code>
    </div>

    <div class="demo-box">
      <h3>Vista Django (views.py)</h3>
      <ux-code src="pages/autocomplete/examples/django-views.html" lang="python"></ux-code>
    </div>

    <div class="demo-box">
      <h3>Partial de resultados (partials/product_results.html)</h3>
      <ux-code src="pages/autocomplete/examples/django-partial-results.html" lang="html"></ux-code>
    </div>

    <div class="demo-box">
      <h3>URLs Django (urls.py)</h3>
      <ux-code src="pages/autocomplete/examples/django-urls.html" lang="python"></ux-code>
    </div>

    <div class="demo-box">
      <h3>Modelo Django (models.py)</h3>
      <ux-code src="pages/autocomplete/examples/django-models.html" lang="python"></ux-code>
    </div>

    <div class="demo-box">
      <h3>Con resaltado de coincidencias</h3>
      <ux-code src="pages/autocomplete/examples/django-views-highlight.html" lang="python"></ux-code>
    </div>

    <div class="demo-box">
      <h3>Multi-select con Django</h3>
      <ux-code src="pages/autocomplete/examples/django-template-multiselect.html" lang="html"></ux-code>
    </div>
  </section>
