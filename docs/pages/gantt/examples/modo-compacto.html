<div class="demo-box" style="height: 400px;" x-data="uxGantt({
  tasks: [
    { id: 1, name: 'Task Alpha', start: '2025-01-06', end: '2025-01-10', progress: 100, status: 'completed' },
    { id: 2, name: 'Task Beta', start: '2025-01-08', end: '2025-01-15', progress: 80, status: 'in-progress' },
    { id: 3, name: 'Task Gamma', start: '2025-01-13', end: '2025-01-20', progress: 50, status: 'in-progress' },
    { id: 4, name: 'Task Delta', start: '2025-01-16', end: '2025-01-24', progress: 20, status: 'in-progress' },
    { id: 5, name: 'Task Epsilon', start: '2025-01-20', end: '2025-01-28', progress: 0, status: 'not-started' },
    { id: 6, name: 'Task Zeta', start: '2025-01-22', end: '2025-01-31', progress: 0, status: 'not-started' },
    { id: 7, name: 'Task Eta', start: '2025-01-27', end: '2025-02-07', progress: 0, status: 'not-started' },
    { id: 8, name: 'Final Review', type: 'milestone', date: '2025-02-10' }
  ],
  zoom: 'day'
})">
  <div class="ux-gantt ux-gantt--compact">
    <div class="ux-gantt__toolbar">
      <div class="ux-gantt__toolbar-start">
        <h4 class="ux-gantt__title">Sprint Tasks (Compact)</h4>
      </div>
      <div class="ux-gantt__toolbar-end">
        <button class="ux-gantt__today-btn" @click="scrollToToday()">Today</button>
        <div class="ux-gantt__zoom-controls">
          <button class="ux-gantt__zoom-btn" :class="{'ux-gantt__zoom-btn--active': zoom === 'day'}" @click="setZoom('day')">Day</button>
          <button class="ux-gantt__zoom-btn" :class="{'ux-gantt__zoom-btn--active': zoom === 'week'}" @click="setZoom('week')">Week</button>
        </div>
      </div>
    </div>

    <div class="ux-gantt__body" style="height: 300px;">
      <div class="ux-gantt__tasks" :style="{width: taskPanelWidth + 'px'}">
        <div class="ux-gantt__tasks-header">Tasks</div>
        <div class="ux-gantt__tasks-body" x-ref="tasksBody">
          <template x-for="task in flattenedTasks" :key="task.id">
            <div class="ux-gantt__task-row" @click="selectTask(task)">
              <span class="ux-gantt__task-name" x-text="task.name"></span>
            </div>
          </template>
        </div>
      </div>
      <div class="ux-gantt__resizer" :style="{left: taskPanelWidth + 'px'}" @mousedown="startResize($event)"></div>
      <div class="ux-gantt__chart">
        <div class="ux-gantt__chart-scroll" x-ref="chartScroll">
          <div class="ux-gantt__chart-inner" :style="{width: chartWidth + 'px'}">
            <div class="ux-gantt__header">
              <div class="ux-gantt__header-row ux-gantt__header-row--primary">
                <template x-for="(date, index) in timelineDates" :key="'p-' + index">
                  <div class="ux-gantt__header-cell ux-gantt__header-cell--primary" :style="{width: cellWidth + 'px'}" x-text="formatHeaderDate(date, true)"></div>
                </template>
              </div>
              <div class="ux-gantt__header-row">
                <template x-for="(date, index) in timelineDates" :key="'s-' + index">
                  <div class="ux-gantt__header-cell" :class="{'ux-gantt__header-cell--today': isToday(date), 'ux-gantt__header-cell--weekend': zoom === 'day' && isWeekend(date)}" :style="{width: cellWidth + 'px'}" x-text="formatHeaderDate(date, false)"></div>
                </template>
              </div>
            </div>
            <div class="ux-gantt__bars">
              <template x-for="task in flattenedTasks" :key="'b-' + task.id">
                <div class="ux-gantt__bar-row">
                  <template x-if="task.type === 'milestone'">
                    <div class="ux-gantt__milestone" :style="getBarStyle(task)"></div>
                  </template>
                  <template x-if="task.type !== 'milestone'">
                    <div :class="getBarClass(task)" :style="getBarStyle(task)">
                      <div class="ux-gantt__bar-progress" :style="{width: (task.progress || 0) + '%'}"></div>
                    </div>
                  </template>
                </div>
              </template>
            </div>
            <template x-if="showToday && todayPosition !== null">
              <div class="ux-gantt__today-line" :style="{left: todayPosition + 'px'}"></div>
            </template>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
