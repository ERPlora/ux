<!-- Modal para crear evento -->
<div x-data="uxModal()" @calendar:select.window="selectedDate = $event.detail.date; open()">
  <template x-teleport="body">
    <div class="ux-modal-backdrop" x-show="isOpen" @click="close()"></div>
    <div class="ux-modal" x-show="isOpen">
      <div class="ux-modal__header">
        <h2>Nuevo Evento</h2>
        <button class="ux-modal__close" @click="close()">&times;</button>
      </div>

      <form hx-post="{% url 'create_event' %}"
            hx-target="#calendar-container"
            hx-swap="outerHTML"
            @htmx:after-request="close()">

        {% csrf_token %}
        <input type="hidden" name="date" :value="selectedDate">

        <div class="ux-modal__content">
          <div class="ux-input">
            <input type="text" name="title" required>
            <label>Titulo del evento</label>
          </div>

          <div class="ux-input">
            <input type="time" name="time">
            <label>Hora (opcional)</label>
          </div>

          <div class="ux-input">
            <select name="color">
              <option value="primary">Normal</option>
              <option value="success">Completado</option>
              <option value="warning">Pendiente</option>
              <option value="danger">Urgente</option>
            </select>
            <label>Tipo</label>
          </div>

          <div class="ux-input">
            <textarea name="description" rows="3"></textarea>
            <label>Descripci√≥n</label>
          </div>
        </div>

        <div class="ux-modal__footer">
          <button type="button" class="ux-button" @click="close()">Cancelar</button>
          <button type="submit" class="ux-button ux-color-primary">Guardar</button>
        </div>
      </form>
    </div>
  </template>
</div>
