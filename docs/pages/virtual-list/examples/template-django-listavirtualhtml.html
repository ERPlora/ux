<h4 style="margin-bottom: var(--ux-space-md); font-weight: 600;">Vista Django (views.py)</h4>
      <pre class="ux-code-block" data-lang="python">from django.http import HttpResponse
from django.core.paginator import Paginator
import json

def virtual_list_items(request):
    """Endpoint para cargar items de lista virtual."""
    page = int(request.GET.get('page', 1))
    per_page = 20

    # Obtener todos los usuarios (o filtrar segun necesidad)
    users = User.objects.all().order_by('-created_at')
    paginator = Paginator(users, per_page)
    page_obj = paginator.get_page(page)

    # Serializar items para Alpine.js
    items = [{
        'id': user.id,
        'name': user.get_full_name(),
        'email': user.email,
        'initials': user.get_initials(),
        'date': user.created_at.strftime('%d/%m/%Y')
    } for user in page_obj]

    has_more = page_obj.has_next()
    is_first_page = page == 1

    # Dispatch evento segun si es carga inicial o siguiente pagina
    event_name = 'items-loaded' if is_first_page else 'items-appended'

    return HttpResponse(
        f'''<script>
            window.dispatchEvent(new CustomEvent('{event_name}', {{
                detail: {{
                    items: {json.dumps(items)},
                    hasMore: {'true' if has_more else 'false'},
                    page: {page}
                }}
            }}));
        </script>''',
        content_type='text/html'
    )</pre>
