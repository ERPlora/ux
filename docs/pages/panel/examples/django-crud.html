<!-- templates/admin/users/list.html -->
<div class="ux-panel-table" x-data="uxPanel()">
  <!-- Barra de acciones con bÃºsqueda HTMX -->
  <div class="ux-panel-table__actions">
    <input type="search"
           name="q"
           placeholder="Buscar usuarios..."
           class="ux-input__field"
           hx-get="{% url 'admin:users-list' %}"
           hx-trigger="input changed delay:300ms"
           hx-target="#users-table"
           hx-swap="innerHTML"
           hx-include="[name='status']">

    <select name="status" class="ux-input__field"
            hx-get="{% url 'admin:users-list' %}"
            hx-trigger="change"
            hx-target="#users-table"
            hx-include="[name='q']">
      <option value="">Todos</option>
      <option value="active">Activos</option>
      <option value="inactive">Inactivos</option>
    </select>

    <div style="flex: 1;"></div>

    <button class="ux-button ux-color-primary"
            hx-get="{% url 'admin:users-create' %}"
            hx-target="#modal-container"
            hx-swap="innerHTML">
      + Nuevo Usuario
    </button>
  </div>

  <!-- Tabla con contenido dinamico -->
  <div class="ux-panel-table__content">
    <div id="users-table"
         class="ux-panel-table-wrapper"
         hx-get="{% url 'admin:users-list' %}"
         hx-trigger="load">
      {% include 'admin/users/_table.html' %}
    </div>
  </div>

  <!-- Paginacion HTMX -->
  <div class="ux-panel-table__pagination"
       hx-get="{% url 'admin:users-list' %}"
       hx-trigger="load"
       hx-swap="innerHTML"
       hx-target="this">
    {% include 'admin/users/_pagination.html' %}
  </div>
</div>

<!-- Container para modales dinamicos -->
<div id="modal-container"></div>
