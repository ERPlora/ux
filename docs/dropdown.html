<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>Dropdown - UX Library</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap-grid.min.css">
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <script src="../components/ux-core.js"></script>
  <script src="../components/ux-navbar.js"></script>
  <script src="../components/ux-button.js"></script>
  <script src="../components/ux-dropdown.js"></script>
  <script src="../components/ux-code-block.js"></script>
  <style>
    .demo-section { margin-bottom: var(--ux-space-2xl); }
    .demo-section h3 { font-size: var(--ux-font-size-lg); font-weight: 600; margin-bottom: var(--ux-space-md); }
    .demo-section h4 { font-size: var(--ux-font-size-md); font-weight: 500; margin: var(--ux-space-lg) 0 var(--ux-space-sm); }
    .demo-section p { font-size: var(--ux-font-size-md); color: var(--ux-text-secondary); margin-bottom: var(--ux-space-md); }
    .demo-box {
      background: var(--ux-surface-secondary);
      border-radius: var(--ux-border-radius-lg);
      padding: var(--ux-space-lg);
      margin-bottom: var(--ux-space-md);
      border: 1px solid var(--ux-border-color);
    }
    .demo-frame {
      background: var(--ux-surface);
      border: 1px solid var(--ux-border-color);
      border-radius: var(--ux-border-radius-lg);
      overflow: visible;
      padding: var(--ux-space-lg);
      margin-bottom: var(--ux-space-md);
      min-height: 200px;
    }
    .class-table {
      width: 100%;
      border-collapse: collapse;
      font-size: var(--ux-font-size-sm);
    }
    .class-table th, .class-table td {
      padding: var(--ux-space-sm) var(--ux-space-md);
      text-align: left;
      border-bottom: 1px solid var(--ux-border-color);
    }
    .class-table th {
      background: var(--ux-surface-secondary);
      font-weight: 600;
    }
    .class-table code {
      background: var(--ux-surface-secondary);
      padding: 2px 6px;
      border-radius: 4px;
      font-size: var(--ux-font-size-sm);
    }
  </style>
</head>
<body class="ux-app">

  <div class="ux-content ux-padding">
    <!-- Intro -->
    <div class="demo-section">
      <h3>Dropdown Menu</h3>
      <p>Menu desplegable estilo iOS con animaciones suaves, navegacion por teclado y variantes glass.</p>
      <pre class="ux-code-block" data-lang="html">&lt;link rel="stylesheet" href="bootstrap-grid.min.css"&gt;
&lt;script src="components/ux-dropdown.js"&gt;&lt;/script&gt;</pre>
    </div>

    <!-- Basic Dropdown -->
    <div class="demo-section">
      <h3>Dropdown Basico</h3>
      <p>Dropdown simple con items clickeables.</p>

      <div class="demo-frame">
        <div class="ux-dropdown" x-data="uxDropdown()" :class="containerClasses">
          <button
            class="ux-button ux-dropdown__trigger"
            @click="toggle()"
            @keydown="handleKeydown($event)"
            x-bind="triggerAttrs"
          >
            <span>Opciones</span>
            <span class="ux-dropdown__caret">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="6 9 12 15 18 9"></polyline>
              </svg>
            </span>
          </button>

          <div class="ux-dropdown__menu" role="menu">
            <button class="ux-dropdown__item" role="menuitem" @click="select('edit')">
              <span class="ux-dropdown__item-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>
              </span>
              <span class="ux-dropdown__item-text">Editar</span>
            </button>
            <button class="ux-dropdown__item" role="menuitem" @click="select('duplicate')">
              <span class="ux-dropdown__item-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
              </span>
              <span class="ux-dropdown__item-text">Duplicar</span>
            </button>
            <div class="ux-dropdown__divider"></div>
            <button class="ux-dropdown__item ux-dropdown__item--danger" role="menuitem" @click="select('delete')">
              <span class="ux-dropdown__item-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg>
              </span>
              <span class="ux-dropdown__item-text">Eliminar</span>
            </button>
          </div>
        </div>
      </div>

      <pre class="ux-code-block" data-lang="html">&lt;div class="ux-dropdown" x-data="uxDropdown()" :class="containerClasses"&gt;
  &lt;button class="ux-button ux-dropdown__trigger"
          @click="toggle()"
          @keydown="handleKeydown($event)"
          x-bind="triggerAttrs"&gt;
    &lt;span&gt;Opciones&lt;/span&gt;
    &lt;span class="ux-dropdown__caret"&gt;&lt;svg&gt;...&lt;/svg&gt;&lt;/span&gt;
  &lt;/button&gt;

  &lt;div class="ux-dropdown__menu" role="menu"&gt;
    &lt;button class="ux-dropdown__item" @click="select('edit')"&gt;
      &lt;span class="ux-dropdown__item-icon"&gt;&lt;svg&gt;...&lt;/svg&gt;&lt;/span&gt;
      &lt;span class="ux-dropdown__item-text"&gt;Editar&lt;/span&gt;
    &lt;/button&gt;
    &lt;div class="ux-dropdown__divider"&gt;&lt;/div&gt;
    &lt;button class="ux-dropdown__item ux-dropdown__item--danger"&gt;Eliminar&lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre>
    </div>

    <!-- Dropdown Positions -->
    <div class="demo-section">
      <h3>Posiciones</h3>
      <p>El menu puede abrirse en diferentes posiciones.</p>

      <div class="demo-frame">
        <div class="row g-3">
          <!-- Left (default) -->
          <div class="col-auto">
            <div class="ux-dropdown" x-data="uxDropdown()" :class="containerClasses">
              <button class="ux-button ux-button--outline ux-dropdown__trigger" @click="toggle()" x-bind="triggerAttrs">
                Izquierda
                <span class="ux-dropdown__caret"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"></polyline></svg></span>
              </button>
              <div class="ux-dropdown__menu ux-dropdown__menu--left" role="menu">
                <button class="ux-dropdown__item" @click="select('1')">Opcion 1</button>
                <button class="ux-dropdown__item" @click="select('2')">Opcion 2</button>
                <button class="ux-dropdown__item" @click="select('3')">Opcion 3</button>
              </div>
            </div>
          </div>

          <!-- Right -->
          <div class="col-auto">
            <div class="ux-dropdown" x-data="uxDropdown()" :class="containerClasses">
              <button class="ux-button ux-button--outline ux-dropdown__trigger" @click="toggle()" x-bind="triggerAttrs">
                Derecha
                <span class="ux-dropdown__caret"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"></polyline></svg></span>
              </button>
              <div class="ux-dropdown__menu ux-dropdown__menu--right" role="menu">
                <button class="ux-dropdown__item" @click="select('1')">Opcion 1</button>
                <button class="ux-dropdown__item" @click="select('2')">Opcion 2</button>
                <button class="ux-dropdown__item" @click="select('3')">Opcion 3</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <pre class="ux-code-block" data-lang="html">&lt;!-- Alineado a la izquierda (default) --&gt;
&lt;div class="ux-dropdown__menu ux-dropdown__menu--left"&gt;...&lt;/div&gt;

&lt;!-- Alineado a la derecha --&gt;
&lt;div class="ux-dropdown__menu ux-dropdown__menu--right"&gt;...&lt;/div&gt;

&lt;!-- Abre hacia arriba --&gt;
&lt;div class="ux-dropdown__menu ux-dropdown__menu--top"&gt;...&lt;/div&gt;

&lt;!-- Centrado --&gt;
&lt;div class="ux-dropdown__menu ux-dropdown__menu--center"&gt;...&lt;/div&gt;</pre>
    </div>

    <!-- With Headers and Groups -->
    <div class="demo-section">
      <h3>Headers y Grupos</h3>
      <p>Organiza items con headers y grupos.</p>

      <div class="demo-frame">
        <div class="ux-dropdown" x-data="uxDropdown()" :class="containerClasses">
          <button class="ux-button ux-color-primary ux-dropdown__trigger" @click="toggle()" x-bind="triggerAttrs">
            Menu con grupos
            <span class="ux-dropdown__caret"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"></polyline></svg></span>
          </button>

          <div class="ux-dropdown__menu ux-dropdown__menu--wide" role="menu">
            <div class="ux-dropdown__group">
              <div class="ux-dropdown__header">Acciones</div>
              <button class="ux-dropdown__item" @click="select('new')">
                <span class="ux-dropdown__item-text">Nuevo documento</span>
                <span class="ux-dropdown__item-shortcut">⌘N</span>
              </button>
              <button class="ux-dropdown__item" @click="select('open')">
                <span class="ux-dropdown__item-text">Abrir...</span>
                <span class="ux-dropdown__item-shortcut">⌘O</span>
              </button>
            </div>

            <div class="ux-dropdown__group">
              <div class="ux-dropdown__header">Recientes</div>
              <button class="ux-dropdown__item" @click="select('doc1')">
                <span class="ux-dropdown__item-text">Informe Q4 2024.pdf</span>
              </button>
              <button class="ux-dropdown__item" @click="select('doc2')">
                <span class="ux-dropdown__item-text">Presupuesto.xlsx</span>
              </button>
            </div>
          </div>
        </div>
      </div>

      <pre class="ux-code-block" data-lang="html">&lt;div class="ux-dropdown__menu"&gt;
  &lt;div class="ux-dropdown__group"&gt;
    &lt;div class="ux-dropdown__header"&gt;Acciones&lt;/div&gt;
    &lt;button class="ux-dropdown__item"&gt;
      &lt;span class="ux-dropdown__item-text"&gt;Nuevo&lt;/span&gt;
      &lt;span class="ux-dropdown__item-shortcut"&gt;⌘N&lt;/span&gt;
    &lt;/button&gt;
  &lt;/div&gt;

  &lt;div class="ux-dropdown__group"&gt;
    &lt;div class="ux-dropdown__header"&gt;Recientes&lt;/div&gt;
    ...
  &lt;/div&gt;
&lt;/div&gt;</pre>
    </div>

    <!-- With Badges and Checks -->
    <div class="demo-section">
      <h3>Badges y Seleccion</h3>
      <p>Items con badges y estados de seleccion.</p>

      <div class="demo-frame">
        <div class="row g-3">
          <!-- With badge -->
          <div class="col-auto">
            <div class="ux-dropdown" x-data="uxDropdown()" :class="containerClasses">
              <button class="ux-button ux-button--outline ux-dropdown__trigger" @click="toggle()" x-bind="triggerAttrs">
                Notificaciones
                <span class="ux-dropdown__caret"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"></polyline></svg></span>
              </button>
              <div class="ux-dropdown__menu" role="menu">
                <button class="ux-dropdown__item" @click="select('inbox')">
                  <span class="ux-dropdown__item-text">Bandeja de entrada</span>
                  <span class="ux-dropdown__item-badge">12</span>
                </button>
                <button class="ux-dropdown__item" @click="select('mentions')">
                  <span class="ux-dropdown__item-text">Menciones</span>
                  <span class="ux-dropdown__item-badge">3</span>
                </button>
                <button class="ux-dropdown__item" @click="select('archived')">
                  <span class="ux-dropdown__item-text">Archivados</span>
                </button>
              </div>
            </div>
          </div>

          <!-- With selection -->
          <div class="col-auto">
            <div class="ux-dropdown" x-data="{ ...uxDropdown(), selected: 'medium' }" :class="containerClasses">
              <button class="ux-button ux-button--outline ux-dropdown__trigger" @click="toggle()" x-bind="triggerAttrs">
                Prioridad
                <span class="ux-dropdown__caret"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"></polyline></svg></span>
              </button>
              <div class="ux-dropdown__menu" role="menu">
                <button class="ux-dropdown__item" :class="{ 'ux-dropdown__item--selected': selected === 'high' }" @click="selected = 'high'; select('high')">
                  <span class="ux-dropdown__item-text">Alta</span>
                  <span class="ux-dropdown__item-check">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
                  </span>
                </button>
                <button class="ux-dropdown__item" :class="{ 'ux-dropdown__item--selected': selected === 'medium' }" @click="selected = 'medium'; select('medium')">
                  <span class="ux-dropdown__item-text">Media</span>
                  <span class="ux-dropdown__item-check">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
                  </span>
                </button>
                <button class="ux-dropdown__item" :class="{ 'ux-dropdown__item--selected': selected === 'low' }" @click="selected = 'low'; select('low')">
                  <span class="ux-dropdown__item-text">Baja</span>
                  <span class="ux-dropdown__item-check">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
                  </span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Glass Variant -->
    <div class="demo-section">
      <h3>Glass Variant</h3>
      <p>Menu con efecto glass para fondos con imagen.</p>

      <div class="demo-frame" style="background: linear-gradient(135deg, var(--ux-primary) 0%, var(--ux-secondary) 100%); min-height: 250px;">
        <div class="ux-dropdown ux-dropdown--glass" x-data="uxDropdown()" :class="containerClasses">
          <button class="ux-button ux-dropdown__trigger" style="background: var(--ux-glass-bg-thin); color: var(--ux-primary-contrast); border: 1px solid var(--ux-glass-border);" @click="toggle()" x-bind="triggerAttrs">
            Menu Glass
            <span class="ux-dropdown__caret"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"></polyline></svg></span>
          </button>

          <div class="ux-dropdown__menu ux-dropdown__menu--glass" role="menu">
            <button class="ux-dropdown__item" @click="select('profile')">Mi perfil</button>
            <button class="ux-dropdown__item" @click="select('settings')">Configuracion</button>
            <div class="ux-dropdown__divider"></div>
            <button class="ux-dropdown__item" @click="select('logout')">Cerrar sesion</button>
          </div>
        </div>
      </div>

      <pre class="ux-code-block" data-lang="html">&lt;div class="ux-dropdown ux-dropdown--glass"&gt;
  ...
  &lt;div class="ux-dropdown__menu ux-dropdown__menu--glass"&gt;
    ...
  &lt;/div&gt;
&lt;/div&gt;</pre>
    </div>

    <!-- Compact Variant -->
    <div class="demo-section">
      <h3>Variante Compacta</h3>
      <p>Menu mas compacto para espacios reducidos.</p>

      <div class="demo-frame">
        <div class="ux-dropdown" x-data="uxDropdown()" :class="containerClasses">
          <button class="ux-button ux-button--sm ux-button--outline ux-dropdown__trigger" @click="toggle()" x-bind="triggerAttrs">
            Mas
            <span class="ux-dropdown__caret"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"></polyline></svg></span>
          </button>

          <div class="ux-dropdown__menu ux-dropdown__menu--compact" role="menu">
            <button class="ux-dropdown__item" @click="select('copy')">Copiar</button>
            <button class="ux-dropdown__item" @click="select('paste')">Pegar</button>
            <button class="ux-dropdown__item" @click="select('cut')">Cortar</button>
          </div>
        </div>
      </div>

      <pre class="ux-code-block" data-lang="html">&lt;div class="ux-dropdown__menu ux-dropdown__menu--compact"&gt;
  ...
&lt;/div&gt;</pre>
    </div>

    <!-- Alpine.js API -->
    <div class="demo-section">
      <h3>Alpine.js API</h3>

      <div class="demo-box">
        <pre class="ux-code-block" data-lang="html">x-data="uxDropdown({
  closeOnSelect: true,      // Cerrar al seleccionar item
  closeOnClickOutside: true, // Cerrar al click fuera
  closeOnEscape: true,       // Cerrar con Escape
  triggerOnHover: false,     // Abrir con hover
  hoverDelay: 150           // Delay para hover (ms)
})"

// Propiedades
isOpen       // Boolean - si esta abierto
activeIndex  // Number - indice del item activo

// Metodos
open()       // Abrir dropdown
close()      // Cerrar dropdown
toggle()     // Alternar
select(value) // Seleccionar y emitir evento
focusFirst() // Enfocar primer item
focusLast()  // Enfocar ultimo item
focusNext()  // Enfocar siguiente
focusPrev()  // Enfocar anterior

// Computed
containerClasses  // Clases para :class
triggerAttrs      // Atributos ARIA para trigger

// Eventos
@dropdown:open   // Al abrir
@dropdown:close  // Al cerrar
@dropdown:select="e => e.detail.value" // Al seleccionar</pre>
      </div>
    </div>

    <!-- CSS Reference -->
    <div class="demo-section">
      <h3>Referencia de Clases CSS</h3>

      <div style="overflow-x: auto;">
        <table class="class-table">
          <thead>
            <tr>
              <th>Clase</th>
              <th>Descripcion</th>
            </tr>
          </thead>
          <tbody>
            <tr><td colspan="2" style="background: var(--ux-surface-secondary); font-weight: 600;">Contenedor</td></tr>
            <tr><td><code>.ux-dropdown</code></td><td>Contenedor principal</td></tr>
            <tr><td><code>.ux-dropdown--open</code></td><td>Estado abierto</td></tr>
            <tr><td><code>.ux-dropdown--glass</code></td><td>Variante glass</td></tr>
            <tr><td colspan="2" style="background: var(--ux-surface-secondary); font-weight: 600;">Trigger</td></tr>
            <tr><td><code>.ux-dropdown__trigger</code></td><td>Boton que abre el menu</td></tr>
            <tr><td><code>.ux-dropdown__caret</code></td><td>Icono flecha</td></tr>
            <tr><td colspan="2" style="background: var(--ux-surface-secondary); font-weight: 600;">Menu</td></tr>
            <tr><td><code>.ux-dropdown__menu</code></td><td>Contenedor del menu</td></tr>
            <tr><td><code>.ux-dropdown__menu--left</code></td><td>Alineado izquierda</td></tr>
            <tr><td><code>.ux-dropdown__menu--right</code></td><td>Alineado derecha</td></tr>
            <tr><td><code>.ux-dropdown__menu--top</code></td><td>Abre hacia arriba</td></tr>
            <tr><td><code>.ux-dropdown__menu--center</code></td><td>Centrado</td></tr>
            <tr><td><code>.ux-dropdown__menu--glass</code></td><td>Efecto glass</td></tr>
            <tr><td><code>.ux-dropdown__menu--compact</code></td><td>Tamano compacto</td></tr>
            <tr><td><code>.ux-dropdown__menu--wide</code></td><td>Mas ancho</td></tr>
            <tr><td colspan="2" style="background: var(--ux-surface-secondary); font-weight: 600;">Items</td></tr>
            <tr><td><code>.ux-dropdown__item</code></td><td>Item del menu</td></tr>
            <tr><td><code>.ux-dropdown__item--danger</code></td><td>Item destructivo</td></tr>
            <tr><td><code>.ux-dropdown__item--disabled</code></td><td>Item deshabilitado</td></tr>
            <tr><td><code>.ux-dropdown__item--selected</code></td><td>Item seleccionado</td></tr>
            <tr><td><code>.ux-dropdown__item-icon</code></td><td>Icono del item</td></tr>
            <tr><td><code>.ux-dropdown__item-text</code></td><td>Texto del item</td></tr>
            <tr><td><code>.ux-dropdown__item-shortcut</code></td><td>Atajo de teclado</td></tr>
            <tr><td><code>.ux-dropdown__item-badge</code></td><td>Badge/contador</td></tr>
            <tr><td><code>.ux-dropdown__item-check</code></td><td>Check de seleccion</td></tr>
            <tr><td colspan="2" style="background: var(--ux-surface-secondary); font-weight: 600;">Estructura</td></tr>
            <tr><td><code>.ux-dropdown__divider</code></td><td>Linea divisoria</td></tr>
            <tr><td><code>.ux-dropdown__header</code></td><td>Header de seccion</td></tr>
            <tr><td><code>.ux-dropdown__group</code></td><td>Grupo de items</td></tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- HTMX + Django -->
    <div class="demo-section">
      <h3>HTMX + Django</h3>
      <p>Ejemplos de dropdown con acciones HTMX para integracion con Django.</p>

      <h4>Acciones CRUD</h4>
      <p>Dropdown con acciones que realizan peticiones HTMX.</p>

      <div class="demo-frame">
        <div class="ux-dropdown" x-data="uxDropdown()" :class="containerClasses">
          <button class="ux-button ux-button--outline ux-dropdown__trigger" @click="toggle()" x-bind="triggerAttrs">
            Acciones
            <span class="ux-dropdown__caret"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"></polyline></svg></span>
          </button>
          <div class="ux-dropdown__menu" role="menu">
            <button class="ux-dropdown__item" role="menuitem">
              <span class="ux-dropdown__item-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>
              </span>
              <span class="ux-dropdown__item-text">Editar</span>
            </button>
            <button class="ux-dropdown__item" role="menuitem">
              <span class="ux-dropdown__item-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
              </span>
              <span class="ux-dropdown__item-text">Duplicar</span>
            </button>
            <div class="ux-dropdown__divider"></div>
            <button class="ux-dropdown__item ux-dropdown__item--danger" role="menuitem">
              <span class="ux-dropdown__item-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg>
              </span>
              <span class="ux-dropdown__item-text">Eliminar</span>
            </button>
          </div>
        </div>
      </div>

      <pre class="ux-code-block" data-lang="html">&lt;!-- Dropdown con acciones HTMX --&gt;
&lt;div class="ux-dropdown" x-data="uxDropdown()" :class="containerClasses"&gt;
  &lt;button class="ux-button ux-button--outline ux-dropdown__trigger"
          @click="toggle()" x-bind="triggerAttrs"&gt;
    Acciones
    &lt;span class="ux-dropdown__caret"&gt;&lt;svg&gt;...&lt;/svg&gt;&lt;/span&gt;
  &lt;/button&gt;

  &lt;div class="ux-dropdown__menu" role="menu"&gt;
    &lt;!-- Editar: carga formulario en modal --&gt;
    &lt;button class="ux-dropdown__item"
            hx-get="/items/{{ item.id }}/edit/"
            hx-target="#modal-content"
            hx-trigger="click"
            @click="close()"&gt;
      &lt;span class="ux-dropdown__item-icon"&gt;&lt;svg&gt;...&lt;/svg&gt;&lt;/span&gt;
      &lt;span class="ux-dropdown__item-text"&gt;Editar&lt;/span&gt;
    &lt;/button&gt;

    &lt;!-- Duplicar: POST y recargar lista --&gt;
    &lt;button class="ux-dropdown__item"
            hx-post="/items/{{ item.id }}/duplicate/"
            hx-target="#items-list"
            hx-swap="afterbegin"
            @click="close()"&gt;
      &lt;span class="ux-dropdown__item-icon"&gt;&lt;svg&gt;...&lt;/svg&gt;&lt;/span&gt;
      &lt;span class="ux-dropdown__item-text"&gt;Duplicar&lt;/span&gt;
    &lt;/button&gt;

    &lt;div class="ux-dropdown__divider"&gt;&lt;/div&gt;

    &lt;!-- Eliminar: DELETE con confirmacion --&gt;
    &lt;button class="ux-dropdown__item ux-dropdown__item--danger"
            hx-delete="/items/{{ item.id }}/"
            hx-target="closest .item-row"
            hx-swap="outerHTML swap:500ms"
            hx-confirm="Eliminar este elemento?"
            @click="close()"&gt;
      &lt;span class="ux-dropdown__item-icon"&gt;&lt;svg&gt;...&lt;/svg&gt;&lt;/span&gt;
      &lt;span class="ux-dropdown__item-text"&gt;Eliminar&lt;/span&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre>

      <h4>Cambio de Estado</h4>
      <p>Dropdown para cambiar estado con feedback visual.</p>

      <pre class="ux-code-block" data-lang="html">&lt;!-- Dropdown de cambio de estado --&gt;
&lt;div class="ux-dropdown" x-data="{ ...uxDropdown(), status: '{{ item.status }}' }" :class="containerClasses"&gt;
  &lt;button class="ux-button ux-button--sm ux-dropdown__trigger"
          :class="{
            'ux-color-success': status === 'active',
            'ux-color-warning': status === 'pending',
            'ux-color-danger': status === 'inactive'
          }"
          @click="toggle()" x-bind="triggerAttrs"&gt;
    &lt;span x-text="status === 'active' ? 'Activo' : status === 'pending' ? 'Pendiente' : 'Inactivo'"&gt;&lt;/span&gt;
    &lt;span class="ux-dropdown__caret"&gt;&lt;svg&gt;...&lt;/svg&gt;&lt;/span&gt;
  &lt;/button&gt;

  &lt;div class="ux-dropdown__menu" role="menu"&gt;
    &lt;button class="ux-dropdown__item"
            :class="{ 'ux-dropdown__item--selected': status === 'active' }"
            hx-patch="/items/{{ item.id }}/status/"
            hx-vals='{"status": "active"}'
            hx-swap="none"
            @htmx:after-request="status = 'active'; close()"&gt;
      &lt;span class="ux-dropdown__item-text"&gt;Activo&lt;/span&gt;
      &lt;span class="ux-dropdown__item-check"&gt;&lt;svg&gt;...&lt;/svg&gt;&lt;/span&gt;
    &lt;/button&gt;

    &lt;button class="ux-dropdown__item"
            :class="{ 'ux-dropdown__item--selected': status === 'pending' }"
            hx-patch="/items/{{ item.id }}/status/"
            hx-vals='{"status": "pending"}'
            hx-swap="none"
            @htmx:after-request="status = 'pending'; close()"&gt;
      &lt;span class="ux-dropdown__item-text"&gt;Pendiente&lt;/span&gt;
      &lt;span class="ux-dropdown__item-check"&gt;&lt;svg&gt;...&lt;/svg&gt;&lt;/span&gt;
    &lt;/button&gt;

    &lt;button class="ux-dropdown__item"
            :class="{ 'ux-dropdown__item--selected': status === 'inactive' }"
            hx-patch="/items/{{ item.id }}/status/"
            hx-vals='{"status": "inactive"}'
            hx-swap="none"
            @htmx:after-request="status = 'inactive'; close()"&gt;
      &lt;span class="ux-dropdown__item-text"&gt;Inactivo&lt;/span&gt;
      &lt;span class="ux-dropdown__item-check"&gt;&lt;svg&gt;...&lt;/svg&gt;&lt;/span&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre>

      <h4>Django View (Python)</h4>
      <pre class="ux-code-block" data-lang="python"># views.py
from django.http import HttpResponse
from django.views.decorators.http import require_http_methods

@require_http_methods(["GET"])
def item_edit(request, item_id):
    """Retorna formulario de edicion para cargar en modal"""
    item = get_object_or_404(Item, id=item_id)
    return render(request, 'partials/item_form.html', {'item': item})

@require_http_methods(["POST"])
def item_duplicate(request, item_id):
    """Duplica item y retorna HTML del nuevo elemento"""
    item = get_object_or_404(Item, id=item_id)
    new_item = Item.objects.create(
        name=f"{item.name} (copia)",
        **{f: getattr(item, f) for f in ['field1', 'field2']}
    )
    return render(request, 'partials/item_row.html', {'item': new_item})

@require_http_methods(["DELETE"])
def item_delete(request, item_id):
    """Elimina item y retorna respuesta vacia"""
    item = get_object_or_404(Item, id=item_id)
    item.delete()
    return HttpResponse('')

@require_http_methods(["PATCH"])
def item_status(request, item_id):
    """Actualiza estado del item"""
    item = get_object_or_404(Item, id=item_id)
    import json
    data = json.loads(request.body)
    item.status = data.get('status', item.status)
    item.save()
    return HttpResponse('')</pre>

      <h4>URLs Django</h4>
      <pre class="ux-code-block" data-lang="python"># urls.py
from django.urls import path
from . import views

urlpatterns = [
    path('items/&lt;int:item_id&gt;/edit/', views.item_edit, name='item_edit'),
    path('items/&lt;int:item_id&gt;/duplicate/', views.item_duplicate, name='item_duplicate'),
    path('items/&lt;int:item_id&gt;/', views.item_delete, name='item_delete'),
    path('items/&lt;int:item_id&gt;/status/', views.item_status, name='item_status'),
]</pre>

      <h4>Bulk Actions</h4>
      <p>Dropdown para acciones masivas sobre elementos seleccionados.</p>

      <pre class="ux-code-block" data-lang="html">&lt;!-- Dropdown de acciones masivas --&gt;
&lt;div x-data="{ selected: [] }"&gt;
  &lt;!-- Dropdown de acciones --&gt;
  &lt;div class="ux-dropdown" x-data="uxDropdown()" :class="containerClasses"&gt;
    &lt;button class="ux-button ux-color-primary ux-dropdown__trigger"
            :disabled="selected.length === 0"
            @click="toggle()" x-bind="triggerAttrs"&gt;
      Acciones (&lt;span x-text="selected.length"&gt;0&lt;/span&gt;)
      &lt;span class="ux-dropdown__caret"&gt;&lt;svg&gt;...&lt;/svg&gt;&lt;/span&gt;
    &lt;/button&gt;

    &lt;div class="ux-dropdown__menu" role="menu"&gt;
      &lt;button class="ux-dropdown__item"
              hx-post="/items/bulk/export/"
              hx-vals="js:{ids: selected}"
              @click="close()"&gt;
        &lt;span class="ux-dropdown__item-text"&gt;Exportar seleccionados&lt;/span&gt;
      &lt;/button&gt;

      &lt;button class="ux-dropdown__item"
              hx-patch="/items/bulk/archive/"
              hx-vals="js:{ids: selected}"
              hx-target="#items-list"
              @click="selected = []; close()"&gt;
        &lt;span class="ux-dropdown__item-text"&gt;Archivar seleccionados&lt;/span&gt;
      &lt;/button&gt;

      &lt;div class="ux-dropdown__divider"&gt;&lt;/div&gt;

      &lt;button class="ux-dropdown__item ux-dropdown__item--danger"
              hx-delete="/items/bulk/delete/"
              hx-vals="js:{ids: selected}"
              hx-target="#items-list"
              hx-confirm="Eliminar los elementos seleccionados?"
              @click="selected = []; close()"&gt;
        &lt;span class="ux-dropdown__item-text"&gt;Eliminar seleccionados&lt;/span&gt;
      &lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;!-- Lista de items con checkboxes --&gt;
  &lt;div id="items-list"&gt;
    {% for item in items %}
    &lt;div class="item-row"&gt;
      &lt;label class="ux-checkbox"&gt;
        &lt;input type="checkbox" :value="{{ item.id }}"
               x-model="selected"&gt;
        &lt;span class="ux-checkbox__box"&gt;&lt;/span&gt;
      &lt;/label&gt;
      &lt;span&gt;{{ item.name }}&lt;/span&gt;
    &lt;/div&gt;
    {% endfor %}
  &lt;/div&gt;
&lt;/div&gt;</pre>
    </div>

  </div>

  <!-- Footer -->
  <footer class="ux-padding" style="text-align: center; background: var(--ux-surface-secondary); color: var(--ux-text-secondary); font-size: var(--ux-font-size-sm);">
    <p>UX Library - Dropdown Component</p>
  </footer>
</body>
</html>
