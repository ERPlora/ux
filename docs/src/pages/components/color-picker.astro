---
import DocsLayout from '../../layouts/DocsLayout.astro';
import CodePreview from '../../components/CodePreview.astro';
---

<DocsLayout title="Color Picker">
  <p class="text-base-content/70 mb-6">Color selection with spectrum area, hue/alpha sliders, hex/RGB inputs, preset swatches, and sizes.</p>

  <CodePreview
    title="Basic Color Picker"
    semantic={`<div class="color-picker color-picker-open">
  <button class="color-picker-trigger">
    <div class="color-picker-swatch">
      <div class="color-picker-swatch-color" style="background: #3b82f6"></div>
    </div>
    <span class="color-picker-value">#3b82f6</span>
    <svg class="color-picker-arrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m6 9 6 6 6-6"/></svg>
  </button>
  <div class="color-picker-dropdown">
    <!-- Spectrum -->
    <div class="color-picker-spectrum" style="background: hsl(220, 100%, 50%)">
      <div class="color-picker-spectrum-white"></div>
      <div class="color-picker-spectrum-black"></div>
      <div class="color-picker-spectrum-cursor" style="left: 70%; top: 30%; background: #3b82f6"></div>
    </div>
    <!-- Hue slider -->
    <div class="color-picker-slider color-picker-slider-hue">
      <div class="color-picker-slider-thumb" style="left: 61%"></div>
    </div>
    <!-- Inputs -->
    <div class="color-picker-inputs">
      <input class="color-picker-input color-picker-input-hex" value="#3b82f6" />
      <button class="color-picker-format-btn">HEX</button>
    </div>
    <!-- Presets -->
    <div class="color-picker-presets">
      <div class="color-picker-presets-label">Presets</div>
      <div class="color-picker-presets-grid">
        <div class="color-picker-preset" style="background: #ef4444"></div>
        <div class="color-picker-preset" style="background: #f97316"></div>
        <div class="color-picker-preset" style="background: #eab308"></div>
        <div class="color-picker-preset" style="background: #22c55e"></div>
        <div class="color-picker-preset color-picker-preset-active" style="background: #3b82f6"></div>
        <div class="color-picker-preset" style="background: #8b5cf6"></div>
        <div class="color-picker-preset" style="background: #ec4899"></div>
        <div class="color-picker-preset" style="background: #64748b"></div>
      </div>
    </div>
  </div>
</div>`}
    tailwind={`<div class="relative inline-block">
  <button class="flex items-center gap-2 px-3 py-2 bg-base-100 border border-base-300 rounded-field">
    <div class="w-6 h-6 rounded" style="background: #3b82f6"></div>
    <span class="text-sm font-mono">#3b82f6</span>
  </button>
  <div class="absolute top-[calc(100%+4px)] left-0 z-100 min-w-[260px] bg-base-100 border border-base-300 rounded-box shadow-lg p-3">
    <!-- Spectrum: relative div with gradient overlays and cursor circle -->
    <!-- Hue: rainbow gradient bar with draggable thumb -->
    <!-- Inputs: flex row of input fields -->
    <!-- Presets: flex wrap grid of color circles -->
  </div>
</div>`}
    js={`// Open/close: toggle .color-picker-open on container
// Spectrum drag: calculate saturation (x%) and brightness (y%)
// Hue drag: calculate hue angle (0-360)
// Update all values on change:
// spectrum.style.background = 'hsl(' + hue + ', 100%, 50%)';
// cursor.style.left = saturation + '%';
// cursor.style.top = (100 - brightness) + '%';`}
  />

  <CodePreview
    title="Simple Presets Only"
    semantic={`<div class="color-picker color-picker-simple color-picker-open">
  <button class="color-picker-trigger">
    <div class="color-picker-swatch">
      <div class="color-picker-swatch-color" style="background: #22c55e"></div>
    </div>
    <span class="color-picker-value">#22c55e</span>
  </button>
  <div class="color-picker-dropdown">
    <div class="color-picker-presets-grid">
      <div class="color-picker-preset" style="background: #000000"></div>
      <div class="color-picker-preset" style="background: #374151"></div>
      <div class="color-picker-preset" style="background: #6b7280"></div>
      <div class="color-picker-preset" style="background: #9ca3af"></div>
      <div class="color-picker-preset" style="background: #ef4444"></div>
      <div class="color-picker-preset" style="background: #f97316"></div>
      <div class="color-picker-preset" style="background: #eab308"></div>
      <div class="color-picker-preset color-picker-preset-active" style="background: #22c55e"></div>
      <div class="color-picker-preset" style="background: #14b8a6"></div>
      <div class="color-picker-preset" style="background: #3b82f6"></div>
      <div class="color-picker-preset" style="background: #6366f1"></div>
      <div class="color-picker-preset" style="background: #8b5cf6"></div>
      <div class="color-picker-preset" style="background: #ec4899"></div>
      <div class="color-picker-preset" style="background: #f43f5e"></div>
      <div class="color-picker-preset" style="background: #ffffff; border: 1px solid #e5e7eb"></div>
      <div class="color-picker-preset" style="background: transparent"></div>
    </div>
  </div>
</div>`}
    tailwind={`<!-- Simple: 8-column grid of preset swatches, no spectrum/sliders -->`}
    js={`// Click preset: update swatch color + value text
// preset.addEventListener('click', () => {
//   swatch.style.background = preset.style.background;
// });`}
  />

  <div class="overflow-x-auto mt-8">
    <table class="table">
      <thead><tr><th>Class</th><th>Description</th></tr></thead>
      <tbody>
        <tr><td><code>.color-picker</code></td><td>Container</td></tr>
        <tr><td><code>.color-picker-open</code></td><td>Open state</td></tr>
        <tr><td><code>.color-picker-trigger</code></td><td>Trigger button</td></tr>
        <tr><td><code>.color-picker-swatch</code></td><td>Color preview (checkerboard bg)</td></tr>
        <tr><td><code>.color-picker-swatch-color</code></td><td>Color fill overlay</td></tr>
        <tr><td><code>.color-picker-value</code></td><td>Hex/RGB text</td></tr>
        <tr><td><code>.color-picker-dropdown</code></td><td>Dropdown panel</td></tr>
        <tr><td><code>.color-picker-spectrum</code></td><td>Saturation/brightness area</td></tr>
        <tr><td><code>.color-picker-spectrum-cursor</code></td><td>Crosshair cursor</td></tr>
        <tr><td><code>.color-picker-slider</code></td><td>Generic slider bar</td></tr>
        <tr><td><code>.color-picker-slider-hue</code></td><td>Rainbow hue slider</td></tr>
        <tr><td><code>.color-picker-slider-alpha</code></td><td>Alpha/opacity slider</td></tr>
        <tr><td><code>.color-picker-slider-thumb</code></td><td>Slider handle</td></tr>
        <tr><td><code>.color-picker-input</code></td><td>Color value input</td></tr>
        <tr><td><code>.color-picker-format-btn</code></td><td>Format toggle (HEX/RGB)</td></tr>
        <tr><td><code>.color-picker-presets-grid</code></td><td>Preset swatches grid</td></tr>
        <tr><td><code>.color-picker-preset</code></td><td>Individual preset swatch</td></tr>
        <tr><td><code>.color-picker-preset-active</code></td><td>Active preset</td></tr>
        <tr><td><code>.color-picker-sm</code></td><td>Small trigger</td></tr>
        <tr><td><code>.color-picker-lg</code></td><td>Large trigger</td></tr>
        <tr><td><code>.color-picker-disabled</code></td><td>Disabled state</td></tr>
        <tr><td><code>.color-picker-inline</code></td><td>Inline (no dropdown)</td></tr>
        <tr><td><code>.color-picker-simple</code></td><td>Presets only mode</td></tr>
        <tr><td><code>.color-picker.glass</code></td><td>Glass morphism variant</td></tr>
      </tbody>
    </table>
  </div>
</DocsLayout>
