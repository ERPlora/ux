---
import DocsLayout from '../../layouts/DocsLayout.astro';
import CodePreview from '../../components/CodePreview.astro';
---

<DocsLayout title="Popover">
  <p class="text-base-content/70 mb-6">Positioned floating panel with arrow, header, close button, and multiple sizes.</p>

  <CodePreview
    title="Basic Popover"
    semantic={`<div class="relative inline-block">
  <button class="btn" onclick="this.nextElementSibling.dataset.state = this.nextElementSibling.dataset.state === 'open' ? 'closed' : 'open'">Show Popover</button>
  <div class="popover popover-bottom" data-state="open" style="left: 0; top: 100%; margin-top: 12px;">
    <div class="popover-arrow"></div>
    <div class="popover-content">
      <p class="m-0">This is a popover with some helpful content. It appears next to the trigger element.</p>
    </div>
  </div>
</div>`}
    tailwind={`<div class="relative inline-block">
  <button class="btn">Show Popover</button>
  <div class="absolute left-0 top-full mt-3 min-w-37.5 max-w-75 bg-base-100 border border-base-300 rounded-box shadow-xl z-600 p-4 text-sm leading-relaxed">
    <div class="absolute -top-1.75 left-1/2 -ml-1.5 size-3 bg-base-100 border border-base-300 border-b-0 border-r-0 rotate-45"></div>
    <p class="m-0">This is a popover with some helpful content.</p>
  </div>
</div>`}
    js={`// Toggle popover:
// popover.dataset.state = popover.dataset.state === 'open' ? 'closed' : 'open';
//
// Close on click outside:
// document.addEventListener('click', (e) => {
//   if (!trigger.contains(e.target) && !popover.contains(e.target)) {
//     popover.dataset.state = 'closed';
//   }
// });`}
  />

  <CodePreview
    title="With Header"
    semantic={`<div class="relative inline-block">
  <button class="btn" onclick="this.nextElementSibling.dataset.state = this.nextElementSibling.dataset.state === 'open' ? 'closed' : 'open'">Details</button>
  <div class="popover popover-bottom" data-state="open" style="left: 0; top: 100%; margin-top: 12px;">
    <div class="popover-arrow"></div>
    <div class="popover-header">
      <h4 class="popover-title">User Info</h4>
      <button class="popover-close" onclick="this.closest('.popover').dataset.state = 'closed'">
        <svg xmlns="http://www.w3.org/2000/svg" class="size-3.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6 6 18M6 6l12 12"/></svg>
      </button>
    </div>
    <div class="popover-content">
      <p class="m-0 mb-2"><strong>John Doe</strong></p>
      <p class="m-0 text-base-content/60">Member since 2024. Premium plan active.</p>
    </div>
  </div>
</div>`}
    tailwind={`<div class="relative inline-block">
  <button class="btn">Details</button>
  <div class="absolute left-0 top-full mt-3 min-w-37.5 max-w-75 bg-base-100 border border-base-300 rounded-box shadow-xl z-600 text-sm leading-relaxed">
    <div class="absolute -top-1.75 left-1/2 -ml-1.5 size-3 bg-base-100 border border-base-300 border-b-0 border-r-0 rotate-45"></div>
    <div class="flex items-center justify-between px-4 py-2 border-b border-base-300">
      <h4 class="text-sm font-semibold m-0 text-base-content">User Info</h4>
      <button class="flex items-center justify-center size-6 p-0 bg-transparent border-none cursor-pointer text-base-content/40 hover:text-base-content">
        <svg xmlns="http://www.w3.org/2000/svg" class="size-3.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6 6 18M6 6l12 12"/></svg>
      </button>
    </div>
    <div class="p-4">
      <p class="m-0 mb-2"><strong>John Doe</strong></p>
      <p class="m-0 text-base-content/60">Member since 2024. Premium plan active.</p>
    </div>
  </div>
</div>`}
    js={`// Close button: popover.dataset.state = 'closed'`}
  />

  <CodePreview
    title="Arrow Positions"
    semantic={`<div class="flex gap-8 flex-wrap items-center">
  <div class="relative">
    <div class="popover popover-top" data-state="open" style="position: relative;">
      <div class="popover-arrow"></div>
      <div class="popover-content"><p class="m-0">Top arrow</p></div>
    </div>
  </div>
  <div class="relative">
    <div class="popover popover-bottom" data-state="open" style="position: relative;">
      <div class="popover-arrow"></div>
      <div class="popover-content"><p class="m-0">Bottom arrow</p></div>
    </div>
  </div>
  <div class="relative">
    <div class="popover popover-no-arrow" data-state="open" style="position: relative;">
      <div class="popover-arrow"></div>
      <div class="popover-content"><p class="m-0">No arrow</p></div>
    </div>
  </div>
</div>`}
    tailwind={`<div class="flex gap-8 flex-wrap items-center">
  <div class="relative">
    <div class="relative min-w-37.5 max-w-75 bg-base-100 border border-base-300 rounded-box shadow-xl z-600 text-sm leading-relaxed p-4">
      <div class="absolute -bottom-1.75 left-1/2 -ml-1.5 size-3 bg-base-100 border border-base-300 border-t-0 border-l-0 rotate-45"></div>
      <p class="m-0">Top arrow</p>
    </div>
  </div>
  <div class="relative">
    <div class="relative min-w-37.5 max-w-75 bg-base-100 border border-base-300 rounded-box shadow-xl z-600 text-sm leading-relaxed p-4">
      <div class="absolute -top-1.75 left-1/2 -ml-1.5 size-3 bg-base-100 border border-base-300 border-b-0 border-r-0 rotate-45"></div>
      <p class="m-0">Bottom arrow</p>
    </div>
  </div>
  <div class="relative">
    <div class="relative min-w-37.5 max-w-75 bg-base-100 border border-base-300 rounded-box shadow-xl z-600 text-sm leading-relaxed p-4">
      <p class="m-0">No arrow</p>
    </div>
  </div>
</div>`}
    js={`// Arrow positions: popover-top, popover-bottom, popover-left, popover-right
// Hide arrow: popover-no-arrow`}
  />

  <CodePreview
    title="Sizes"
    semantic={`<div class="flex gap-6 flex-wrap items-start">
  <div class="popover popover-sm" data-state="open" style="position: relative;">
    <div class="popover-content"><p class="m-0">Small (200px max)</p></div>
  </div>
  <div class="popover" data-state="open" style="position: relative;">
    <div class="popover-content"><p class="m-0">Default (300px max)</p></div>
  </div>
  <div class="popover popover-lg" data-state="open" style="position: relative;">
    <div class="popover-content"><p class="m-0">Large (400px max). More room for detailed content and complex layouts.</p></div>
  </div>
</div>`}
    tailwind={`<div class="flex gap-6 flex-wrap items-start">
  <div class="relative min-w-25 max-w-50 bg-base-100 border border-base-300 rounded-box shadow-xl z-600 text-sm leading-relaxed p-4">
    <p class="m-0">Small (200px max)</p>
  </div>
  <div class="relative min-w-37.5 max-w-75 bg-base-100 border border-base-300 rounded-box shadow-xl z-600 text-sm leading-relaxed p-4">
    <p class="m-0">Default (300px max)</p>
  </div>
  <div class="relative min-w-62.5 max-w-100 bg-base-100 border border-base-300 rounded-box shadow-xl z-600 text-sm leading-relaxed p-4">
    <p class="m-0">Large (400px max). More room for detailed content and complex layouts.</p>
  </div>
</div>`}
    js={`// No JavaScript required for sizes`}
  />

  <div class="overflow-x-auto mt-8">
    <table class="table">
      <thead><tr><th>Class</th><th>Description</th></tr></thead>
      <tbody>
        <tr><td><code>.popover</code></td><td>Base floating panel</td></tr>
        <tr><td><code>.popover[data-state="open"]</code></td><td>Visible state</td></tr>
        <tr><td><code>.popover-open</code></td><td>Alternative open class</td></tr>
        <tr><td><code>.popover-arrow</code></td><td>Arrow element (12px rotated square)</td></tr>
        <tr><td><code>.popover-top</code></td><td>Arrow at bottom (popover above)</td></tr>
        <tr><td><code>.popover-bottom</code></td><td>Arrow at top (popover below)</td></tr>
        <tr><td><code>.popover-left</code></td><td>Arrow at right (popover left)</td></tr>
        <tr><td><code>.popover-right</code></td><td>Arrow at left (popover right)</td></tr>
        <tr><td><code>.popover-no-arrow</code></td><td>Hide the arrow</td></tr>
        <tr><td><code>.popover-content</code></td><td>Content area with padding</td></tr>
        <tr><td><code>.popover-content-flush</code></td><td>No padding (for custom content)</td></tr>
        <tr><td><code>.popover-header</code></td><td>Header with title & close</td></tr>
        <tr><td><code>.popover-title</code></td><td>Header title</td></tr>
        <tr><td><code>.popover-close</code></td><td>Close button (24px)</td></tr>
        <tr><td><code>.popover-sm</code></td><td>Small size (100-200px)</td></tr>
        <tr><td><code>.popover-lg</code></td><td>Large size (250-400px)</td></tr>
        <tr><td><code>.popover-auto</code></td><td>Auto size (no limits)</td></tr>
        <tr><td><code>.popover-dropdown</code></td><td>List-style (no content padding)</td></tr>
        <tr><td><code>.popover-trigger</code></td><td>Trigger wrapper</td></tr>
        <tr><td><code>.popover-backdrop</code></td><td>Dismissible backdrop</td></tr>
        <tr><td><code>.popover.glass</code></td><td>Glass morphism variant</td></tr>
      </tbody>
    </table>
  </div>
</DocsLayout>
