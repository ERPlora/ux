---
import DocsLayout from '../../layouts/DocsLayout.astro';
import CodePreview from '../../components/CodePreview.astro';
---

<DocsLayout title="Quantity Badge">
  <p class="text-base-content/70 mb-6">Small numeric badges for showing item quantities, counts, and notifications on product cards and buttons.</p>

  <CodePreview
    title="Basic Quantity Badge"
    noFrame
    semantic={`<div class="quantity-badge">
  <button class="btn">Cart</button>
  <span class="quantity-badge-count">3</span>
</div>

<div class="quantity-badge">
  <button class="btn">Orders</button>
  <span class="quantity-badge-count">12</span>
</div>

<div class="quantity-badge">
  <button class="btn">Notifications</button>
  <span class="quantity-badge-count">99+</span>
</div>`}
    tailwind={`<div class="relative inline-flex">
  <button class="btn">Cart</button>
  <span class="absolute flex items-center justify-center font-semibold -top-1.5 -right-1.5 min-w-[18px] h-[18px] px-[5px] bg-error text-white text-[11px] leading-none rounded-full border-2 border-base-100">3</span>
</div>

<div class="relative inline-flex">
  <button class="btn">Orders</button>
  <span class="absolute flex items-center justify-center font-semibold -top-1.5 -right-1.5 min-w-[18px] h-[18px] px-[5px] bg-error text-white text-[11px] leading-none rounded-full border-2 border-base-100">12</span>
</div>

<div class="relative inline-flex">
  <button class="btn">Notifications</button>
  <span class="absolute flex items-center justify-center font-semibold -top-1.5 -right-1.5 min-w-[18px] h-[18px] px-[5px] bg-error text-white text-[11px] leading-none rounded-full border-2 border-base-100">99+</span>
</div>`}
    js={`// Animate badge on update:
function updateBadge(el, count) {
  el.textContent = count > 99 ? '99+' : count;
  el.classList.add('quantity-badge-count-animate');
  el.addEventListener('animationend', () => {
    el.classList.remove('quantity-badge-count-animate');
  }, { once: true });
}`}
  />

  <CodePreview
    title="Color & Style Variants"
    noFrame
    semantic={`<!-- Solid colors -->
<div class="quantity-badge quantity-badge-primary">
  <button class="btn">ERPlora Products</button>
  <span class="quantity-badge-count">5</span>
</div>

<div class="quantity-badge quantity-badge-success">
  <button class="btn">Completed</button>
  <span class="quantity-badge-count">8</span>
</div>

<div class="quantity-badge quantity-badge-warning">
  <button class="btn">Pending</button>
  <span class="quantity-badge-count">2</span>
</div>

<!-- Soft variants -->
<div class="quantity-badge quantity-badge-primary-soft">
  <button class="btn">Inbox</button>
  <span class="quantity-badge-count">14</span>
</div>

<div class="quantity-badge quantity-badge-danger-soft">
  <button class="btn">Issues</button>
  <span class="quantity-badge-count">3</span>
</div>

<!-- Outline variant -->
<div class="quantity-badge quantity-badge-outline quantity-badge-primary">
  <button class="btn">Alerts</button>
  <span class="quantity-badge-count">7</span>
</div>`}
    tailwind={`<!-- Solid colors -->
<div class="relative inline-flex">
  <button class="btn">ERPlora Products</button>
  <span class="absolute flex items-center justify-center font-semibold -top-1.5 -right-1.5 min-w-[18px] h-[18px] px-[5px] bg-primary text-white text-[11px] leading-none rounded-full border-2 border-base-100">5</span>
</div>

<div class="relative inline-flex">
  <button class="btn">Completed</button>
  <span class="absolute flex items-center justify-center font-semibold -top-1.5 -right-1.5 min-w-[18px] h-[18px] px-[5px] bg-success text-white text-[11px] leading-none rounded-full border-2 border-base-100">8</span>
</div>

<div class="relative inline-flex">
  <button class="btn">Pending</button>
  <span class="absolute flex items-center justify-center font-semibold -top-1.5 -right-1.5 min-w-[18px] h-[18px] px-[5px] bg-warning text-[#111] text-[11px] leading-none rounded-full border-2 border-base-100">2</span>
</div>

<!-- Soft variants -->
<div class="relative inline-flex">
  <button class="btn">Inbox</button>
  <span class="absolute flex items-center justify-center font-semibold -top-1.5 -right-1.5 min-w-[18px] h-[18px] px-[5px] bg-primary/15 text-primary text-[11px] leading-none rounded-full border-2 border-primary/15">14</span>
</div>

<div class="relative inline-flex">
  <button class="btn">Issues</button>
  <span class="absolute flex items-center justify-center font-semibold -top-1.5 -right-1.5 min-w-[18px] h-[18px] px-[5px] bg-error/15 text-error text-[11px] leading-none rounded-full border-2 border-error/15">3</span>
</div>

<!-- Outline variant -->
<div class="relative inline-flex">
  <button class="btn">Alerts</button>
  <span class="absolute flex items-center justify-center font-semibold -top-1.5 -right-1.5 min-w-[18px] h-[18px] px-[5px] bg-base-100 text-primary border-2 border-primary text-[11px] leading-none rounded-full">7</span>
</div>`}
    js={`// No JavaScript required - pure CSS component`}
  />

  <CodePreview
    title="Dot, Pulse & Position"
    noFrame
    semantic={`<!-- Dot indicator (no number) -->
<div class="quantity-badge">
  <button class="btn">Messages</button>
  <span class="quantity-badge-count quantity-badge-count-dot"></span>
</div>

<!-- Pulsing dot -->
<div class="quantity-badge">
  <button class="btn">Live Orders</button>
  <span class="quantity-badge-count quantity-badge-count-dot quantity-badge-count-pulse"></span>
</div>

<!-- Position variants -->
<div class="quantity-badge quantity-badge-top-left">
  <button class="btn">Top Left</button>
  <span class="quantity-badge-count">2</span>
</div>

<div class="quantity-badge quantity-badge-bottom-right">
  <button class="btn">Bottom Right</button>
  <span class="quantity-badge-count">5</span>
</div>

<div class="quantity-badge quantity-badge-bottom-left">
  <button class="btn">Bottom Left</button>
  <span class="quantity-badge-count">1</span>
</div>`}
    tailwind={`<!-- Dot indicator -->
<div class="relative inline-flex">
  <button class="btn">Messages</button>
  <span class="absolute w-2.5 h-2.5 min-w-0 p-0 bg-error rounded-full -top-0.5 -right-0.5 border-2 border-base-100"></span>
</div>

<!-- Pulsing dot -->
<div class="relative inline-flex">
  <button class="btn">Live Orders</button>
  <span class="absolute w-2.5 h-2.5 min-w-0 p-0 bg-error rounded-full -top-0.5 -right-0.5 border-2 border-base-100 animate-pulse"></span>
</div>

<!-- Position variants -->
<div class="relative inline-flex">
  <button class="btn">Top Left</button>
  <span class="absolute flex items-center justify-center font-semibold -top-1.5 -left-1.5 right-auto min-w-[18px] h-[18px] px-[5px] bg-error text-white text-[11px] leading-none rounded-full border-2 border-base-100">2</span>
</div>

<div class="relative inline-flex">
  <button class="btn">Bottom Right</button>
  <span class="absolute flex items-center justify-center font-semibold -bottom-1.5 -right-1.5 top-auto min-w-[18px] h-[18px] px-[5px] bg-error text-white text-[11px] leading-none rounded-full border-2 border-base-100">5</span>
</div>

<div class="relative inline-flex">
  <button class="btn">Bottom Left</button>
  <span class="absolute flex items-center justify-center font-semibold -bottom-1.5 -left-1.5 top-auto right-auto min-w-[18px] h-[18px] px-[5px] bg-error text-white text-[11px] leading-none rounded-full border-2 border-base-100">1</span>
</div>`}
    js={`// Toggle badge visibility:
function hideBadge(el) {
  el.classList.add('quantity-badge-count-hidden');
}
function showBadge(el) {
  el.classList.remove('quantity-badge-count-hidden');
}`}
  />

  <CodePreview
    title="Cart & Stepper Variants"
    noFrame
    semantic={`<!-- Cart variant (inline +/- controls) -->
<div class="quantity-badge-cart">
  <button class="quantity-badge-btn" aria-label="Decrease">-</button>
  <span class="quantity-badge-value">2</span>
  <button class="quantity-badge-btn" aria-label="Increase">+</button>
</div>

<!-- Stepper variant -->
<div class="quantity-badge-stepper">
  <button class="quantity-badge-btn" aria-label="Decrease">-</button>
  <span class="quantity-badge-value">5</span>
  <button class="quantity-badge-btn" aria-label="Increase">+</button>
</div>

<!-- Inline badge variant -->
<div class="quantity-badge-inline">
  <span>ERPlora Inventory</span>
  <span class="quantity-badge-count">42</span>
</div>`}
    tailwind={`<!-- Cart variant -->
<div class="inline-flex items-center gap-2 px-2 py-1 bg-base-100 border border-base-300 rounded-full">
  <button class="flex items-center justify-center w-6 h-6 bg-base-200 rounded-full text-base-content text-base font-medium border-none cursor-pointer hover:bg-base-300 active:scale-95" aria-label="Decrease">-</button>
  <span class="text-center font-semibold min-w-[24px] text-base-content">2</span>
  <button class="flex items-center justify-center w-6 h-6 bg-base-200 rounded-full text-base-content text-base font-medium border-none cursor-pointer hover:bg-base-300 active:scale-95" aria-label="Increase">+</button>
</div>

<!-- Stepper variant -->
<div class="inline-flex items-center overflow-hidden bg-base-200 rounded-xl">
  <button class="flex items-center justify-center w-9 h-9 bg-transparent text-base-content text-lg border-none cursor-pointer hover:bg-base-300" aria-label="Decrease">-</button>
  <span class="flex items-center justify-center font-semibold min-w-[40px] h-9 text-base-content border-l border-r border-base-300">5</span>
  <button class="flex items-center justify-center w-9 h-9 bg-transparent text-base-content text-lg border-none cursor-pointer hover:bg-base-300" aria-label="Increase">+</button>
</div>

<!-- Inline badge -->
<div class="inline-flex items-center gap-1">
  <span>ERPlora Inventory</span>
  <span class="flex items-center justify-center font-semibold min-w-[18px] h-[18px] px-[5px] bg-error text-white text-[11px] leading-none rounded-full">42</span>
</div>`}
    js={`// Cart/stepper quantity control:
document.querySelectorAll('.quantity-badge-cart, .quantity-badge-stepper').forEach(el => {
  const value = el.querySelector('.quantity-badge-value');
  const [decBtn, incBtn] = el.querySelectorAll('.quantity-badge-btn');
  decBtn.addEventListener('click', () => {
    const n = Math.max(0, parseInt(value.textContent) - 1);
    value.textContent = n;
  });
  incBtn.addEventListener('click', () => {
    value.textContent = parseInt(value.textContent) + 1;
  });
});`}
  />

  <div class="mt-10">
    <h2 class="text-xl font-bold">Classes Reference</h2>
    <div class="overflow-x-auto mt-4">
      <table class="w-full text-sm border border-base-300 rounded-lg overflow-hidden">
        <thead class="bg-base-200">
          <tr>
            <th class="text-left px-4 py-2 font-medium">Class</th>
            <th class="text-left px-4 py-2 font-medium">Description</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-base-300">
          <tr><td class="px-4 py-2 font-mono text-xs">.quantity-badge</td><td class="px-4 py-2">Base wrapper (relative inline-flex)</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.quantity-badge-count</td><td class="px-4 py-2">The numeric badge element</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.quantity-badge-count-dot</td><td class="px-4 py-2">Small dot indicator (no text)</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.quantity-badge-count-pulse</td><td class="px-4 py-2">Pulsing animation on the badge</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.quantity-badge-count-animate</td><td class="px-4 py-2">Pop-in animation on update</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.quantity-badge-count-hidden</td><td class="px-4 py-2">Scale to zero (hidden)</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.quantity-badge-sm / -lg</td><td class="px-4 py-2">Size variants</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.quantity-badge-top-left</td><td class="px-4 py-2">Position badge top-left</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.quantity-badge-bottom-right</td><td class="px-4 py-2">Position badge bottom-right</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.quantity-badge-bottom-left</td><td class="px-4 py-2">Position badge bottom-left</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.quantity-badge-inline</td><td class="px-4 py-2">Inline badge (no absolute positioning)</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.quantity-badge-primary</td><td class="px-4 py-2">Primary color badge</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.quantity-badge-success</td><td class="px-4 py-2">Success color badge</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.quantity-badge-warning</td><td class="px-4 py-2">Warning color badge</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.quantity-badge-danger</td><td class="px-4 py-2">Danger/error color badge</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.quantity-badge-*-soft</td><td class="px-4 py-2">Soft tinted variants (primary, success, danger)</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.quantity-badge-outline</td><td class="px-4 py-2">Outline style badge</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.quantity-badge-cart</td><td class="px-4 py-2">Cart pill with +/- buttons</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.quantity-badge-stepper</td><td class="px-4 py-2">Stepper with +/- buttons</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.quantity-badge-btn</td><td class="px-4 py-2">Button inside cart/stepper</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.quantity-badge-value</td><td class="px-4 py-2">Value display inside cart/stepper</td></tr>
        </tbody>
      </table>
    </div>
  </div>
</DocsLayout>
