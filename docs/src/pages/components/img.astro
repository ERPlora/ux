---
import DocsLayout from '../../layouts/DocsLayout.astro';
import CodePreview from '../../components/CodePreview.astro';
---

<DocsLayout title="Img">
  <p class="text-base-content/70 mb-6">Responsive image container with shapes, loading skeleton, error states, and aspect ratios.</p>

  <CodePreview
    title="Basic Image"
    noFrame
    semantic={`<div class="img img-rounded" style="width: 300px;">
  <img class="img-element" src="https://picsum.photos/seed/img1/600/400" alt="Sample image" onload="this.parentElement.classList.add('img-loaded')">
  <div class="img-skeleton"></div>
</div>`}
    tailwind={`<div class="relative block overflow-hidden rounded-2xl bg-base-200" style="width: 300px;">
  <img class="block w-full h-full object-cover" src="https://picsum.photos/seed/img1/600/400" alt="Sample image">
</div>`}
    js={`// Optional: add 'img-loaded' class on load for fade-in
const img = document.querySelector('.img-element');
img.addEventListener('load', () => &#123;
  img.closest('.img').classList.add('img-loaded');
&#125;);`}
  />

  <CodePreview
    title="Shapes"
    noFrame
    semantic={`<div style="display: flex; gap: 1rem; flex-wrap: wrap; align-items: flex-start;">
  <div class="img img-rounded img-md img-loaded">
    <img class="img-element" src="https://picsum.photos/seed/shape1/200/200" alt="Rounded">
  </div>
  <div class="img img-circle img-md img-loaded">
    <img class="img-element" src="https://picsum.photos/seed/shape2/200/200" alt="Circle">
  </div>
  <div class="img img-md img-loaded">
    <img class="img-element" src="https://picsum.photos/seed/shape3/200/200" alt="Default">
  </div>
</div>`}
    tailwind={`<div style="display: flex; gap: 1rem; flex-wrap: wrap; align-items: flex-start;">
  <div class="relative block w-20 h-20 rounded-2xl overflow-hidden bg-base-200">
    <img class="block w-full h-full object-cover" src="https://picsum.photos/seed/shape1/200/200" alt="Rounded">
  </div>
  <div class="relative block w-20 h-20 rounded-full overflow-hidden bg-base-200">
    <img class="block w-full h-full object-cover" src="https://picsum.photos/seed/shape2/200/200" alt="Circle">
  </div>
  <div class="relative block w-20 h-20 overflow-hidden bg-base-200">
    <img class="block w-full h-full object-cover" src="https://picsum.photos/seed/shape3/200/200" alt="Default">
  </div>
</div>`}
    js={`// No JavaScript required - pure CSS component`}
  />

  <CodePreview
    title="Aspect Ratios"
    noFrame
    semantic={`<div style="display: flex; gap: 1rem; flex-wrap: wrap; align-items: flex-start;">
  <div class="img img-square img-rounded img-loaded" style="width: 150px;">
    <img class="img-element" src="https://picsum.photos/seed/ar1/300/300" alt="Square">
  </div>
  <div class="img img-video img-rounded img-loaded" style="width: 200px;">
    <img class="img-element" src="https://picsum.photos/seed/ar2/400/225" alt="16:9">
  </div>
  <div class="img img-portrait img-rounded img-loaded" style="width: 120px;">
    <img class="img-element" src="https://picsum.photos/seed/ar3/300/400" alt="3:4">
  </div>
</div>`}
    tailwind={`<div style="display: flex; gap: 1rem; flex-wrap: wrap; align-items: flex-start;">
  <div class="relative block aspect-square rounded-2xl overflow-hidden bg-base-200" style="width: 150px;">
    <img class="block w-full h-full object-cover" src="https://picsum.photos/seed/ar1/300/300" alt="Square">
  </div>
  <div class="relative block aspect-video rounded-2xl overflow-hidden bg-base-200" style="width: 200px;">
    <img class="block w-full h-full object-cover" src="https://picsum.photos/seed/ar2/400/225" alt="16:9">
  </div>
  <div class="relative block rounded-2xl overflow-hidden bg-base-200" style="width: 120px; aspect-ratio: 3/4;">
    <img class="block w-full h-full object-cover" src="https://picsum.photos/seed/ar3/300/400" alt="3:4">
  </div>
</div>`}
    js={`// No JavaScript required - pure CSS component`}
  />

  <CodePreview
    title="Sizes"
    noFrame
    semantic={`<div style="display: flex; gap: 1rem; flex-wrap: wrap; align-items: center;">
  <div class="img img-xs img-circle img-loaded">
    <img class="img-element" src="https://picsum.photos/seed/sz1/64/64" alt="XS">
  </div>
  <div class="img img-sm img-circle img-loaded">
    <img class="img-element" src="https://picsum.photos/seed/sz2/96/96" alt="SM">
  </div>
  <div class="img img-md img-circle img-loaded">
    <img class="img-element" src="https://picsum.photos/seed/sz3/160/160" alt="MD">
  </div>
  <div class="img img-lg img-circle img-loaded">
    <img class="img-element" src="https://picsum.photos/seed/sz4/240/240" alt="LG">
  </div>
</div>`}
    tailwind={`<div style="display: flex; gap: 1rem; flex-wrap: wrap; align-items: center;">
  <div class="relative block w-8 h-8 rounded-full overflow-hidden bg-base-200">
    <img class="block w-full h-full object-cover" src="https://picsum.photos/seed/sz1/64/64" alt="XS">
  </div>
  <div class="relative block w-12 h-12 rounded-full overflow-hidden bg-base-200">
    <img class="block w-full h-full object-cover" src="https://picsum.photos/seed/sz2/96/96" alt="SM">
  </div>
  <div class="relative block w-20 h-20 rounded-full overflow-hidden bg-base-200">
    <img class="block w-full h-full object-cover" src="https://picsum.photos/seed/sz3/160/160" alt="MD">
  </div>
  <div class="relative block w-30 h-30 rounded-full overflow-hidden bg-base-200">
    <img class="block w-full h-full object-cover" src="https://picsum.photos/seed/sz4/240/240" alt="LG">
  </div>
</div>`}
    js={`// No JavaScript required - pure CSS component`}
  />

  <CodePreview
    title="Skeleton Loading"
    noFrame
    semantic={`<div style="display: flex; gap: 1rem; flex-wrap: wrap;">
  <div class="img img-rounded img-video" style="width: 280px;">
    <div class="img-skeleton"></div>
  </div>
  <div class="img img-circle img-md">
    <div class="img-skeleton"></div>
  </div>
</div>`}
    tailwind={`<div style="display: flex; gap: 1rem; flex-wrap: wrap;">
  <div class="relative block aspect-video rounded-2xl overflow-hidden bg-base-200" style="width: 280px;">
    <div class="absolute inset-0 bg-base-200 animate-pulse"></div>
  </div>
  <div class="relative block w-20 h-20 rounded-full overflow-hidden bg-base-200">
    <div class="absolute inset-0 bg-base-200 animate-pulse"></div>
  </div>
</div>`}
    js={`// No JavaScript required - skeleton shows by default
// Add 'img-loaded' class to hide skeleton when image loads`}
  />

  <CodePreview
    title="Error State"
    noFrame
    semantic={`<div class="img img-rounded img-error" style="width: 280px; aspect-ratio: 16/9;">
  <div class="img-error-display">
    <svg class="img-error-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v10"></path><path d="m3 15 4-4a3 5 0 0 1 3 0l5 5"></path><path d="m14 14 1-1a3 5 0 0 1 3 0l3 3"></path></svg>
    <span class="img-error-text">Failed to load image</span>
  </div>
</div>`}
    tailwind={`<div class="relative block rounded-2xl overflow-hidden bg-base-200" style="width: 280px; aspect-ratio: 16/9;">
  <div class="absolute inset-0 flex flex-col items-center justify-center gap-2 bg-base-200 text-base-content/40">
    <svg class="w-8 h-8 opacity-50" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v10"></path><path d="m3 15 4-4a3 5 0 0 1 3 0l5 5"></path><path d="m14 14 1-1a3 5 0 0 1 3 0l3 3"></path></svg>
    <span class="text-xs text-center">Failed to load image</span>
  </div>
</div>`}
    js={`// On error, add 'img-error' class to show fallback
const img = document.querySelector('.img-element');
img.addEventListener('error', () => &#123;
  img.closest('.img').classList.add('img-error');
&#125;);`}
  />

  <!-- Reference Table -->
  <div class="mt-8">
    <h2 class="text-xl font-bold mb-4">Reference</h2>
    <div class="overflow-x-auto">
      <table class="w-full text-sm text-left">
        <thead>
          <tr class="border-b border-base-300">
            <th class="py-2 pr-4 font-semibold">Class</th>
            <th class="py-2 font-semibold">Description</th>
          </tr>
        </thead>
        <tbody class="font-mono text-xs">
          <tr class="border-b border-base-200"><td class="py-2 pr-4">.img</td><td>Base image container</td></tr>
          <tr class="border-b border-base-200"><td class="py-2 pr-4">.img-element</td><td>The &lt;img&gt; element inside container</td></tr>
          <tr class="border-b border-base-200"><td class="py-2 pr-4">.img-rounded</td><td>Rounded corners (radius-box)</td></tr>
          <tr class="border-b border-base-200"><td class="py-2 pr-4">.img-circle</td><td>Circular shape</td></tr>
          <tr class="border-b border-base-200"><td class="py-2 pr-4">.img-contain</td><td>Object-fit: contain</td></tr>
          <tr class="border-b border-base-200"><td class="py-2 pr-4">.img-cover</td><td>Object-fit: cover (default)</td></tr>
          <tr class="border-b border-base-200"><td class="py-2 pr-4">.img-fill</td><td>Object-fit: fill</td></tr>
          <tr class="border-b border-base-200"><td class="py-2 pr-4">.img-square</td><td>1:1 aspect ratio</td></tr>
          <tr class="border-b border-base-200"><td class="py-2 pr-4">.img-video</td><td>16:9 aspect ratio</td></tr>
          <tr class="border-b border-base-200"><td class="py-2 pr-4">.img-portrait</td><td>3:4 aspect ratio</td></tr>
          <tr class="border-b border-base-200"><td class="py-2 pr-4">.img-landscape</td><td>4:3 aspect ratio</td></tr>
          <tr class="border-b border-base-200"><td class="py-2 pr-4">.img-wide</td><td>21:9 aspect ratio</td></tr>
          <tr class="border-b border-base-200"><td class="py-2 pr-4">.img-xs / sm / md / lg / xl</td><td>Fixed size variants (32-200px)</td></tr>
          <tr class="border-b border-base-200"><td class="py-2 pr-4">.img-loaded</td><td>Shows image, hides skeleton</td></tr>
          <tr class="border-b border-base-200"><td class="py-2 pr-4">.img-error</td><td>Shows error state</td></tr>
          <tr class="border-b border-base-200"><td class="py-2 pr-4">.img-skeleton</td><td>Shimmer loading placeholder</td></tr>
          <tr class="border-b border-base-200"><td class="py-2 pr-4">.img-placeholder</td><td>Icon placeholder</td></tr>
          <tr class="border-b border-base-200"><td class="py-2 pr-4">.img-error-display</td><td>Error state overlay</td></tr>
          <tr class="border-b border-base-200"><td class="py-2 pr-4">.img-lqip</td><td>Low-quality image placeholder (blur-up)</td></tr>
          <tr class="border-b border-base-200"><td class="py-2 pr-4">.img-fade</td><td>Fade-in animation on load</td></tr>
          <tr class="border-b border-base-200"><td class="py-2 pr-4">.img-zoom</td><td>Zoom-in animation on load</td></tr>
          <tr class="border-b border-base-200"><td class="py-2 pr-4">.img.glass</td><td>Glassmorphism variant</td></tr>
        </tbody>
      </table>
    </div>
  </div>
</DocsLayout>
