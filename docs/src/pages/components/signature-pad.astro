---
import DocsLayout from '../../layouts/DocsLayout.astro';
import CodePreview from '../../components/CodePreview.astro';
---

<DocsLayout title="Signature Pad">
  <p class="text-base-content/70 mb-6">Canvas-based signature capture with guide line, placeholder, clear/save actions, sizes, and validation states.</p>

  <CodePreview
    title="Basic Signature Pad"
    semantic={`<div class="signature-pad">
  <div class="signature-pad-container">
    <canvas class="signature-pad-canvas"></canvas>
    <div class="signature-pad-guide"></div>
    <div class="signature-pad-placeholder">
      <svg xmlns="http://www.w3.org/2000/svg" class="size-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"/></svg>
      <span>Sign here</span>
    </div>
  </div>
  <div class="signature-pad-actions">
    <button class="signature-pad-btn" type="button">Clear</button>
    <button class="signature-pad-btn signature-pad-btn-primary" type="button">Save</button>
  </div>
</div>`}
    tailwind={`<div class="flex flex-col">
  <div class="relative overflow-hidden border-2 border-base-300 rounded-box bg-base-100">
    <canvas class="block w-full h-[200px]" style="touch-action: none; cursor: crosshair;"></canvas>
    <div class="absolute pointer-events-none" style="left: 10%; right: 10%; bottom: 30%; height: 1px; background: var(--color-base-300);"></div>
    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col items-center gap-2 pointer-events-none text-sm text-base-content/30">
      <svg xmlns="http://www.w3.org/2000/svg" class="size-8 opacity-50" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"/></svg>
      <span>Sign here</span>
    </div>
  </div>
  <div class="flex justify-end gap-2 mt-2">
    <button class="inline-flex items-center justify-center gap-1.5 px-4 py-2 text-sm bg-base-200 border border-base-300 rounded-field cursor-pointer hover:bg-base-300" type="button">Clear</button>
    <button class="inline-flex items-center justify-center gap-1.5 px-4 py-2 text-sm text-white bg-primary border border-primary rounded-field cursor-pointer hover:brightness-90" type="button">Save</button>
  </div>
</div>`}
    js={`// Initialize canvas drawing:
// const canvas = document.querySelector('.signature-pad-canvas');
// const ctx = canvas.getContext('2d');
// let drawing = false;
// canvas.addEventListener('pointerdown', (e) => &#123;
//   drawing = true;
//   ctx.beginPath();
//   ctx.moveTo(e.offsetX, e.offsetY);
// &#125;);
// canvas.addEventListener('pointermove', (e) => &#123;
//   if (!drawing) return;
//   ctx.lineTo(e.offsetX, e.offsetY);
//   ctx.stroke();
// &#125;);
// canvas.addEventListener('pointerup', () => drawing = false);`}
  />

  <CodePreview
    title="With Label & Helper"
    semantic={`<div class="signature-pad">
  <label class="signature-pad-label">Customer Signature <span class="text-error">*</span></label>
  <div class="signature-pad-container">
    <canvas class="signature-pad-canvas"></canvas>
    <div class="signature-pad-guide"></div>
    <div class="signature-pad-placeholder">
      <svg xmlns="http://www.w3.org/2000/svg" class="size-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"/></svg>
      <span>Sign here</span>
    </div>
  </div>
  <span class="signature-pad-helper">Please sign within the designated area</span>
</div>`}
    tailwind={`<div class="flex flex-col">
  <label class="block text-sm font-medium text-base-content mb-1">Customer Signature <span class="text-error">*</span></label>
  <div class="relative overflow-hidden border-2 border-base-300 rounded-box bg-base-100">
    <canvas class="block w-full h-[200px]" style="touch-action: none; cursor: crosshair;"></canvas>
    <div class="absolute pointer-events-none" style="left: 10%; right: 10%; bottom: 30%; height: 1px; background: var(--color-base-300);"></div>
    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col items-center gap-2 pointer-events-none text-sm text-base-content/30">
      <svg xmlns="http://www.w3.org/2000/svg" class="size-8 opacity-50" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"/></svg>
      <span>Sign here</span>
    </div>
  </div>
  <span class="text-xs mt-1 text-base-content/60">Please sign within the designated area</span>
</div>`}
    js={`// No JavaScript required for static layout`}
  />

  <CodePreview
    title="Sizes"
    semantic={`<!-- Small (150px) -->
<div class="signature-pad signature-pad-sm mb-4">
  <div class="signature-pad-container">
    <canvas class="signature-pad-canvas"></canvas>
    <div class="signature-pad-guide"></div>
  </div>
</div>

<!-- Default (200px) -->
<div class="signature-pad mb-4">
  <div class="signature-pad-container">
    <canvas class="signature-pad-canvas"></canvas>
    <div class="signature-pad-guide"></div>
  </div>
</div>

<!-- Large (300px) -->
<div class="signature-pad signature-pad-lg">
  <div class="signature-pad-container">
    <canvas class="signature-pad-canvas"></canvas>
    <div class="signature-pad-guide"></div>
  </div>
</div>`}
    tailwind={`<!-- Small -->
<div class="flex flex-col mb-4">
  <div class="relative overflow-hidden border-2 border-base-300 rounded-box bg-base-100">
    <canvas class="block w-full h-[150px]" style="touch-action: none; cursor: crosshair;"></canvas>
  </div>
</div>

<!-- Default -->
<div class="flex flex-col mb-4">
  <div class="relative overflow-hidden border-2 border-base-300 rounded-box bg-base-100">
    <canvas class="block w-full h-[200px]" style="touch-action: none; cursor: crosshair;"></canvas>
  </div>
</div>

<!-- Large -->
<div class="flex flex-col">
  <div class="relative overflow-hidden border-2 border-base-300 rounded-box bg-base-100">
    <canvas class="block w-full h-[300px]" style="touch-action: none; cursor: crosshair;"></canvas>
  </div>
</div>`}
    js={`// No JavaScript required for sizing`}
  />

  <CodePreview
    title="States"
    semantic={`<!-- Error -->
<div class="signature-pad signature-pad-error mb-4">
  <label class="signature-pad-label">Signature</label>
  <div class="signature-pad-container">
    <canvas class="signature-pad-canvas"></canvas>
    <div class="signature-pad-guide"></div>
    <div class="signature-pad-placeholder">
      <span>Sign here</span>
    </div>
  </div>
  <span class="signature-pad-helper signature-pad-helper-error">Signature is required</span>
</div>

<!-- Disabled -->
<div class="signature-pad signature-pad-disabled mb-4">
  <label class="signature-pad-label">Signature (Disabled)</label>
  <div class="signature-pad-container">
    <canvas class="signature-pad-canvas"></canvas>
  </div>
</div>

<!-- Readonly (show captured signature) -->
<div class="signature-pad signature-pad-readonly">
  <label class="signature-pad-label">Captured Signature</label>
  <div class="signature-pad-container">
    <canvas class="signature-pad-canvas"></canvas>
  </div>
</div>`}
    tailwind={`<!-- Error -->
<div class="flex flex-col mb-4">
  <label class="block text-sm font-medium text-base-content mb-1">Signature</label>
  <div class="relative overflow-hidden border-2 border-error rounded-box bg-base-100">
    <canvas class="block w-full h-[200px]" style="touch-action: none; cursor: crosshair;"></canvas>
    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-sm text-base-content/30 pointer-events-none">Sign here</div>
  </div>
  <span class="text-xs mt-1 text-error">Signature is required</span>
</div>

<!-- Disabled -->
<div class="flex flex-col mb-4 opacity-60">
  <label class="block text-sm font-medium text-base-content mb-1">Signature (Disabled)</label>
  <div class="relative overflow-hidden border-2 border-base-300 rounded-box bg-base-200">
    <canvas class="block w-full h-[200px] cursor-not-allowed pointer-events-none"></canvas>
  </div>
</div>

<!-- Readonly -->
<div class="flex flex-col">
  <label class="block text-sm font-medium text-base-content mb-1">Captured Signature</label>
  <div class="relative overflow-hidden border-2 border-base-300 rounded-box bg-base-100">
    <canvas class="block w-full h-[200px] cursor-default pointer-events-none"></canvas>
  </div>
</div>`}
    js={`// Error: wrapper.classList.add('signature-pad-error');
// Clear: ctx.clearRect(0, 0, canvas.width, canvas.height);
// Save: canvas.toDataURL('image/png');`}
  />

  <div class="overflow-x-auto mt-8">
    <table class="table">
      <thead><tr><th>Class</th><th>Description</th></tr></thead>
      <tbody>
        <tr><td><code>.signature-pad</code></td><td>Container (flex column)</td></tr>
        <tr><td><code>.signature-pad-container</code></td><td>Canvas wrapper with border</td></tr>
        <tr><td><code>.signature-pad-canvas</code></td><td>Drawing canvas (200px default)</td></tr>
        <tr><td><code>.signature-pad-guide</code></td><td>Signature guide line with "x" marker</td></tr>
        <tr><td><code>.signature-pad-placeholder</code></td><td>Centered placeholder text/icon</td></tr>
        <tr><td><code>.signature-pad-signed</code></td><td>Hides placeholder when signed</td></tr>
        <tr><td><code>.signature-pad-actions</code></td><td>Action buttons row</td></tr>
        <tr><td><code>.signature-pad-btn</code></td><td>Action button</td></tr>
        <tr><td><code>.signature-pad-btn-primary</code></td><td>Primary action button</td></tr>
        <tr><td><code>.signature-pad-sm</code></td><td>Small canvas (150px)</td></tr>
        <tr><td><code>.signature-pad-lg</code></td><td>Large canvas (300px)</td></tr>
        <tr><td><code>.signature-pad-error</code></td><td>Error state (red border)</td></tr>
        <tr><td><code>.signature-pad-disabled</code></td><td>Disabled state</td></tr>
        <tr><td><code>.signature-pad-readonly</code></td><td>Read-only (no interaction)</td></tr>
        <tr><td><code>.signature-pad-label</code></td><td>Field label</td></tr>
        <tr><td><code>.signature-pad-helper</code></td><td>Helper text</td></tr>
        <tr><td><code>.signature-pad-helper-error</code></td><td>Error helper text</td></tr>
        <tr><td><code>.signature-pad.glass</code></td><td>Glass morphism variant</td></tr>
      </tbody>
    </table>
  </div>
</DocsLayout>
