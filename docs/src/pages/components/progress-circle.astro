---
import DocsLayout from '../../layouts/DocsLayout.astro';
import CodePreview from '../../components/CodePreview.astro';
---

<DocsLayout title="Progress Circle">
  <p class="text-base-content/70 mb-6">Circular SVG progress indicators with sizes, colors, indeterminate spinner, and semi-circle variant.</p>

  <CodePreview
    title="Basic Progress Circle"
    semantic={`<div class="progress-circle">
  <svg class="progress-circle-svg" viewBox="0 0 120 120">
    <circle class="progress-circle-bg" cx="60" cy="60" r="54" />
    <circle class="progress-circle-fill" cx="60" cy="60" r="54"
      stroke-dasharray="339.292" stroke-dashoffset="101.788"
      style="--circumference: 339.292" />
  </svg>
  <div class="progress-circle-content">
    <span class="progress-circle-value">70%</span>
    <span class="progress-circle-label">Complete</span>
  </div>
</div>`}
    tailwind={`<div class="relative inline-flex items-center justify-center" style="width: 120px; height: 120px">
  <svg class="w-full h-full -rotate-90" viewBox="0 0 120 120">
    <circle cx="60" cy="60" r="54" fill="none" stroke-width="8" class="stroke-base-200" />
    <circle cx="60" cy="60" r="54" fill="none" stroke-width="8"
      class="stroke-primary" stroke-linecap="round"
      stroke-dasharray="339.292" stroke-dashoffset="101.788" />
  </svg>
  <div class="absolute flex flex-col items-center justify-center text-center">
    <span class="text-[1.75rem] font-bold leading-none tabular-nums">70%</span>
    <span class="text-xs text-base-content/60 mt-0.5">Complete</span>
  </div>
</div>`}
    js={`// Calculate stroke-dasharray and stroke-dashoffset:
// const radius = 54;
// const circumference = 2 * Math.PI * radius; // 339.292
// const offset = circumference * (1 - percent / 100);
// circle.style.strokeDasharray = circumference;
// circle.style.strokeDashoffset = offset;`}
  />

  <CodePreview
    title="Sizes"
    semantic={`<div class="flex items-center gap-6 flex-wrap">
  <div class="progress-circle progress-circle-xs">
    <svg class="progress-circle-svg" viewBox="0 0 48 48">
      <circle class="progress-circle-bg" cx="24" cy="24" r="20" />
      <circle class="progress-circle-fill" cx="24" cy="24" r="20"
        stroke-dasharray="125.664" stroke-dashoffset="31.416" />
    </svg>
    <div class="progress-circle-content">
      <span class="progress-circle-value">75</span>
    </div>
  </div>
  <div class="progress-circle progress-circle-sm">
    <svg class="progress-circle-svg" viewBox="0 0 80 80">
      <circle class="progress-circle-bg" cx="40" cy="40" r="34" />
      <circle class="progress-circle-fill" cx="40" cy="40" r="34"
        stroke-dasharray="213.628" stroke-dashoffset="53.407" />
    </svg>
    <div class="progress-circle-content">
      <span class="progress-circle-value">75%</span>
      <span class="progress-circle-label">Done</span>
    </div>
  </div>
  <div class="progress-circle">
    <svg class="progress-circle-svg" viewBox="0 0 120 120">
      <circle class="progress-circle-bg" cx="60" cy="60" r="54" />
      <circle class="progress-circle-fill" cx="60" cy="60" r="54"
        stroke-dasharray="339.292" stroke-dashoffset="84.823" />
    </svg>
    <div class="progress-circle-content">
      <span class="progress-circle-value">75%</span>
      <span class="progress-circle-label">Complete</span>
    </div>
  </div>
  <div class="progress-circle progress-circle-lg">
    <svg class="progress-circle-svg" viewBox="0 0 160 160">
      <circle class="progress-circle-bg" cx="80" cy="80" r="72" />
      <circle class="progress-circle-fill" cx="80" cy="80" r="72"
        stroke-dasharray="452.389" stroke-dashoffset="113.097" />
    </svg>
    <div class="progress-circle-content">
      <span class="progress-circle-value">75%</span>
      <span class="progress-circle-label">Complete</span>
    </div>
  </div>
</div>`}
    tailwind={`<!-- xs: 48px, sm: 80px, default: 120px, lg: 160px, xl: 200px -->`}
    js={`// No JavaScript required for static display`}
  />

  <CodePreview
    title="Colors"
    semantic={`<div class="flex items-center gap-6 flex-wrap">
  <div class="progress-circle progress-circle-sm color-primary">
    <svg class="progress-circle-svg" viewBox="0 0 80 80">
      <circle class="progress-circle-bg" cx="40" cy="40" r="34" />
      <circle class="progress-circle-fill" cx="40" cy="40" r="34"
        stroke-dasharray="213.628" stroke-dashoffset="42.726" />
    </svg>
    <div class="progress-circle-content"><span class="progress-circle-value">80%</span></div>
  </div>
  <div class="progress-circle progress-circle-sm color-success">
    <svg class="progress-circle-svg" viewBox="0 0 80 80">
      <circle class="progress-circle-bg" cx="40" cy="40" r="34" />
      <circle class="progress-circle-fill" cx="40" cy="40" r="34"
        stroke-dasharray="213.628" stroke-dashoffset="42.726" />
    </svg>
    <div class="progress-circle-content"><span class="progress-circle-value">80%</span></div>
  </div>
  <div class="progress-circle progress-circle-sm color-warning">
    <svg class="progress-circle-svg" viewBox="0 0 80 80">
      <circle class="progress-circle-bg" cx="40" cy="40" r="34" />
      <circle class="progress-circle-fill" cx="40" cy="40" r="34"
        stroke-dasharray="213.628" stroke-dashoffset="106.814" />
    </svg>
    <div class="progress-circle-content"><span class="progress-circle-value">50%</span></div>
  </div>
  <div class="progress-circle progress-circle-sm color-error">
    <svg class="progress-circle-svg" viewBox="0 0 80 80">
      <circle class="progress-circle-bg" cx="40" cy="40" r="34" />
      <circle class="progress-circle-fill" cx="40" cy="40" r="34"
        stroke-dasharray="213.628" stroke-dashoffset="149.54" />
    </svg>
    <div class="progress-circle-content"><span class="progress-circle-value">30%</span></div>
  </div>
</div>`}
    tailwind={`<!-- Use color composition: .color-primary, .color-success, .color-warning, .color-error -->`}
    js={`// No JavaScript required for colors`}
  />

  <CodePreview
    title="Indeterminate Spinner"
    semantic={`<div class="progress-circle progress-circle-indeterminate progress-circle-sm">
  <svg class="progress-circle-svg" viewBox="0 0 80 80">
    <circle class="progress-circle-bg" cx="40" cy="40" r="34" />
    <circle class="progress-circle-fill" cx="40" cy="40" r="34" />
  </svg>
</div>`}
    tailwind={`<!-- SVG rotation + dash animation for indeterminate state -->`}
    js={`// No JavaScript required - CSS animation handles the spinning`}
  />

  <div class="overflow-x-auto mt-8">
    <table class="table">
      <thead><tr><th>Class</th><th>Description</th></tr></thead>
      <tbody>
        <tr><td><code>.progress-circle</code></td><td>Base container (120px)</td></tr>
        <tr><td><code>.progress-circle-svg</code></td><td>SVG element (rotated -90deg)</td></tr>
        <tr><td><code>.progress-circle-bg</code></td><td>Background circle track</td></tr>
        <tr><td><code>.progress-circle-fill</code></td><td>Foreground fill arc</td></tr>
        <tr><td><code>.progress-circle-content</code></td><td>Center content overlay</td></tr>
        <tr><td><code>.progress-circle-value</code></td><td>Large percentage text</td></tr>
        <tr><td><code>.progress-circle-label</code></td><td>Small label under value</td></tr>
        <tr><td><code>.progress-circle-icon</code></td><td>Icon in center (32px)</td></tr>
        <tr><td><code>.progress-circle-xs</code></td><td>48px size</td></tr>
        <tr><td><code>.progress-circle-sm</code></td><td>80px size</td></tr>
        <tr><td><code>.progress-circle-lg</code></td><td>160px size</td></tr>
        <tr><td><code>.progress-circle-xl</code></td><td>200px size</td></tr>
        <tr><td><code>.progress-circle-thin</code></td><td>4px stroke</td></tr>
        <tr><td><code>.progress-circle-thick</code></td><td>12px stroke</td></tr>
        <tr><td><code>.progress-circle-animated</code></td><td>Animate fill from 0</td></tr>
        <tr><td><code>.progress-circle-indeterminate</code></td><td>Spinner animation</td></tr>
        <tr><td><code>.progress-circle-semi</code></td><td>Half-circle variant</td></tr>
        <tr><td><code>.progress-circle-gradient</code></td><td>Use SVG gradient stroke</td></tr>
        <tr><td><code>.progress-circle.glass</code></td><td>Glass morphism variant</td></tr>
      </tbody>
    </table>
  </div>
</DocsLayout>
