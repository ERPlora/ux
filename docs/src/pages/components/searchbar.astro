---
import DocsLayout from '../../layouts/DocsLayout.astro';
import CodePreview from '../../components/CodePreview.astro';
---

<DocsLayout title="Searchbar">
  <p class="text-base-content/70 mb-6">Search input with icon, clear button, iOS cancel animation, results dropdown, and recent searches.</p>

  <CodePreview
    title="Basic Searchbar"
    semantic={`<div class="searchbar searchbar-has-value">
  <div class="searchbar-container">
    <span class="searchbar-icon"><svg xmlns="http://www.w3.org/2000/svg" class="size-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg></span>
    <input class="searchbar-input" type="search" placeholder="Search..." value="components" />
    <button class="searchbar-clear"><svg xmlns="http://www.w3.org/2000/svg" class="size-3" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><path d="M18 6 6 18M6 6l12 12"/></svg></button>
  </div>
</div>`}
    tailwind={`<div class="relative flex items-center w-full p-2">
  <div class="flex items-center flex-1 px-3 bg-base-200 rounded-field" style="min-height:44px">
    <svg class="size-5 text-base-content/40 shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
    <input class="flex-1 h-11 px-2 bg-transparent border-none outline-none" type="search" placeholder="Search..." />
    <button class="flex items-center justify-center size-5 rounded-full bg-base-content/40 text-white">
      <svg class="size-3" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><path d="M18 6 6 18M6 6l12 12"/></svg>
    </button>
  </div>
</div>`}
    js={`// Show clear button: add .searchbar-has-value when input has text
// Clear: input.value = ''; remove .searchbar-has-value
// Focus: add .searchbar-focused on container`}
  />

  <CodePreview
    title="With Cancel & Results"
    semantic={`<div class="searchbar searchbar-focused searchbar-has-value">
  <div class="searchbar-container">
    <span class="searchbar-icon"><svg xmlns="http://www.w3.org/2000/svg" class="size-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg></span>
    <input class="searchbar-input" type="search" value="button" />
    <button class="searchbar-clear"><svg xmlns="http://www.w3.org/2000/svg" class="size-3" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><path d="M18 6 6 18M6 6l12 12"/></svg></button>
  </div>
  <button class="searchbar-cancel">Cancel</button>
  <div class="searchbar-results">
    <div class="searchbar-result">
      <span class="searchbar-result-icon"><svg xmlns="http://www.w3.org/2000/svg" class="size-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/></svg></span>
      <div class="searchbar-result-content">
        <div class="searchbar-result-title"><span class="searchbar-highlight">Button</span> Component</div>
        <div class="searchbar-result-subtitle">Primary, outline, and glass variants</div>
      </div>
    </div>
    <div class="searchbar-result">
      <span class="searchbar-result-icon"><svg xmlns="http://www.w3.org/2000/svg" class="size-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/></svg></span>
      <div class="searchbar-result-content">
        <div class="searchbar-result-title"><span class="searchbar-highlight">Button</span> Group</div>
        <div class="searchbar-result-subtitle">Group of related buttons</div>
      </div>
    </div>
  </div>
</div>`}
    tailwind={`<!-- Cancel slides in on focus via max-width transition
     Results: absolute dropdown below search container -->`}
    js={`// Cancel: blur input, clear value, remove .searchbar-focused
// Result click: handle selection, close results`}
  />

  <CodePreview
    title="Variants"
    semantic={`<!-- Rounded -->
<div class="searchbar searchbar-rounded mb-4">
  <div class="searchbar-container">
    <span class="searchbar-icon"><svg xmlns="http://www.w3.org/2000/svg" class="size-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg></span>
    <input class="searchbar-input" type="search" placeholder="Rounded search..." />
  </div>
</div>

<!-- Outline -->
<div class="searchbar searchbar-outline mb-4">
  <div class="searchbar-container">
    <span class="searchbar-icon"><svg xmlns="http://www.w3.org/2000/svg" class="size-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg></span>
    <input class="searchbar-input" type="search" placeholder="Outline search..." />
  </div>
</div>

<!-- Small -->
<div class="searchbar searchbar-sm">
  <div class="searchbar-container">
    <span class="searchbar-icon"><svg xmlns="http://www.w3.org/2000/svg" class="size-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg></span>
    <input class="searchbar-input" type="search" placeholder="Small search..." />
  </div>
</div>`}
    tailwind={`<!-- Rounded: border-radius 18px on container
     Outline: transparent bg, border instead
     Small: 32px height -->`}
    js={`// No JavaScript required for static variants`}
  />

  <div class="overflow-x-auto mt-8">
    <table class="table">
      <thead><tr><th>Class</th><th>Description</th></tr></thead>
      <tbody>
        <tr><td><code>.searchbar</code></td><td>Outer wrapper</td></tr>
        <tr><td><code>.searchbar-container</code></td><td>Input container</td></tr>
        <tr><td><code>.searchbar-icon</code></td><td>Search icon</td></tr>
        <tr><td><code>.searchbar-input</code></td><td>Text input</td></tr>
        <tr><td><code>.searchbar-clear</code></td><td>Clear button (X)</td></tr>
        <tr><td><code>.searchbar-cancel</code></td><td>Cancel button (iOS)</td></tr>
        <tr><td><code>.searchbar-focused</code></td><td>Focused state</td></tr>
        <tr><td><code>.searchbar-has-value</code></td><td>Has text (shows clear)</td></tr>
        <tr><td><code>.searchbar-results</code></td><td>Results dropdown</td></tr>
        <tr><td><code>.searchbar-result</code></td><td>Result item</td></tr>
        <tr><td><code>.searchbar-highlight</code></td><td>Match highlight</td></tr>
        <tr><td><code>.searchbar-no-results</code></td><td>No results message</td></tr>
        <tr><td><code>.searchbar-recent</code></td><td>Recent searches section</td></tr>
        <tr><td><code>.searchbar-rounded</code></td><td>Rounded variant</td></tr>
        <tr><td><code>.searchbar-outline</code></td><td>Outline variant</td></tr>
        <tr><td><code>.searchbar-filled</code></td><td>Filled variant</td></tr>
        <tr><td><code>.searchbar-sm</code></td><td>Small size</td></tr>
        <tr><td><code>.searchbar-lg</code></td><td>Large size</td></tr>
        <tr><td><code>.searchbar-disabled</code></td><td>Disabled state</td></tr>
        <tr><td><code>.searchbar.glass</code></td><td>Glass variant</td></tr>
      </tbody>
    </table>
  </div>
</DocsLayout>
