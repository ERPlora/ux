---
import DocsLayout from '../../layouts/DocsLayout.astro';
import CodePreview from '../../components/CodePreview.astro';
---

<DocsLayout title="Dropdown">
  <p class="text-base-content/70 mb-6">Dropdown menus with trigger, items, groups, submenus, and keyboard navigation support.</p>

  <CodePreview
    title="Basic Dropdown"
    semantic={`<div class="dropdown" data-state="open">
  <button class="btn dropdown-trigger">
    Options
    <span class="dropdown-caret">
      <svg xmlns="http://www.w3.org/2000/svg" class="size-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m6 9 6 6 6-6"/></svg>
    </span>
  </button>
  <div class="dropdown-menu">
    <button class="dropdown-item">
      <span class="dropdown-item-icon"><svg xmlns="http://www.w3.org/2000/svg" class="size-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg></span>
      <span class="dropdown-item-text">Edit</span>
      <span class="dropdown-item-shortcut">⌘E</span>
    </button>
    <button class="dropdown-item">
      <span class="dropdown-item-icon"><svg xmlns="http://www.w3.org/2000/svg" class="size-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg></span>
      <span class="dropdown-item-text">Duplicate</span>
      <span class="dropdown-item-shortcut">⌘D</span>
    </button>
    <div class="dropdown-divider"></div>
    <button class="dropdown-item dropdown-item-danger">
      <span class="dropdown-item-icon"><svg xmlns="http://www.w3.org/2000/svg" class="size-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg></span>
      <span class="dropdown-item-text">Delete</span>
      <span class="dropdown-item-shortcut">⌘⌫</span>
    </button>
  </div>
</div>`}
    tailwind={`<div class="relative inline-block">
  <button class="btn inline-flex items-center gap-1">
    Options
    <svg class="size-4 opacity-60" ...>▼</svg>
  </button>
  <div class="absolute mt-1 min-w-[180px] max-w-[320px] max-h-[320px] overflow-y-auto p-1 bg-base-100 border border-base-300 rounded-box shadow-lg z-100">
    <button class="flex items-center gap-2 w-full text-left min-h-[44px] px-3 text-[0.9375rem] rounded-field hover:bg-base-200">
      <svg class="size-5 opacity-70" ...></svg>
      <span class="flex-1">Edit</span>
      <span class="text-xs text-base-content/40 ml-auto pl-4">⌘E</span>
    </button>
    <!-- ... -->
  </div>
</div>`}
    js={`// Toggle dropdown:
// const dropdown = document.querySelector('.dropdown');
// dropdown.dataset.state = dropdown.dataset.state === 'open' ? 'closed' : 'open';
//
// Close on click outside:
// document.addEventListener('click', (e) => {
//   if (!dropdown.contains(e.target)) dropdown.dataset.state = 'closed';
// });`}
  />

  <CodePreview
    title="With Groups & Headers"
    semantic={`<div class="dropdown" data-state="open">
  <button class="btn dropdown-trigger">
    Account
    <span class="dropdown-caret"><svg xmlns="http://www.w3.org/2000/svg" class="size-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m6 9 6 6 6-6"/></svg></span>
  </button>
  <div class="dropdown-menu">
    <div class="dropdown-group">
      <div class="dropdown-header">Profile</div>
      <button class="dropdown-item">
        <span class="dropdown-item-text">Settings</span>
      </button>
      <button class="dropdown-item">
        <span class="dropdown-item-text">Billing</span>
        <span class="dropdown-item-badge">Pro</span>
      </button>
    </div>
    <div class="dropdown-group">
      <div class="dropdown-header">Team</div>
      <button class="dropdown-item dropdown-item-selected">
        <span class="dropdown-item-text">My Workspace</span>
        <span class="dropdown-item-check"><svg xmlns="http://www.w3.org/2000/svg" class="size-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg></span>
      </button>
      <button class="dropdown-item">
        <span class="dropdown-item-text">Shared Workspace</span>
        <span class="dropdown-item-check"><svg xmlns="http://www.w3.org/2000/svg" class="size-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg></span>
      </button>
    </div>
    <div class="dropdown-divider"></div>
    <button class="dropdown-item dropdown-item-danger">
      <span class="dropdown-item-text">Sign Out</span>
    </button>
  </div>
</div>`}
    tailwind={`<!-- Groups separated by border, headers as uppercase xs text -->`}
    js={`// Toggle selected state:
// item.classList.toggle('dropdown-item-selected');`}
  />

  <CodePreview
    title="Position Variants"
    semantic={`<div class="flex gap-4 flex-wrap">
  <!-- Right-aligned -->
  <div class="dropdown" data-state="open">
    <button class="btn dropdown-trigger">Right ↓</button>
    <div class="dropdown-menu dropdown-menu-right">
      <button class="dropdown-item"><span class="dropdown-item-text">Option A</span></button>
      <button class="dropdown-item"><span class="dropdown-item-text">Option B</span></button>
    </div>
  </div>
</div>`}
    tailwind={`<!-- dropdown-menu-top: opens above, dropdown-menu-right: aligns right
     dropdown-menu-center: centers, dropdown-menu-left: aligns left -->`}
    js={`// Position classes: dropdown-menu-top, dropdown-menu-right, dropdown-menu-center`}
  />

  <div class="overflow-x-auto mt-8">
    <table class="table">
      <thead><tr><th>Class</th><th>Description</th></tr></thead>
      <tbody>
        <tr><td><code>.dropdown</code></td><td>Container (relative)</td></tr>
        <tr><td><code>.dropdown-trigger</code></td><td>Trigger button</td></tr>
        <tr><td><code>.dropdown-caret</code></td><td>Chevron icon (rotates on open)</td></tr>
        <tr><td><code>.dropdown-menu</code></td><td>Floating menu panel</td></tr>
        <tr><td><code>.dropdown-menu-top</code></td><td>Opens above trigger</td></tr>
        <tr><td><code>.dropdown-menu-right</code></td><td>Right-aligned</td></tr>
        <tr><td><code>.dropdown-menu-center</code></td><td>Center-aligned</td></tr>
        <tr><td><code>.dropdown-menu-compact</code></td><td>Compact items (36px)</td></tr>
        <tr><td><code>.dropdown-menu-wide</code></td><td>Wider menu (240px min)</td></tr>
        <tr><td><code>.dropdown-menu-full</code></td><td>Full width</td></tr>
        <tr><td><code>.dropdown-item</code></td><td>Menu item</td></tr>
        <tr><td><code>.dropdown-item-icon</code></td><td>Item leading icon</td></tr>
        <tr><td><code>.dropdown-item-text</code></td><td>Item text (truncated)</td></tr>
        <tr><td><code>.dropdown-item-shortcut</code></td><td>Keyboard shortcut label</td></tr>
        <tr><td><code>.dropdown-item-badge</code></td><td>Item badge (pill)</td></tr>
        <tr><td><code>.dropdown-item-check</code></td><td>Check mark (shown when selected)</td></tr>
        <tr><td><code>.dropdown-item-danger</code></td><td>Red destructive item</td></tr>
        <tr><td><code>.dropdown-item-disabled</code></td><td>Disabled state</td></tr>
        <tr><td><code>.dropdown-item-selected</code></td><td>Selected state with check</td></tr>
        <tr><td><code>.dropdown-divider</code></td><td>Horizontal separator</td></tr>
        <tr><td><code>.dropdown-header</code></td><td>Section header text</td></tr>
        <tr><td><code>.dropdown-group</code></td><td>Group of items</td></tr>
        <tr><td><code>.dropdown-submenu</code></td><td>Nested submenu container</td></tr>
        <tr><td><code>.dropdown-mobile-full</code></td><td>Full-width on mobile</td></tr>
        <tr><td><code>.dropdown.glass</code></td><td>Glass morphism variant</td></tr>
      </tbody>
    </table>
  </div>
</DocsLayout>
