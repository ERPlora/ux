---
import DocsLayout from '../../layouts/DocsLayout.astro';
import CodePreview from '../../components/CodePreview.astro';
---

<DocsLayout title="DataTable">
  <p class="text-base-content/70 mb-6">Full-featured data table with header, toolbar, sorting, pagination, row selection, and expandable rows. Responsive card view on mobile.</p>

  <CodePreview
    title="Basic DataTable"
    semantic={`<div class="datatable datatable-bordered">
  <div class="datatable-header">
    <div>
      <h3 class="datatable-title">Users</h3>
      <p class="datatable-subtitle">Manage your team members</p>
    </div>
    <div class="datatable-actions">
      <button class="btn btn-sm color-primary">Add User</button>
    </div>
  </div>
  <div class="datatable-body">
    <table class="datatable-table">
      <thead class="datatable-thead">
        <tr>
          <th class="datatable-th datatable-th-sortable">Name</th>
          <th class="datatable-th datatable-th-sortable">Email</th>
          <th class="datatable-th">Role</th>
          <th class="datatable-th datatable-th-right">Status</th>
        </tr>
      </thead>
      <tbody class="datatable-tbody">
        <tr class="datatable-tr">
          <td class="datatable-td">John Doe</td>
          <td class="datatable-td">john@example.com</td>
          <td class="datatable-td">Admin</td>
          <td class="datatable-td datatable-td-right"><span class="badge color-success badge-sm">Active</span></td>
        </tr>
        <tr class="datatable-tr">
          <td class="datatable-td">Jane Smith</td>
          <td class="datatable-td">jane@example.com</td>
          <td class="datatable-td">Editor</td>
          <td class="datatable-td datatable-td-right"><span class="badge color-success badge-sm">Active</span></td>
        </tr>
        <tr class="datatable-tr">
          <td class="datatable-td">Bob Wilson</td>
          <td class="datatable-td">bob@example.com</td>
          <td class="datatable-td">Viewer</td>
          <td class="datatable-td datatable-td-right"><span class="badge color-warning badge-sm">Pending</span></td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="datatable-footer">
    <span class="datatable-info">Showing 1-3 of 3</span>
    <nav class="pagination pagination-sm">
      <button class="pagination-btn pagination-prev" disabled><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5 8.25 12l7.5-7.5" /></svg></button>
      <button class="pagination-btn pagination-active">1</button>
      <button class="pagination-btn pagination-next" disabled><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" /></svg></button>
    </nav>
  </div>
</div>`}
    tailwind={`<!-- DataTable is complex — use semantic classes for best DX.
     The structure is: datatable > header + toolbar + body(table) + footer -->`}
    js={`// Sorting
document.querySelectorAll('.datatable-th-sortable').forEach(th => {
  th.addEventListener('click', () => {
    // Toggle sorted class
    th.classList.toggle('datatable-th-sorted');
    // Your sort logic here
  });
});`}
    height="280px"
  />

  <CodePreview
    title="With Toolbar & Search"
    semantic={`<div class="datatable datatable-bordered">
  <div class="datatable-toolbar">
    <div class="datatable-toolbar-start">
      <input class="input input-sm" placeholder="Search..." style="width: 200px" />
    </div>
    <div class="datatable-toolbar-end">
      <button class="btn btn-sm btn-outline">Filter</button>
      <button class="btn btn-sm btn-outline">Export</button>
    </div>
  </div>
  <div class="datatable-body">
    <table class="datatable-table">
      <thead class="datatable-thead">
        <tr>
          <th class="datatable-th datatable-th-checkbox"><input type="checkbox" class="checkbox checkbox-sm" /></th>
          <th class="datatable-th datatable-th-sortable datatable-th-sorted">Name <span class="datatable-sort-icon">↑</span></th>
          <th class="datatable-th">Email</th>
          <th class="datatable-th datatable-th-actions">Actions</th>
        </tr>
      </thead>
      <tbody class="datatable-tbody">
        <tr class="datatable-tr">
          <td class="datatable-td datatable-td-checkbox"><input type="checkbox" class="checkbox checkbox-sm" /></td>
          <td class="datatable-td">Alice Brown</td>
          <td class="datatable-td">alice@example.com</td>
          <td class="datatable-td datatable-td-actions">
            <div class="datatable-row-actions">
              <button class="datatable-row-action"><svg class="size-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Z" /></svg></button>
              <button class="datatable-row-action datatable-row-action-danger"><svg class="size-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0" /></svg></button>
            </div>
          </td>
        </tr>
        <tr class="datatable-tr datatable-tr-selected">
          <td class="datatable-td datatable-td-checkbox"><input type="checkbox" class="checkbox checkbox-sm" checked /></td>
          <td class="datatable-td">Charlie Davis</td>
          <td class="datatable-td">charlie@example.com</td>
          <td class="datatable-td datatable-td-actions">
            <div class="datatable-row-actions">
              <button class="datatable-row-action"><svg class="size-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Z" /></svg></button>
              <button class="datatable-row-action datatable-row-action-danger"><svg class="size-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0" /></svg></button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="datatable-footer">
    <span class="datatable-info">1 selected</span>
    <div class="datatable-per-page">
      <span>Rows per page:</span>
      <select><option>10</option><option>25</option><option>50</option></select>
    </div>
  </div>
</div>`}
    tailwind={`<!-- DataTable is complex — use semantic classes -->`}
    js={`// Row selection
document.querySelectorAll('.datatable-td-checkbox input').forEach(cb => {
  cb.addEventListener('change', () => {
    cb.closest('.datatable-tr')?.classList.toggle('datatable-tr-selected', cb.checked);
  });
});`}
    height="280px"
  />

  <CodePreview
    title="Empty & Loading States"
    noFrame
    semantic={`<!-- Empty State -->
<div class="datatable datatable-bordered">
  <div class="datatable-empty">
    <svg class="datatable-empty-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5m6 4.125l2.25 2.25m0 0l2.25 2.25M12 13.875l2.25-2.25M12 13.875l-2.25 2.25M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z" /></svg>
    <h3 class="datatable-empty-title">No data found</h3>
    <p class="datatable-empty-text">Try adjusting your search or filters.</p>
  </div>
</div>

<!-- Loading State -->
<div class="datatable datatable-bordered is-loading" style="margin-top: 1rem;">
  <div class="datatable-loading">
    <span class="loading loading-spinner loading-md"></span>
  </div>
</div>`}
    tailwind={`<!-- Use empty/loading classes within the datatable container -->`}
    js={`// Toggle loading state
datatable.classList.add('is-loading');
datatable.classList.remove('is-loading');`}
  />

  <CodePreview
    title="View Toggle: Table / Cards"
    semantic={`<div class="datatable datatable-bordered">
  <div class="datatable-header">
    <div>
      <h3 class="datatable-title">Productos</h3>
      <p class="datatable-subtitle">12 productos encontrados</p>
    </div>
    <div class="datatable-actions">
      <!-- View toggle: table or cards -->
      <div class="datatable-view-toggle">
        <button class="datatable-view-btn datatable-view-btn-active" title="Table view">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 0 1 0 3.75H5.625a1.875 1.875 0 0 1 0-3.75Z" /></svg>
        </button>
        <button class="datatable-view-btn" title="Cards view">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25a2.25 2.25 0 0 1-2.25-2.25v-2.25Z" /></svg>
        </button>
      </div>
      <button class="btn btn-sm color-primary">Nuevo</button>
    </div>
  </div>
  <div class="datatable-toolbar">
    <div class="datatable-toolbar-start">
      <input class="input input-sm" placeholder="Buscar..." style="width: 200px" />
    </div>
    <div class="datatable-toolbar-end">
      <button class="datatable-export-btn">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3" /></svg>
        Export
      </button>
    </div>
  </div>
  <div class="datatable-body">
    <table class="datatable-table">
      <thead class="datatable-thead">
        <tr>
          <th class="datatable-th datatable-th-checkbox"><input type="checkbox" class="checkbox checkbox-sm" /></th>
          <th class="datatable-th datatable-th-sortable datatable-th-sorted">Nombre</th>
          <th class="datatable-th">SKU</th>
          <th class="datatable-th datatable-th-right">Precio</th>
          <th class="datatable-th datatable-th-center">Estado</th>
          <th class="datatable-th datatable-th-actions">Acciones</th>
        </tr>
      </thead>
      <tbody class="datatable-tbody">
        <tr class="datatable-tr">
          <td class="datatable-td datatable-td-checkbox"><input type="checkbox" class="checkbox checkbox-sm" /></td>
          <td class="datatable-td">Monitor ERPlora 27"</td>
          <td class="datatable-td">MON-2701</td>
          <td class="datatable-td datatable-td-right">€349.00</td>
          <td class="datatable-td datatable-td-center"><span class="badge color-success badge-sm">Activo</span></td>
          <td class="datatable-td datatable-td-actions">
            <div class="datatable-row-actions">
              <button class="datatable-row-action"><svg class="size-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Z" /></svg></button>
              <button class="datatable-row-action datatable-row-action-danger"><svg class="size-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0" /></svg></button>
            </div>
          </td>
        </tr>
        <tr class="datatable-tr">
          <td class="datatable-td datatable-td-checkbox"><input type="checkbox" class="checkbox checkbox-sm" /></td>
          <td class="datatable-td">Teclado ERPlora Pro</td>
          <td class="datatable-td">KBD-0042</td>
          <td class="datatable-td datatable-td-right">€89.00</td>
          <td class="datatable-td datatable-td-center"><span class="badge color-warning badge-sm">Bajo stock</span></td>
          <td class="datatable-td datatable-td-actions">
            <div class="datatable-row-actions">
              <button class="datatable-row-action"><svg class="size-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Z" /></svg></button>
              <button class="datatable-row-action datatable-row-action-danger"><svg class="size-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0" /></svg></button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="datatable-footer">
    <span class="datatable-info">Mostrando 1-2 de 12</span>
    <nav class="pagination pagination-sm">
      <button class="pagination-btn pagination-prev" disabled><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5 8.25 12l7.5-7.5" /></svg></button>
      <button class="pagination-btn pagination-active">1</button>
      <button class="pagination-btn">2</button>
      <button class="pagination-btn">3</button>
      <button class="pagination-btn pagination-next"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" /></svg></button>
    </nav>
  </div>
</div>`}
    tailwind={`<!-- DataTable is complex — use semantic classes for best DX -->`}
    js={`// Toggle between table and cards view
const toggle = document.querySelector('.datatable-view-toggle');
toggle.addEventListener('click', (e) => {
  const btn = e.target.closest('.datatable-view-btn');
  if (!btn) return;
  toggle.querySelectorAll('.datatable-view-btn').forEach(b =>
    b.classList.remove('datatable-view-btn-active'));
  btn.classList.add('datatable-view-btn-active');
  const table = btn.closest('.datatable');
  // Toggle cards class
  if (btn.title === 'Cards view') {
    table.classList.add('datatable-cards');
  } else {
    table.classList.remove('datatable-cards');
  }
});`}
    height="380px"
  />

  <CodePreview
    title="Bulk Selection with Actions"
    semantic={`<div class="datatable datatable-bordered">
  <!-- Bulk toolbar (appears when items selected) -->
  <div class="datatable-bulk">
    <div class="datatable-bulk-info">
      <span class="datatable-bulk-count">3</span>
      <span>elementos seleccionados</span>
    </div>
    <div class="datatable-bulk-actions">
      <button class="datatable-bulk-btn">
        <svg class="size-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Z" /></svg>
        Editar
      </button>
      <button class="datatable-bulk-btn datatable-bulk-btn-danger">
        <svg class="size-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0" /></svg>
        Eliminar
      </button>
      <button class="datatable-bulk-clear" title="Deseleccionar">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" /></svg>
      </button>
    </div>
  </div>
  <div class="datatable-body" style="max-height: 200px">
    <table class="datatable-table">
      <thead class="datatable-thead">
        <tr>
          <th class="datatable-th datatable-th-checkbox"><input type="checkbox" class="checkbox checkbox-sm" checked /></th>
          <th class="datatable-th">Nombre</th>
          <th class="datatable-th">Email</th>
          <th class="datatable-th datatable-th-right">Rol</th>
        </tr>
      </thead>
      <tbody class="datatable-tbody">
        <tr class="datatable-tr datatable-tr-selected">
          <td class="datatable-td datatable-td-checkbox"><input type="checkbox" class="checkbox checkbox-sm" checked /></td>
          <td class="datatable-td">María García</td>
          <td class="datatable-td">maria@erplora.com</td>
          <td class="datatable-td datatable-td-right">Admin</td>
        </tr>
        <tr class="datatable-tr datatable-tr-selected">
          <td class="datatable-td datatable-td-checkbox"><input type="checkbox" class="checkbox checkbox-sm" checked /></td>
          <td class="datatable-td">Pedro López</td>
          <td class="datatable-td">pedro@erplora.com</td>
          <td class="datatable-td datatable-td-right">Editor</td>
        </tr>
        <tr class="datatable-tr datatable-tr-selected">
          <td class="datatable-td datatable-td-checkbox"><input type="checkbox" class="checkbox checkbox-sm" checked /></td>
          <td class="datatable-td">Ana Martín</td>
          <td class="datatable-td">ana@erplora.com</td>
          <td class="datatable-td datatable-td-right">Viewer</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>`}
    tailwind={`<!-- Use datatable-bulk bar + datatable-bulk-btn for bulk actions -->`}
    js={`// Show/hide bulk toolbar based on selection count
const selected = document.querySelectorAll('.datatable-tr-selected').length;
if (selected > 0) {
  bulkBar.style.display = 'flex';
  bulkCount.textContent = selected;
} else {
  bulkBar.style.display = 'none';
}`}
    height="280px"
  />

  <CodePreview
    title="Cards View (Grid)"
    semantic={`<!-- Add datatable-cards to show grid of cards instead of table rows -->
<div class="datatable datatable-bordered datatable-cards">
  <div class="datatable-header">
    <div><h3 class="datatable-title">Empleados</h3></div>
    <div class="datatable-actions">
      <div class="datatable-view-toggle">
        <button class="datatable-view-btn" title="Table"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 0 1 0 3.75H5.625a1.875 1.875 0 0 1 0-3.75Z" /></svg></button>
        <button class="datatable-view-btn datatable-view-btn-active" title="Cards"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25a2.25 2.25 0 0 1-2.25-2.25v-2.25Z" /></svg></button>
      </div>
    </div>
  </div>
  <div class="datatable-body">
    <table class="datatable-table">
      <thead class="datatable-thead">
        <tr>
          <th class="datatable-th datatable-th-checkbox"><input type="checkbox" class="checkbox checkbox-sm" /></th>
          <th class="datatable-th">Nombre</th>
          <th class="datatable-th">Departamento</th>
          <th class="datatable-th">Email</th>
          <th class="datatable-th">Estado</th>
        </tr>
      </thead>
      <tbody class="datatable-tbody">
        <tr class="datatable-tr">
          <td class="datatable-td datatable-td-checkbox"><input type="checkbox" class="checkbox checkbox-sm" /></td>
          <td class="datatable-td" data-label="Nombre">María García</td>
          <td class="datatable-td" data-label="Departamento">Ventas</td>
          <td class="datatable-td" data-label="Email">maria@erplora.com</td>
          <td class="datatable-td" data-label="Estado"><span class="badge color-success badge-sm">Activo</span></td>
        </tr>
        <tr class="datatable-tr datatable-tr-selected">
          <td class="datatable-td datatable-td-checkbox"><input type="checkbox" class="checkbox checkbox-sm" checked /></td>
          <td class="datatable-td" data-label="Nombre">Pedro López</td>
          <td class="datatable-td" data-label="Departamento">IT</td>
          <td class="datatable-td" data-label="Email">pedro@erplora.com</td>
          <td class="datatable-td" data-label="Estado"><span class="badge color-warning badge-sm">Ausente</span></td>
        </tr>
        <tr class="datatable-tr">
          <td class="datatable-td datatable-td-checkbox"><input type="checkbox" class="checkbox checkbox-sm" /></td>
          <td class="datatable-td" data-label="Nombre">Ana Martín</td>
          <td class="datatable-td" data-label="Departamento">RRHH</td>
          <td class="datatable-td" data-label="Email">ana@erplora.com</td>
          <td class="datatable-td" data-label="Estado"><span class="badge color-success badge-sm">Activo</span></td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="datatable-footer">
    <span class="datatable-info">Mostrando 1-3 de 3</span>
  </div>
</div>`}
    tailwind={`<!-- Cards view turns table rows into a grid of cards with data-label attributes -->`}
    js={`// Toggle cards view
datatable.classList.toggle('datatable-cards');`}
    height="400px"
  />

  <CodePreview
    title="Detail Panel (Side Panel)"
    semantic={`<!-- Wrap datatable in datatable-with-panel for side detail view -->
<div class="datatable-with-panel" style="border: 1px solid var(--color-base-300); border-radius: 1rem; overflow: hidden;">
  <div class="datatable">
    <div class="datatable-header">
      <div><h3 class="datatable-title">Pedidos</h3></div>
    </div>
    <div class="datatable-body" style="max-height: 240px">
      <table class="datatable-table">
        <thead class="datatable-thead">
          <tr>
            <th class="datatable-th">#</th>
            <th class="datatable-th">Cliente</th>
            <th class="datatable-th datatable-th-right">Total</th>
          </tr>
        </thead>
        <tbody class="datatable-tbody">
          <tr class="datatable-tr datatable-tr-selected datatable-tr-clickable">
            <td class="datatable-td">ORD-001</td>
            <td class="datatable-td">ERPlora S.L.</td>
            <td class="datatable-td datatable-td-right">€1,250.00</td>
          </tr>
          <tr class="datatable-tr datatable-tr-clickable">
            <td class="datatable-td">ORD-002</td>
            <td class="datatable-td">Tech Solutions</td>
            <td class="datatable-td datatable-td-right">€890.50</td>
          </tr>
          <tr class="datatable-tr datatable-tr-clickable">
            <td class="datatable-td">ORD-003</td>
            <td class="datatable-td">Digital Corp</td>
            <td class="datatable-td datatable-td-right">€2,100.00</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <!-- Detail panel on the right -->
  <div class="datatable-panel">
    <div class="datatable-panel-header">
      <span class="datatable-panel-title">ORD-001</span>
      <button class="datatable-panel-close">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" /></svg>
      </button>
    </div>
    <div class="datatable-panel-body">
      <div class="datatable-detail-list">
        <div class="datatable-detail-item">
          <span class="datatable-detail-label">Cliente</span>
          <span class="datatable-detail-value">ERPlora S.L.</span>
        </div>
        <div class="datatable-detail-item">
          <span class="datatable-detail-label">Fecha</span>
          <span class="datatable-detail-value">2025-01-15</span>
        </div>
        <div class="datatable-detail-item">
          <span class="datatable-detail-label">Total</span>
          <span class="datatable-detail-value" style="color: var(--color-success); font-weight: 600;">€1,250.00</span>
        </div>
        <div class="datatable-detail-item">
          <span class="datatable-detail-label">Estado</span>
          <span class="datatable-detail-value"><span class="badge color-success badge-sm">Completado</span></span>
        </div>
      </div>
    </div>
    <div class="datatable-panel-footer">
      <button class="btn btn-sm btn-outline">Editar</button>
      <button class="btn btn-sm color-primary">Ver detalle</button>
    </div>
  </div>
</div>`}
    tailwind={`<!-- Use datatable-with-panel wrapper + datatable-panel for the side detail view -->`}
    js={`// Open detail panel when clicking a row
rows.forEach(row => {
  row.addEventListener('click', () => {
    // Highlight selected row
    rows.forEach(r => r.classList.remove('datatable-tr-selected'));
    row.classList.add('datatable-tr-selected');
    // Show panel
    panel.classList.remove('datatable-panel-collapsed');
    // Update panel content...
  });
});
// Close panel
closeBtn.addEventListener('click', () => {
  panel.classList.add('datatable-panel-collapsed');
});`}
    height="340px"
  />

  <CodePreview
    title="Responsive (Card View)"
    noFrame
    semantic={`<!-- Add datatable-responsive for mobile card view -->
<div class="datatable datatable-bordered datatable-responsive">
  <div class="datatable-body">
    <table class="datatable-table">
      <thead class="datatable-thead">
        <tr>
          <th class="datatable-th">Nombre</th>
          <th class="datatable-th">Email</th>
          <th class="datatable-th">Estado</th>
        </tr>
      </thead>
      <tbody class="datatable-tbody">
        <tr class="datatable-tr">
          <td class="datatable-td" data-label="Nombre">María García</td>
          <td class="datatable-td" data-label="Email">maria@erplora.com</td>
          <td class="datatable-td" data-label="Estado">Activo</td>
        </tr>
        <tr class="datatable-tr">
          <td class="datatable-td" data-label="Nombre">Pedro López</td>
          <td class="datatable-td" data-label="Email">pedro@erplora.com</td>
          <td class="datatable-td" data-label="Estado">Pendiente</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<!-- On mobile (< 768px): each row becomes a card with data-label as field names -->`}
    tailwind={`<!-- Responsive card view requires data-label attributes on <td> elements -->`}
    js={`// No JavaScript required for responsive view — pure CSS`}
  />

  <!-- Reference Table -->
  <div class="mt-10 space-y-6">
    <h2 class="text-xl font-bold">Classes Reference</h2>
    <div class="overflow-x-auto">
      <table class="w-full text-sm border border-base-300 rounded-lg overflow-hidden">
        <thead class="bg-base-200">
          <tr>
            <th class="text-left px-4 py-2 font-medium">Class</th>
            <th class="text-left px-4 py-2 font-medium">Description</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-base-300">
          <tr><td class="px-4 py-2 font-mono text-xs">.datatable</td><td class="px-4 py-2">Container</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.datatable-header</td><td class="px-4 py-2">Title + actions bar</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.datatable-title</td><td class="px-4 py-2">Table title</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.datatable-toolbar</td><td class="px-4 py-2">Search + filter bar</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.datatable-body</td><td class="px-4 py-2">Scrollable table area</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.datatable-table</td><td class="px-4 py-2">The &lt;table&gt; element</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.datatable-thead</td><td class="px-4 py-2">Sticky header</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.datatable-th</td><td class="px-4 py-2">Header cell</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.datatable-th-sortable</td><td class="px-4 py-2">Sortable column</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.datatable-th-sorted</td><td class="px-4 py-2">Currently sorted</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.datatable-tr</td><td class="px-4 py-2">Table row</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.datatable-tr-selected</td><td class="px-4 py-2">Selected row</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.datatable-td</td><td class="px-4 py-2">Table cell</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.datatable-row-actions</td><td class="px-4 py-2">Actions container</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.datatable-row-action</td><td class="px-4 py-2">Action button</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.datatable-footer</td><td class="px-4 py-2">Pagination + info</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.datatable-empty</td><td class="px-4 py-2">Empty state</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.datatable-loading</td><td class="px-4 py-2">Loading state</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.datatable-bulk</td><td class="px-4 py-2">Bulk selection bar</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.datatable-responsive</td><td class="px-4 py-2">Mobile card view</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.datatable-bordered</td><td class="px-4 py-2">Bordered variant</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.datatable-striped</td><td class="px-4 py-2">Striped rows</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.datatable-compact</td><td class="px-4 py-2">Compact size</td></tr>
        </tbody>
      </table>
    </div>
  </div>
</DocsLayout>
