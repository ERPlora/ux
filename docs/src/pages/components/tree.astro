---
import DocsLayout from '../../layouts/DocsLayout.astro';
import CodePreview from '../../components/CodePreview.astro';
---

<DocsLayout title="Tree">
  <p class="text-base-content/70 mb-6">Hierarchical tree view with expand/collapse, checkboxes, drag-and-drop, icons, and connector lines.</p>

  <CodePreview
    title="Basic Tree"
    semantic={`<div class="tree">
  <ul class="tree-list">
    <li class="tree-node">
      <div class="tree-item">
        <span class="tree-toggle tree-toggle-expanded"><svg viewBox="0 0 10 10" class="size-3.5"><path d="M3 1l4 4-4 4" fill="none" stroke="currentColor" stroke-width="1.5"/></svg></span>
        <span class="tree-icon tree-icon-folder"><svg xmlns="http://www.w3.org/2000/svg" class="size-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/></svg></span>
        <span class="tree-label">src</span>
        <span class="tree-badge">4</span>
      </div>
      <ul class="tree-list tree-list-nested">
        <li class="tree-node">
          <div class="tree-item">
            <span class="tree-toggle tree-toggle-expanded"><svg viewBox="0 0 10 10" class="size-3.5"><path d="M3 1l4 4-4 4" fill="none" stroke="currentColor" stroke-width="1.5"/></svg></span>
            <span class="tree-icon tree-icon-folder"><svg xmlns="http://www.w3.org/2000/svg" class="size-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/></svg></span>
            <span class="tree-label">components</span>
          </div>
          <ul class="tree-list tree-list-nested">
            <li class="tree-node">
              <div class="tree-item tree-item-selected">
                <span class="tree-toggle tree-toggle-empty"><svg viewBox="0 0 10 10" class="size-3.5"><path d="M3 1l4 4-4 4" fill="none" stroke="currentColor" stroke-width="1.5"/></svg></span>
                <span class="tree-icon tree-icon-file"><svg xmlns="http://www.w3.org/2000/svg" class="size-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/></svg></span>
                <span class="tree-label">Button.tsx</span>
              </div>
            </li>
            <li class="tree-node">
              <div class="tree-item">
                <span class="tree-toggle tree-toggle-empty"><svg viewBox="0 0 10 10" class="size-3.5"><path d="M3 1l4 4-4 4" fill="none" stroke="currentColor" stroke-width="1.5"/></svg></span>
                <span class="tree-icon tree-icon-file"><svg xmlns="http://www.w3.org/2000/svg" class="size-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/></svg></span>
                <span class="tree-label">Card.tsx</span>
              </div>
            </li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</div>`}
    tailwind={`<div class="text-[0.9375rem] select-none">
  <ul class="list-none m-0 p-0">
    <li>
      <div class="flex items-center gap-1 px-2 py-1 rounded-field cursor-pointer hover:bg-base-200">
        <svg class="size-5 text-base-content/40 rotate-90">...</svg>
        <svg class="size-5 text-warning">...</svg>
        <span class="flex-1 truncate">src</span>
      </div>
      <ul class="list-none m-0 pl-4"><!-- nested items --></ul>
    </li>
  </ul>
</div>`}
    js={`// Toggle expand/collapse:
// toggle.addEventListener('click', () => {
//   toggle.classList.toggle('tree-toggle-expanded');
//   children.hidden = !children.hidden;
// });`}
  />

  <CodePreview
    title="With Checkboxes"
    semantic={`<div class="tree">
  <ul class="tree-list">
    <li class="tree-node">
      <div class="tree-item">
        <span class="tree-toggle tree-toggle-expanded"><svg viewBox="0 0 10 10" class="size-3.5"><path d="M3 1l4 4-4 4" fill="none" stroke="currentColor" stroke-width="1.5"/></svg></span>
        <span class="tree-checkbox tree-checkbox-indeterminate"></span>
        <span class="tree-label">Select all</span>
      </div>
      <ul class="tree-list tree-list-nested">
        <li class="tree-node">
          <div class="tree-item">
            <span class="tree-toggle tree-toggle-empty"><svg viewBox="0 0 10 10" class="size-3.5"><path d="M3 1l4 4-4 4" fill="none" stroke="currentColor" stroke-width="1.5"/></svg></span>
            <span class="tree-checkbox tree-checkbox-checked"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></span>
            <span class="tree-label">Option A</span>
          </div>
        </li>
        <li class="tree-node">
          <div class="tree-item">
            <span class="tree-toggle tree-toggle-empty"><svg viewBox="0 0 10 10" class="size-3.5"><path d="M3 1l4 4-4 4" fill="none" stroke="currentColor" stroke-width="1.5"/></svg></span>
            <span class="tree-checkbox"></span>
            <span class="tree-label">Option B</span>
          </div>
        </li>
      </ul>
    </li>
  </ul>
</div>`}
    tailwind={`<!-- Checkbox: 18px bordered square. Checked: primary bg with check svg.
     Indeterminate: primary bg with horizontal dash line -->`}
    js={`// Toggle checkbox: el.classList.toggle('tree-checkbox-checked');
// Update parent: set indeterminate if some children checked`}
  />

  <div class="overflow-x-auto mt-8">
    <table class="table">
      <thead><tr><th>Class</th><th>Description</th></tr></thead>
      <tbody>
        <tr><td><code>.tree</code></td><td>Base container</td></tr>
        <tr><td><code>.tree-list</code></td><td>List element</td></tr>
        <tr><td><code>.tree-list-nested</code></td><td>Indented child list</td></tr>
        <tr><td><code>.tree-node</code></td><td>Node container</td></tr>
        <tr><td><code>.tree-item</code></td><td>Clickable item row</td></tr>
        <tr><td><code>.tree-item-selected</code></td><td>Selected state</td></tr>
        <tr><td><code>.tree-toggle</code></td><td>Expand/collapse arrow</td></tr>
        <tr><td><code>.tree-toggle-expanded</code></td><td>Rotated (expanded)</td></tr>
        <tr><td><code>.tree-toggle-empty</code></td><td>Hidden (leaf node)</td></tr>
        <tr><td><code>.tree-checkbox</code></td><td>Selection checkbox</td></tr>
        <tr><td><code>.tree-checkbox-checked</code></td><td>Checked state</td></tr>
        <tr><td><code>.tree-checkbox-indeterminate</code></td><td>Partial selection</td></tr>
        <tr><td><code>.tree-icon</code></td><td>Node icon</td></tr>
        <tr><td><code>.tree-icon-folder</code></td><td>Folder icon (warning color)</td></tr>
        <tr><td><code>.tree-icon-file</code></td><td>File icon (muted)</td></tr>
        <tr><td><code>.tree-label</code></td><td>Node text (truncated)</td></tr>
        <tr><td><code>.tree-badge</code></td><td>Count badge</td></tr>
        <tr><td><code>.tree-actions</code></td><td>Hover actions</td></tr>
        <tr><td><code>.tree-action</code></td><td>Action button</td></tr>
        <tr><td><code>.tree-sm</code></td><td>Small size</td></tr>
        <tr><td><code>.tree-lg</code></td><td>Large size</td></tr>
        <tr><td><code>.tree-lines</code></td><td>Connector lines variant</td></tr>
        <tr><td><code>.tree-bordered</code></td><td>Bordered variant</td></tr>
        <tr><td><code>.tree.glass</code></td><td>Glass morphism variant</td></tr>
      </tbody>
    </table>
  </div>
</DocsLayout>
