---
import DocsLayout from '../../layouts/DocsLayout.astro';
import CodePreview from '../../components/CodePreview.astro';
---

<DocsLayout title="Stock Indicator">
  <p class="text-base-content/70 mb-6">Inline stock status indicators for POS product displays with colored dot, label, count, and multiple style variants.</p>

  <CodePreview
    title="Stock Status"
    noFrame
    semantic={`<div class="stock-indicator stock-indicator-in-stock">
  <span class="stock-indicator-dot"></span>
  <span class="stock-indicator-label">In Stock</span>
  <span class="stock-indicator-count">142</span>
</div>

<div class="stock-indicator stock-indicator-low-stock">
  <span class="stock-indicator-dot"></span>
  <span class="stock-indicator-label">Low Stock</span>
  <span class="stock-indicator-count">3</span>
</div>

<div class="stock-indicator stock-indicator-out-of-stock">
  <span class="stock-indicator-dot"></span>
  <span class="stock-indicator-label">Out of Stock</span>
  <span class="stock-indicator-count">0</span>
</div>

<div class="stock-indicator stock-indicator-pre-order">
  <span class="stock-indicator-dot"></span>
  <span class="stock-indicator-label">Pre-order</span>
</div>

<div class="stock-indicator stock-indicator-discontinued">
  <span class="stock-indicator-dot"></span>
  <span class="stock-indicator-label">Discontinued</span>
</div>`}
    tailwind={`<div class="inline-flex items-center gap-1.5 h-6">
  <span class="size-2 rounded-full bg-success"></span>
  <span class="text-xs font-medium text-success">In Stock</span>
  <span class="text-xs text-base-content/50">142</span>
</div>

<div class="inline-flex items-center gap-1.5 h-6">
  <span class="size-2 rounded-full bg-warning"></span>
  <span class="text-xs font-medium text-warning">Low Stock</span>
  <span class="text-xs text-base-content/50">3</span>
</div>

<div class="inline-flex items-center gap-1.5 h-6">
  <span class="size-2 rounded-full bg-error"></span>
  <span class="text-xs font-medium text-error">Out of Stock</span>
  <span class="text-xs text-base-content/50">0</span>
</div>

<div class="inline-flex items-center gap-1.5 h-6">
  <span class="size-2 rounded-full bg-info"></span>
  <span class="text-xs font-medium text-info">Pre-order</span>
</div>

<div class="inline-flex items-center gap-1.5 h-6">
  <span class="size-2 rounded-full bg-base-content/30"></span>
  <span class="text-xs font-medium text-base-content/50">Discontinued</span>
</div>`}
    js={`// Update stock indicator based on count
function updateStockIndicator(el, count) {
  el.classList.remove('stock-indicator-in-stock', 'stock-indicator-low-stock', 'stock-indicator-out-of-stock');
  if (count <= 0) el.classList.add('stock-indicator-out-of-stock');
  else if (count <= 5) el.classList.add('stock-indicator-low-stock');
  else el.classList.add('stock-indicator-in-stock');
  const countEl = el.querySelector('.stock-indicator-count');
  if (countEl) countEl.textContent = count;
}`}
  />

  <CodePreview
    title="Badge & Pill"
    noFrame
    semantic={`<!-- Badge style (with background) -->
<div class="stock-indicator stock-indicator-badge stock-indicator-in-stock">
  <span class="stock-indicator-dot"></span>
  <span class="stock-indicator-label">In Stock</span>
</div>

<div class="stock-indicator stock-indicator-badge stock-indicator-low-stock">
  <span class="stock-indicator-dot"></span>
  <span class="stock-indicator-label">Low Stock</span>
  <span class="stock-indicator-count">3</span>
</div>

<div class="stock-indicator stock-indicator-badge stock-indicator-out-of-stock">
  <span class="stock-indicator-dot"></span>
  <span class="stock-indicator-label">Out of Stock</span>
</div>

<div class="stock-indicator stock-indicator-badge stock-indicator-pre-order">
  <span class="stock-indicator-dot"></span>
  <span class="stock-indicator-label">Pre-order</span>
</div>

<!-- Pill style -->
<div class="stock-indicator stock-indicator-pill stock-indicator-in-stock">
  <span class="stock-indicator-dot"></span>
  <span class="stock-indicator-label">Available</span>
</div>

<div class="stock-indicator stock-indicator-pill stock-indicator-low-stock">
  <span class="stock-indicator-dot"></span>
  <span class="stock-indicator-label">Low</span>
  <span class="stock-indicator-count">5</span>
</div>

<div class="stock-indicator stock-indicator-pill stock-indicator-out-of-stock">
  <span class="stock-indicator-dot"></span>
  <span class="stock-indicator-label">Sold Out</span>
</div>`}
    tailwind={`<!-- Badge: adds tinted background -->
<div class="inline-flex items-center gap-1.5 h-6 px-2 py-0.5 rounded bg-success/10">
  <span class="size-2 rounded-full bg-success"></span>
  <span class="text-xs font-medium text-success">In Stock</span>
</div>

<div class="inline-flex items-center gap-1.5 h-6 px-2 py-0.5 rounded bg-warning/10">
  <span class="size-2 rounded-full bg-warning"></span>
  <span class="text-xs font-medium text-warning">Low Stock</span>
  <span class="text-xs text-warning/70">3</span>
</div>

<div class="inline-flex items-center gap-1.5 h-6 px-2 py-0.5 rounded bg-error/10">
  <span class="size-2 rounded-full bg-error"></span>
  <span class="text-xs font-medium text-error">Out of Stock</span>
</div>

<div class="inline-flex items-center gap-1.5 h-6 px-2 py-0.5 rounded bg-info/10">
  <span class="size-2 rounded-full bg-info"></span>
  <span class="text-xs font-medium text-info">Pre-order</span>
</div>

<!-- Pill: fully rounded -->
<div class="inline-flex items-center gap-1.5 h-6 px-2.5 py-0.5 rounded-full bg-success/10">
  <span class="size-2 rounded-full bg-success"></span>
  <span class="text-xs font-medium text-success">Available</span>
</div>

<div class="inline-flex items-center gap-1.5 h-6 px-2.5 py-0.5 rounded-full bg-warning/10">
  <span class="size-2 rounded-full bg-warning"></span>
  <span class="text-xs font-medium text-warning">Low</span>
  <span class="text-xs text-warning/70">5</span>
</div>

<div class="inline-flex items-center gap-1.5 h-6 px-2.5 py-0.5 rounded-full bg-error/10">
  <span class="size-2 rounded-full bg-error"></span>
  <span class="text-xs font-medium text-error">Sold Out</span>
</div>`}
    js={`// No JavaScript required - pure CSS component
// .stock-indicator-badge adds tinted background
// .stock-indicator-pill uses fully rounded corners`}
  />

  <CodePreview
    title="Sizes & Minimal"
    noFrame
    semantic={`<!-- Small -->
<div class="stock-indicator stock-indicator-sm stock-indicator-in-stock">
  <span class="stock-indicator-dot"></span>
  <span class="stock-indicator-label">In Stock</span>
</div>

<!-- Default -->
<div class="stock-indicator stock-indicator-in-stock">
  <span class="stock-indicator-dot"></span>
  <span class="stock-indicator-label">In Stock</span>
</div>

<!-- Large -->
<div class="stock-indicator stock-indicator-lg stock-indicator-in-stock">
  <span class="stock-indicator-dot"></span>
  <span class="stock-indicator-label">In Stock</span>
  <span class="stock-indicator-count">142</span>
</div>

<!-- Minimal (dot only) -->
<span style="display: inline-flex; align-items: center; gap: 0.75rem;">
  <div class="stock-indicator stock-indicator-minimal stock-indicator-in-stock">
    <span class="stock-indicator-dot"></span>
  </div>
  <div class="stock-indicator stock-indicator-minimal stock-indicator-low-stock">
    <span class="stock-indicator-dot"></span>
  </div>
  <div class="stock-indicator stock-indicator-minimal stock-indicator-out-of-stock">
    <span class="stock-indicator-dot"></span>
  </div>
  <div class="stock-indicator stock-indicator-minimal stock-indicator-pre-order">
    <span class="stock-indicator-dot"></span>
  </div>
  <div class="stock-indicator stock-indicator-minimal stock-indicator-discontinued">
    <span class="stock-indicator-dot"></span>
  </div>
</span>`}
    tailwind={`<!-- Small -->
<div class="inline-flex items-center gap-1 h-5">
  <span class="size-1.5 rounded-full bg-success"></span>
  <span class="text-[10px] font-medium text-success">In Stock</span>
</div>

<!-- Default -->
<div class="inline-flex items-center gap-1.5 h-6">
  <span class="size-2 rounded-full bg-success"></span>
  <span class="text-xs font-medium text-success">In Stock</span>
</div>

<!-- Large -->
<div class="inline-flex items-center gap-2 h-8">
  <span class="size-2.5 rounded-full bg-success"></span>
  <span class="text-sm font-medium text-success">In Stock</span>
  <span class="text-sm text-base-content/50">142</span>
</div>

<!-- Minimal (dot only) -->
<span class="inline-flex items-center gap-3">
  <span class="size-2 rounded-full bg-success"></span>
  <span class="size-2 rounded-full bg-warning"></span>
  <span class="size-2 rounded-full bg-error"></span>
  <span class="size-2 rounded-full bg-info"></span>
  <span class="size-2 rounded-full bg-base-content/30"></span>
</span>`}
    js={`// No JavaScript required - pure CSS component
// .stock-indicator-sm / .stock-indicator-lg control sizing
// .stock-indicator-minimal hides label, shows dot only`}
  />

  <!-- Reference Table -->
  <div class="mt-10 space-y-6">
    <h2 class="text-xl font-bold">Classes Reference</h2>

    <div class="overflow-x-auto">
      <table class="w-full text-sm border border-base-300 rounded-lg overflow-hidden">
        <thead class="bg-base-200">
          <tr>
            <th class="text-left px-4 py-2 font-medium">Class</th>
            <th class="text-left px-4 py-2 font-medium">Description</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-base-300">
          <tr><td class="px-4 py-2 font-mono text-xs">.stock-indicator</td><td class="px-4 py-2">Base container (inline-flex, 24px height)</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.stock-indicator-dot</td><td class="px-4 py-2">Colored dot (8px circle)</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.stock-indicator-label</td><td class="px-4 py-2">Text label</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.stock-indicator-count</td><td class="px-4 py-2">Numeric count</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.stock-indicator-in-stock</td><td class="px-4 py-2">Green / success status</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.stock-indicator-low-stock</td><td class="px-4 py-2">Yellow / warning status</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.stock-indicator-out-of-stock</td><td class="px-4 py-2">Red / error status</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.stock-indicator-pre-order</td><td class="px-4 py-2">Blue / info status</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.stock-indicator-discontinued</td><td class="px-4 py-2">Gray / neutral status</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.stock-indicator-sm</td><td class="px-4 py-2">Small size variant</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.stock-indicator-lg</td><td class="px-4 py-2">Large size variant</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.stock-indicator-badge</td><td class="px-4 py-2">Badge style with tinted background</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.stock-indicator-pill</td><td class="px-4 py-2">Pill shape (fully rounded)</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.stock-indicator-minimal</td><td class="px-4 py-2">Dot only, no text</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.stock-indicator-with-bar</td><td class="px-4 py-2">Progress bar variant</td></tr>
        </tbody>
      </table>
    </div>
  </div>
</DocsLayout>
