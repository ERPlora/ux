---
import DocsLayout from '../../layouts/DocsLayout.astro';
import CodePreview from '../../components/CodePreview.astro';
---

<DocsLayout title="Split Button">
  <p class="text-base-content/70 mb-6">Button with an attached dropdown toggle for secondary actions. The main button performs the primary action, while the arrow toggle reveals a dropdown menu with alternatives.</p>

  <CodePreview
    title="Default Split Button"
    semantic={`<div class="split-button">
  <button class="btn color-primary split-button-main">Save</button>
  <button class="split-button-toggle color-primary" aria-label="More options">
    <svg class="split-button-toggle-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
      <path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" />
    </svg>
  </button>
</div>`}
    tailwind={`<div class="inline-flex relative align-middle">
  <button class="btn color-primary rounded-r-none border-r-0">Save</button>
  <button class="flex items-center justify-center w-10 p-0 border-none cursor-pointer bg-primary text-primary-content" style="border-radius: 0 var(--radius-field) var(--radius-field) 0; min-height: calc(var(--size-field) * 11); position: relative;" aria-label="More options">
    <span style="position: absolute; left: 0; top: 25%; height: 50%; width: 1px; background-color: rgba(255,255,255,0.25);"></span>
    <svg class="size-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>
  </button>
</div>`}
    js={`// Toggle dropdown:
const toggle = document.querySelector('.split-button-toggle');
const container = toggle.closest('.split-button');
toggle.addEventListener('click', () => &#123;
  container.classList.toggle('split-button-open');
&#125;);

// Close on click outside:
document.addEventListener('click', (e) => &#123;
  document.querySelectorAll('.split-button-open').forEach(sb => &#123;
    if (!sb.contains(e.target)) sb.classList.remove('split-button-open');
  &#125;);
&#125;);`}
  />

  <CodePreview
    title="With Dropdown Open"
    semantic={`<div class="split-button split-button-open">
  <button class="btn color-primary split-button-main">Save</button>
  <button class="split-button-toggle color-primary" aria-label="More options" aria-expanded="true">
    <svg class="split-button-toggle-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
      <path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" />
    </svg>
  </button>
  <div class="split-button-dropdown">
    <button class="split-button-item">Save as Draft</button>
    <button class="split-button-item">Save and Continue</button>
    <div class="split-button-divider"></div>
    <button class="split-button-item split-button-item-danger">Discard Changes</button>
  </div>
</div>`}
    tailwind={`<div class="inline-flex relative align-middle">
  <button class="btn color-primary rounded-r-none border-r-0">Save</button>
  <button class="flex items-center justify-center w-10 p-0 border-none cursor-pointer bg-primary text-primary-content" style="border-radius: 0 var(--radius-field) var(--radius-field) 0; min-height: calc(var(--size-field) * 11); position: relative;" aria-label="More options" aria-expanded="true">
    <span style="position: absolute; left: 0; top: 25%; height: 50%; width: 1px; background-color: rgba(255,255,255,0.25);"></span>
    <svg class="size-4" style="transform: rotate(180deg);" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>
  </button>
  <div class="absolute right-0 min-w-40 py-1 bg-base-100 border border-base-300 rounded-box shadow-lg z-100" style="top: calc(100% + 4px);">
    <button class="flex items-center gap-2 w-full px-4 py-2 bg-transparent border-none cursor-pointer text-left hover:bg-base-200" style="font-size: 0.9375rem; color: var(--color-base-content);">Save as Draft</button>
    <button class="flex items-center gap-2 w-full px-4 py-2 bg-transparent border-none cursor-pointer text-left hover:bg-base-200" style="font-size: 0.9375rem; color: var(--color-base-content);">Save and Continue</button>
    <div class="h-px my-1 bg-base-300"></div>
    <button class="flex items-center gap-2 w-full px-4 py-2 bg-transparent border-none cursor-pointer text-left text-error hover:bg-error/10" style="font-size: 0.9375rem;">Discard Changes</button>
  </div>
</div>`}
    js={`// Toggle dropdown:
const toggle = document.querySelector('.split-button-toggle');
const container = toggle.closest('.split-button');
toggle.addEventListener('click', () => &#123;
  container.classList.toggle('split-button-open');
&#125;);`}
  />

  <CodePreview
    title="Outline & Sizes"
    semantic={`<div class="flex items-start gap-4 flex-wrap">
  <!-- Outline -->
  <div class="split-button split-button-outline">
    <button class="btn btn-outline color-primary split-button-main">Outline</button>
    <button class="split-button-toggle" aria-label="More">
      <svg class="split-button-toggle-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>
    </button>
  </div>

  <!-- Small -->
  <div class="split-button split-button-sm">
    <button class="btn color-primary split-button-main">Small</button>
    <button class="split-button-toggle color-primary" aria-label="More">
      <svg class="split-button-toggle-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>
    </button>
  </div>

  <!-- Large -->
  <div class="split-button split-button-lg">
    <button class="btn color-primary split-button-main">Large</button>
    <button class="split-button-toggle color-primary" aria-label="More">
      <svg class="split-button-toggle-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>
    </button>
  </div>

  <!-- Full width -->
  <div class="split-button split-button-block">
    <button class="btn color-primary split-button-main">Full Width</button>
    <button class="split-button-toggle color-primary" aria-label="More">
      <svg class="split-button-toggle-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>
    </button>
  </div>
</div>`}
    tailwind={`<div class="flex items-start gap-4 flex-wrap">
  <!-- Outline -->
  <div class="inline-flex relative align-middle">
    <button class="btn btn-outline color-primary rounded-r-none border-r-0">Outline</button>
    <button class="flex items-center justify-center w-10 p-0 bg-transparent cursor-pointer text-primary" style="border: 2px solid var(--color-primary); border-left: none; border-radius: 0 var(--radius-field) var(--radius-field) 0; min-height: calc(var(--size-field) * 11);" aria-label="More">
      <svg class="size-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>
    </button>
  </div>

  <!-- Small -->
  <div class="inline-flex relative align-middle">
    <button class="btn btn-sm color-primary rounded-r-none border-r-0">Small</button>
    <button class="flex items-center justify-center w-8 p-0 border-none cursor-pointer bg-primary text-primary-content" style="border-radius: 0 var(--radius-field) var(--radius-field) 0; min-height: calc(var(--size-field) * 9);" aria-label="More">
      <svg class="size-3.5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>
    </button>
  </div>

  <!-- Large -->
  <div class="inline-flex relative align-middle">
    <button class="btn btn-lg color-primary rounded-r-none border-r-0">Large</button>
    <button class="flex items-center justify-center w-12 p-0 border-none cursor-pointer bg-primary text-primary-content" style="border-radius: 0 var(--radius-field) var(--radius-field) 0; min-height: calc(var(--size-field) * 13);" aria-label="More">
      <svg class="size-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>
    </button>
  </div>

  <!-- Full width -->
  <div class="flex w-full relative align-middle">
    <button class="btn color-primary rounded-r-none border-r-0 flex-1">Full Width</button>
    <button class="flex items-center justify-center w-10 p-0 border-none cursor-pointer bg-primary text-primary-content" style="border-radius: 0 var(--radius-field) var(--radius-field) 0; min-height: calc(var(--size-field) * 11);" aria-label="More">
      <svg class="size-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>
    </button>
  </div>
</div>`}
    js={`// No JavaScript required for styling â€” toggle open state with JS as shown above`}
  />

  <CodePreview
    title="Colors"
    semantic={`<div class="flex items-center gap-4 flex-wrap">
  <div class="split-button">
    <button class="btn color-primary split-button-main">Primary</button>
    <button class="split-button-toggle color-primary" aria-label="More">
      <svg class="split-button-toggle-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>
    </button>
  </div>

  <div class="split-button">
    <button class="btn color-success split-button-main">Success</button>
    <button class="split-button-toggle color-success" aria-label="More">
      <svg class="split-button-toggle-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>
    </button>
  </div>

  <div class="split-button">
    <button class="btn color-error split-button-main">Danger</button>
    <button class="split-button-toggle color-error" aria-label="More">
      <svg class="split-button-toggle-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>
    </button>
  </div>

  <div class="split-button split-button-disabled">
    <button class="btn color-primary split-button-main">Disabled</button>
    <button class="split-button-toggle color-primary" aria-label="More">
      <svg class="split-button-toggle-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>
    </button>
  </div>
</div>`}
    tailwind={`<div class="flex items-center gap-4 flex-wrap">
  <div class="inline-flex relative align-middle">
    <button class="btn color-primary rounded-r-none border-r-0">Primary</button>
    <button class="flex items-center justify-center w-10 p-0 border-none cursor-pointer bg-primary text-primary-content" style="border-radius: 0 var(--radius-field) var(--radius-field) 0; min-height: calc(var(--size-field) * 11);" aria-label="More"><svg class="size-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg></button>
  </div>

  <div class="inline-flex relative align-middle">
    <button class="btn color-success rounded-r-none border-r-0">Success</button>
    <button class="flex items-center justify-center w-10 p-0 border-none cursor-pointer bg-success text-success-content" style="border-radius: 0 var(--radius-field) var(--radius-field) 0; min-height: calc(var(--size-field) * 11);" aria-label="More"><svg class="size-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg></button>
  </div>

  <div class="inline-flex relative align-middle">
    <button class="btn color-error rounded-r-none border-r-0">Danger</button>
    <button class="flex items-center justify-center w-10 p-0 border-none cursor-pointer bg-error text-error-content" style="border-radius: 0 var(--radius-field) var(--radius-field) 0; min-height: calc(var(--size-field) * 11);" aria-label="More"><svg class="size-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg></button>
  </div>

  <div class="inline-flex relative align-middle opacity-50 pointer-events-none">
    <button class="btn color-primary rounded-r-none border-r-0">Disabled</button>
    <button class="flex items-center justify-center w-10 p-0 border-none cursor-pointer bg-primary text-primary-content" style="border-radius: 0 var(--radius-field) var(--radius-field) 0; min-height: calc(var(--size-field) * 11);" aria-label="More"><svg class="size-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg></button>
  </div>
</div>`}
    js={`// No JavaScript required for color styling`}
  />

  <!-- Reference Table -->
  <div class="mt-10 space-y-6">
    <h2 class="text-xl font-bold">Classes Reference</h2>
    <div class="overflow-x-auto">
      <table class="w-full text-sm border border-base-300 rounded-lg overflow-hidden">
        <thead class="bg-base-200">
          <tr>
            <th class="text-left px-4 py-2 font-medium">Class</th>
            <th class="text-left px-4 py-2 font-medium">Description</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-base-300">
          <tr><td class="px-4 py-2 font-mono text-xs">.split-button</td><td class="px-4 py-2">Container wrapper</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.split-button-main</td><td class="px-4 py-2">Main action button (add to .btn)</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.split-button-toggle</td><td class="px-4 py-2">Dropdown toggle arrow button</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.split-button-toggle-icon</td><td class="px-4 py-2">Chevron icon (rotates when open)</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.split-button-open</td><td class="px-4 py-2">Open state (shows dropdown)</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.split-button-dropdown</td><td class="px-4 py-2">Dropdown menu panel</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.split-button-item</td><td class="px-4 py-2">Dropdown item</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.split-button-item-icon</td><td class="px-4 py-2">Item leading icon</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.split-button-item-danger</td><td class="px-4 py-2">Red destructive item</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.split-button-item-disabled</td><td class="px-4 py-2">Disabled item</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.split-button-divider</td><td class="px-4 py-2">Horizontal separator</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.split-button-outline</td><td class="px-4 py-2">Outline style variant</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.split-button-sm</td><td class="px-4 py-2">Small size</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.split-button-lg</td><td class="px-4 py-2">Large size</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.split-button-block</td><td class="px-4 py-2">Full-width variant</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.split-button-disabled</td><td class="px-4 py-2">Disabled state</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.split-button-dropdown-left</td><td class="px-4 py-2">Align dropdown to left</td></tr>
          <tr><td class="px-4 py-2 font-mono text-xs">.split-button-dropdown-up</td><td class="px-4 py-2">Open dropdown upward</td></tr>
        </tbody>
      </table>
    </div>
  </div>
</DocsLayout>
