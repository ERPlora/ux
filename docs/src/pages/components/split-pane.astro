---
import DocsLayout from '../../layouts/DocsLayout.astro';
import CodePreview from '../../components/CodePreview.astro';
---

<DocsLayout title="Split Pane">
  <p class="text-base-content/70 mb-6">Two-panel layout with main content and a collapsible side panel. Desktop: side-by-side. Mobile: overlay from edge.</p>

  <CodePreview
    title="Basic Split Pane"
    semantic={`<div class="split-pane" style="height: 300px; border: 1px solid var(--color-base-300); border-radius: var(--radius-box, 0.75rem); overflow: hidden;">
  <div class="split-pane-main" style="padding: 1rem;">
    <h4 style="font-weight: 600; margin-bottom: 0.5rem;">Main Content</h4>
    <p style="color: var(--color-base-content); opacity: 0.7;">This is the main content area. It fills the remaining space after the side panel.</p>
  </div>
  <div class="split-pane-side" style="padding: 1rem;">
    <h4 style="font-weight: 600; margin-bottom: 0.5rem;">Side Panel</h4>
    <p style="color: var(--color-base-content); opacity: 0.7;">This panel is 320px wide by default. On mobile it becomes an overlay.</p>
  </div>
</div>`}
    tailwind={`<div class="flex flex-row h-[300px] border border-base-300 rounded-box overflow-hidden">
  <div class="flex-1 min-w-0 p-4">
    <h4 class="font-semibold mb-2">Main Content</h4>
    <p class="text-base-content/70">Main area fills remaining space.</p>
  </div>
  <div class="w-80 shrink-0 border-l border-base-300 p-4 bg-base-100">
    <h4 class="font-semibold mb-2">Side Panel</h4>
    <p class="text-base-content/70">Fixed width side panel.</p>
  </div>
</div>`}
    js={`// Toggle side panel visibility:
// container.classList.toggle('split-pane-collapsed');
// On mobile, use split-pane-open to show as overlay`}
  />

  <CodePreview
    title="Left Side Panel"
    semantic={`<div class="split-pane" style="height: 300px; border: 1px solid var(--color-base-300); border-radius: var(--radius-box, 0.75rem); overflow: hidden;">
  <div class="split-pane-side split-pane-side-left" style="padding: 1rem; --split-pane-width: 240px;">
    <h4 style="font-weight: 600; margin-bottom: 0.5rem;">Left Panel</h4>
    <p style="color: var(--color-base-content); opacity: 0.7;">Navigation or sidebar on the left side.</p>
  </div>
  <div class="split-pane-main" style="padding: 1rem;">
    <h4 style="font-weight: 600; margin-bottom: 0.5rem;">Main Content</h4>
    <p style="color: var(--color-base-content); opacity: 0.7;">Content area on the right.</p>
  </div>
</div>`}
    tailwind={`<div class="flex flex-row h-75 border border-base-300 rounded-box overflow-hidden">
  <div class="shrink-0 h-full flex flex-col overflow-hidden order-first border-r border-base-300 bg-base-100 p-4" style="width: 240px;">
    <h4 class="font-semibold mb-2">Left Panel</h4>
    <p class="text-base-content/70">Navigation or sidebar on the left side.</p>
  </div>
  <div class="flex-1 min-w-0 p-4">
    <h4 class="font-semibold mb-2">Main Content</h4>
    <p class="text-base-content/70">Content area on the right.</p>
  </div>
</div>`}
    js={`// No JavaScript required for static layout
// Use split-pane-collapsed class to hide the panel`}
  />

  <CodePreview
    title="Custom Width"
    semantic={`<div class="split-pane" style="height: 250px; border: 1px solid var(--color-base-300); border-radius: var(--radius-box, 0.75rem); overflow: hidden;">
  <div class="split-pane-main" style="padding: 1rem;">
    <p style="font-weight: 600;">Main area</p>
  </div>
  <div class="split-pane-side" style="--split-pane-width: 400px; padding: 1rem;">
    <p style="font-weight: 600;">Wide panel (400px)</p>
    <p style="color: var(--color-base-content); opacity: 0.7; margin-top: 0.5rem;">Set width via --split-pane-width custom property.</p>
  </div>
</div>`}
    tailwind={`<div class="flex flex-row h-62.5 border border-base-300 rounded-box overflow-hidden">
  <div class="flex-1 min-w-0 p-4">
    <p class="font-semibold">Main area</p>
  </div>
  <div class="shrink-0 h-full flex flex-col overflow-hidden border-l border-base-300 bg-base-100 p-4" style="width: 400px;">
    <p class="font-semibold">Wide panel (400px)</p>
    <p class="text-base-content/70 mt-2">Set width via inline style or CSS variable.</p>
  </div>
</div>`}
    js={`// No JavaScript required`}
  />

  <CodePreview
    title="Collapsible with Toggle Button"
    semantic={`<div class="split-pane" id="demo-split" style="height: 300px; border: 1px solid var(--color-base-300); border-radius: var(--radius-box, 0.75rem); overflow: hidden;">
  <div class="split-pane-main" style="padding: 1rem;">
    <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 1rem;">
      <button class="split-pane-toggle" onclick="document.getElementById('demo-split').classList.toggle('split-pane-collapsed')">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M15 3v18"/></svg>
      </button>
      <h4 style="font-weight: 600; margin: 0;">Main Content</h4>
    </div>
    <p style="color: var(--color-base-content); opacity: 0.7;">Click the toggle button to show/hide the side panel. The .split-pane-toggle class provides a 44px touch-friendly button.</p>
  </div>
  <div class="split-pane-side" style="padding: 1rem;">
    <h4 style="font-weight: 600; margin-bottom: 0.5rem;">Side Panel</h4>
    <p style="color: var(--color-base-content); opacity: 0.7;">This panel collapses smoothly.</p>
  </div>
</div>`}
    tailwind={`<div class="flex flex-row h-75 border border-base-300 rounded-box overflow-hidden" id="demo-split">
  <div class="flex-1 min-w-0 p-4">
    <div class="flex items-center gap-2 mb-4">
      <button class="flex items-center justify-center w-11 h-11 border-none bg-transparent cursor-pointer hover:bg-base-200 rounded-lg" onclick="this.closest('.flex').parentElement.parentElement.querySelector('.split-pane-side')?.classList.toggle('w-0')">
        <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M15 3v18"/></svg>
      </button>
      <h4 class="font-semibold m-0">Main Content</h4>
    </div>
    <p class="text-base-content/70">Click the toggle button to show/hide the side panel.</p>
  </div>
  <div class="split-pane-side p-4">
    <h4 class="font-semibold mb-2">Side Panel</h4>
    <p class="text-base-content/70">Collapses smoothly.</p>
  </div>
</div>`}
    js={`// Toggle split pane collapse
const splitPane = document.getElementById('demo-split');
const toggleBtn = splitPane.querySelector('.split-pane-toggle');

toggleBtn.addEventListener('click', () => {
  splitPane.classList.toggle('split-pane-collapsed');
});

// On mobile, use split-pane-open to show as overlay:
// splitPane.classList.toggle('split-pane-open');`}
  />

  <CodePreview
    title="Glass Variant"
    semantic={`<div class="p-6 rounded-box" style="background: linear-gradient(135deg, var(--color-primary), var(--color-info));">
  <div class="split-pane" style="height: 250px; border-radius: var(--radius-box, 0.75rem); overflow: hidden;">
    <div class="split-pane-main" style="padding: 1rem; color: white;">
      <h4 style="font-weight: 600; margin-bottom: 0.5rem;">Main Content</h4>
      <p style="opacity: 0.8;">Glass side panel on a gradient background.</p>
    </div>
    <div class="split-pane-side glass" style="padding: 1rem; color: white;">
      <h4 style="font-weight: 600; margin-bottom: 0.5rem;">Glass Panel</h4>
      <p style="opacity: 0.8;">Frosted glass side panel.</p>
    </div>
  </div>
</div>`}
    tailwind={`<div class="p-6 rounded-box" style="background: linear-gradient(135deg, var(--color-primary), var(--color-info));">
  <div class="flex flex-row h-62.5 rounded-box overflow-hidden">
    <div class="flex-1 min-w-0 p-4 text-white">
      <h4 class="font-semibold mb-2">Main Content</h4>
      <p class="opacity-80">Glass side panel on a gradient background.</p>
    </div>
    <div class="shrink-0 w-80 h-full flex flex-col overflow-hidden glass border-l p-4 text-white" style="border-color: rgba(255,255,255,0.18);">
      <h4 class="font-semibold mb-2">Glass Panel</h4>
      <p class="opacity-80">Frosted glass side panel.</p>
    </div>
  </div>
</div>`}
    js={`// No JavaScript required`}
  />
</DocsLayout>
