---
import DocsLayout from '../../layouts/DocsLayout.astro';
import CodePreview from '../../components/CodePreview.astro';
---

<DocsLayout title="JSON Viewer">
  <p class="text-base-content/70 mb-6">Interactive JSON tree viewer with syntax highlighting, collapsible nodes, search, and light/dark themes.</p>

  <CodePreview
    title="Basic JSON Viewer"
    semantic={`<div class="json-viewer">
  <div class="json-viewer-header">
    <div class="json-viewer-title">
      <span>data.json</span>
      <span class="json-viewer-badge">3 keys</span>
    </div>
    <div class="json-viewer-actions">
      <button class="json-viewer-btn">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
        Copy
      </button>
    </div>
  </div>
  <div class="json-viewer-content">
    <ul class="json-viewer-tree">
      <li class="json-viewer-node">
        <div class="json-viewer-row">
          <button class="json-viewer-toggle json-viewer-toggle-expanded"><svg viewBox="0 0 10 10"><path d="M3 1l4 4-4 4" fill="none" stroke="currentColor" stroke-width="1.5"/></svg></button>
          <span class="json-viewer-bracket json-viewer-bracket-open">{</span>
        </div>
        <ul class="json-viewer-children">
          <li class="json-viewer-node">
            <div class="json-viewer-row">
              <span class="json-viewer-key">name</span>
              <span class="json-viewer-value-string">UX Library</span>
            </div>
          </li>
          <li class="json-viewer-node">
            <div class="json-viewer-row">
              <span class="json-viewer-key">version</span>
              <span class="json-viewer-value-string">3.0.0</span>
            </div>
          </li>
          <li class="json-viewer-node">
            <div class="json-viewer-row">
              <span class="json-viewer-key">components</span>
              <span class="json-viewer-value-number">148</span>
            </div>
          </li>
          <li class="json-viewer-node">
            <div class="json-viewer-row">
              <span class="json-viewer-key">stable</span>
              <span class="json-viewer-value-boolean">true</span>
            </div>
          </li>
          <li class="json-viewer-node">
            <div class="json-viewer-row">
              <span class="json-viewer-key">deprecated</span>
              <span class="json-viewer-value-null">null</span>
            </div>
          </li>
        </ul>
        <div class="json-viewer-row">
          <span class="json-viewer-bracket">}</span>
        </div>
      </li>
    </ul>
  </div>
</div>`}
    tailwind={`<div class="font-mono text-sm leading-relaxed rounded-box overflow-hidden" style="background: #1e1e2e">
  <div class="flex items-center justify-between px-4 py-3" style="background: #181825; border-bottom: 1px solid #313244">
    <span class="text-xs" style="color: #6c7086">data.json</span>
    <button class="text-xs px-2 py-1 rounded" style="color: #6c7086">Copy</button>
  </div>
  <div class="p-4 overflow-auto max-h-125">
    <div><span style="color: #f38ba8">name</span>: <span style="color: #a6e3a1">"UX Library"</span></div>
    <div><span style="color: #f38ba8">version</span>: <span style="color: #a6e3a1">"3.0.0"</span></div>
    <div><span style="color: #f38ba8">components</span>: <span style="color: #fab387">148</span></div>
  </div>
</div>`}
    js={`// Toggle node: toggle.addEventListener('click', () => {
//   toggle.classList.toggle('json-viewer-toggle-expanded');
//   children.hidden = !children.hidden;
// });
// Copy: navigator.clipboard.writeText(JSON.stringify(data, null, 2));`}
  />

  <CodePreview
    title="Light Theme"
    semantic={`<div class="json-viewer json-viewer-light">
  <div class="json-viewer-header">
    <div class="json-viewer-title">response.json</div>
  </div>
  <div class="json-viewer-content">
    <ul class="json-viewer-tree">
      <li class="json-viewer-node">
        <div class="json-viewer-row">
          <span class="json-viewer-key">status</span>
          <span class="json-viewer-value-number">200</span>
        </div>
      </li>
      <li class="json-viewer-node">
        <div class="json-viewer-row">
          <span class="json-viewer-key">message</span>
          <span class="json-viewer-value-string">OK</span>
        </div>
      </li>
      <li class="json-viewer-node">
        <div class="json-viewer-row">
          <span class="json-viewer-key">url</span>
          <span class="json-viewer-value-url">https://api.example.com</span>
        </div>
      </li>
    </ul>
  </div>
</div>`}
    tailwind={`<div class="font-mono text-sm leading-relaxed rounded-xl overflow-hidden bg-base-100 border border-base-300">
  <div class="flex items-center justify-between px-4 py-3 bg-base-200 border-b border-base-300">
    <span class="text-xs font-medium text-base-content/60">response.json</span>
  </div>
  <div class="p-4 overflow-auto max-h-125">
    <div class="py-0.5"><span style="color: #a626a4;">status</span><span class="text-base-content/40 mx-0.5">:</span> <span style="color: #986801;">200</span></div>
    <div class="py-0.5"><span style="color: #a626a4;">message</span><span class="text-base-content/40 mx-0.5">:</span> <span style="color: #50a14f;">"OK"</span></div>
    <div class="py-0.5"><span style="color: #a626a4;">url</span><span class="text-base-content/40 mx-0.5">:</span> <span class="underline cursor-pointer" style="color: #4078f2;">https://api.example.com</span></div>
  </div>
</div>`}
    js={`// No JavaScript required for static display`}
  />

  <div class="overflow-x-auto mt-8">
    <table class="table">
      <thead><tr><th>Class</th><th>Description</th></tr></thead>
      <tbody>
        <tr><td><code>.json-viewer</code></td><td>Base container (dark theme)</td></tr>
        <tr><td><code>.json-viewer-header</code></td><td>Header bar</td></tr>
        <tr><td><code>.json-viewer-title</code></td><td>Title area</td></tr>
        <tr><td><code>.json-viewer-badge</code></td><td>Key count badge</td></tr>
        <tr><td><code>.json-viewer-btn</code></td><td>Action button (copy)</td></tr>
        <tr><td><code>.json-viewer-content</code></td><td>Scrollable content</td></tr>
        <tr><td><code>.json-viewer-tree</code></td><td>Tree list</td></tr>
        <tr><td><code>.json-viewer-node</code></td><td>Tree node</td></tr>
        <tr><td><code>.json-viewer-row</code></td><td>Node row</td></tr>
        <tr><td><code>.json-viewer-toggle</code></td><td>Expand/collapse toggle</td></tr>
        <tr><td><code>.json-viewer-toggle-expanded</code></td><td>Expanded state (rotated arrow)</td></tr>
        <tr><td><code>.json-viewer-key</code></td><td>Property key (red)</td></tr>
        <tr><td><code>.json-viewer-value-string</code></td><td>String value (green)</td></tr>
        <tr><td><code>.json-viewer-value-number</code></td><td>Number value (orange)</td></tr>
        <tr><td><code>.json-viewer-value-boolean</code></td><td>Boolean value (cyan)</td></tr>
        <tr><td><code>.json-viewer-value-null</code></td><td>Null value (purple)</td></tr>
        <tr><td><code>.json-viewer-value-url</code></td><td>Clickable URL (blue)</td></tr>
        <tr><td><code>.json-viewer-bracket</code></td><td>Brackets { } [ ]</td></tr>
        <tr><td><code>.json-viewer-children</code></td><td>Nested children (indented)</td></tr>
        <tr><td><code>.json-viewer-count</code></td><td>Collapsed count badge</td></tr>
        <tr><td><code>.json-viewer-preview</code></td><td>Collapsed preview text</td></tr>
        <tr><td><code>.json-viewer-highlight</code></td><td>Search highlight</td></tr>
        <tr><td><code>.json-viewer-search-input</code></td><td>Search field</td></tr>
        <tr><td><code>.json-viewer-raw</code></td><td>Raw JSON display</td></tr>
        <tr><td><code>.json-viewer-light</code></td><td>Light theme variant</td></tr>
        <tr><td><code>.json-viewer-sm</code></td><td>Small font size</td></tr>
        <tr><td><code>.json-viewer-lg</code></td><td>Large font size</td></tr>
        <tr><td><code>.json-viewer-compact</code></td><td>Compact spacing</td></tr>
        <tr><td><code>.json-viewer.glass</code></td><td>Glass morphism variant</td></tr>
      </tbody>
    </table>
  </div>
</DocsLayout>
