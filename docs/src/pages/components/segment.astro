---
import DocsLayout from '../../layouts/DocsLayout.astro';
import CodePreview from '../../components/CodePreview.astro';
---

<DocsLayout title="Segment">
  <p class="text-base-content/70 mb-6">iOS-style segmented control with sliding indicator, squish animation, and multiple variants.</p>

  <CodePreview
    title="Basic Segment"
    semantic={`<div class="segment">
  <div class="segment-indicator" style="left: 3px; width: calc(33.33% - 2px);"></div>
  <button class="segment-btn segment-btn-selected">Day</button>
  <button class="segment-btn">Week</button>
  <button class="segment-btn">Month</button>
</div>`}
    tailwind={`<div class="inline-flex items-stretch relative rounded-field p-[3px]" style="background-color: color-mix(in oklch, var(--color-base-content) 8%, transparent)">
  <div class="absolute top-[3px] bottom-[3px] bg-base-100 rounded-[calc(var(--radius-field)-3px)] shadow-sm transition-all duration-300" style="left: 3px; width: calc(33.33% - 2px);"></div>
  <button class="relative flex items-center justify-center flex-1 px-4 py-2 bg-transparent border-none text-sm font-medium text-base-content z-1 cursor-pointer">Day</button>
  <button class="relative flex items-center justify-center flex-1 px-4 py-2 bg-transparent border-none text-sm font-medium text-base-content/60 z-1 cursor-pointer">Week</button>
  <button class="relative flex items-center justify-center flex-1 px-4 py-2 bg-transparent border-none text-sm font-medium text-base-content/60 z-1 cursor-pointer">Month</button>
</div>`}
    js={`// Move the indicator by updating its left & width via JS
// Example:
// const indicator = segment.querySelector('.segment-indicator');
// const btn = segment.querySelectorAll('.segment-btn')[index];
// indicator.style.left = btn.offsetLeft + 'px';
// indicator.style.width = btn.offsetWidth + 'px';
// Toggle segment-btn-selected class on buttons`}
  />

  <CodePreview
    title="Variants"
    semantic={`<!-- Primary (colored indicator) -->
<div class="segment segment-primary mb-4">
  <div class="segment-indicator" style="left: 3px; width: calc(50% - 2px);"></div>
  <button class="segment-btn segment-btn-selected">Active</button>
  <button class="segment-btn">Inactive</button>
</div>

<!-- Outline -->
<div class="segment segment-outline mb-4">
  <button class="segment-btn segment-btn-selected">List</button>
  <button class="segment-btn">Grid</button>
  <button class="segment-btn">Map</button>
</div>

<!-- Rounded Pill -->
<div class="segment segment-rounded">
  <div class="segment-indicator" style="left: 3px; width: calc(50% - 2px);"></div>
  <button class="segment-btn segment-btn-selected">On</button>
  <button class="segment-btn">Off</button>
</div>`}
    tailwind={`<!-- Primary: colored indicator background
     Outline: bordered with filled active
     Rounded: pill-shaped (rounded-full) -->`}
    js={`// Same JS pattern for all variants
// Toggle segment-btn-selected and move indicator`}
  />

  <CodePreview
    title="Sizes"
    semantic={`<!-- Small -->
<div class="segment segment-sm mb-4">
  <div class="segment-indicator" style="left: 2px; width: calc(33.33% - 1px);"></div>
  <button class="segment-btn segment-btn-selected">S</button>
  <button class="segment-btn">M</button>
  <button class="segment-btn">L</button>
</div>

<!-- Default -->
<div class="segment mb-4">
  <div class="segment-indicator" style="left: 3px; width: calc(33.33% - 2px);"></div>
  <button class="segment-btn segment-btn-selected">Small</button>
  <button class="segment-btn">Medium</button>
  <button class="segment-btn">Large</button>
</div>

<!-- Large -->
<div class="segment segment-lg">
  <div class="segment-indicator" style="left: 3px; width: calc(33.33% - 2px);"></div>
  <button class="segment-btn segment-btn-selected">Day</button>
  <button class="segment-btn">Week</button>
  <button class="segment-btn">Month</button>
</div>`}
    tailwind={`<!-- sm: 28px height, xs text
     default: 36px height
     lg: 44px height, md text -->`}
    js={`// No JavaScript required for sizing`}
  />

  <div class="overflow-x-auto mt-8">
    <table class="table">
      <thead><tr><th>Class</th><th>Description</th></tr></thead>
      <tbody>
        <tr><td><code>.segment</code></td><td>Container</td></tr>
        <tr><td><code>.segment-indicator</code></td><td>Sliding background indicator</td></tr>
        <tr><td><code>.segment-btn</code></td><td>Segment button</td></tr>
        <tr><td><code>.segment-btn-selected</code></td><td>Active button</td></tr>
        <tr><td><code>.segment-btn-disabled</code></td><td>Disabled button</td></tr>
        <tr><td><code>.segment-btn-icon</code></td><td>Icon inside button</td></tr>
        <tr><td><code>.segment-btn-label</code></td><td>Label text</td></tr>
        <tr><td><code>.segment-btn-icon-only</code></td><td>Icon-only button (no label)</td></tr>
        <tr><td><code>.segment-block</code></td><td>Full-width segment</td></tr>
        <tr><td><code>.segment-primary</code></td><td>Colored indicator variant</td></tr>
        <tr><td><code>.segment-outline</code></td><td>Bordered variant</td></tr>
        <tr><td><code>.segment-rounded</code></td><td>Pill-shaped variant</td></tr>
        <tr><td><code>.segment-success/error/warning</code></td><td>Color variants</td></tr>
        <tr><td><code>.segment-sm</code></td><td>Small size</td></tr>
        <tr><td><code>.segment-lg</code></td><td>Large size</td></tr>
        <tr><td><code>.segment-scrollable</code></td><td>Horizontally scrollable</td></tr>
        <tr><td><code>.segment.glass</code></td><td>Glass morphism variant</td></tr>
      </tbody>
    </table>
  </div>
</DocsLayout>
