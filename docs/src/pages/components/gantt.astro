---
import DocsLayout from '../../layouts/DocsLayout.astro';
import CodePreview from '../../components/CodePreview.astro';
---

<DocsLayout title="Gantt">
  <p class="text-base-content/70 mb-6">Project and manufacturing Gantt chart with task panel, timeline header, colored bars, progress indicators, milestones, today line, and dependency arrows. Designed for ERPlora production scheduling.</p>

  <CodePreview
    title="Full Gantt Chart"
    semantic={`<div class="gantt">
  <div class="gantt-toolbar">
    <div class="gantt-toolbar-start">
      <h2 class="gantt-title">ERPlora Q1 Production Schedule</h2>
    </div>
    <div class="gantt-toolbar-end">
      <button class="gantt-today-btn">Today</button>
      <div class="gantt-zoom-controls">
        <button class="gantt-zoom-btn">Day</button>
        <button class="gantt-zoom-btn gantt-zoom-btn-active">Week</button>
        <button class="gantt-zoom-btn">Month</button>
      </div>
      <button class="gantt-nav-btn" title="Previous">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 18l-6-6 6-6"/></svg>
      </button>
      <button class="gantt-nav-btn" title="Next">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18l6-6-6 6"/></svg>
      </button>
    </div>
  </div>
  <div class="gantt-body">
    <!-- Task Panel (Left) -->
    <div class="gantt-tasks">
      <div class="gantt-tasks-header">Tasks</div>
      <div class="gantt-tasks-body">
        <div class="gantt-task-row gantt-task-row-group">
          <button class="gantt-task-expand gantt-task-expand-expanded">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18l6-6-6-6"/></svg>
          </button>
          <span class="gantt-task-name">Hydraulic Valve Assembly</span>
        </div>
        <div class="gantt-task-row">
          <div class="gantt-task-indent" style="width: 24px;"></div>
          <span class="gantt-task-name">Material Procurement</span>
        </div>
        <div class="gantt-task-row">
          <div class="gantt-task-indent" style="width: 24px;"></div>
          <span class="gantt-task-name">CNC Machining</span>
        </div>
        <div class="gantt-task-row gantt-task-row-selected">
          <div class="gantt-task-indent" style="width: 24px;"></div>
          <span class="gantt-task-name">Assembly</span>
        </div>
        <div class="gantt-task-row">
          <div class="gantt-task-indent" style="width: 24px;"></div>
          <span class="gantt-task-name">Quality Control</span>
        </div>
        <div class="gantt-task-row">
          <div class="gantt-task-indent" style="width: 24px;"></div>
          <span class="gantt-task-name">Packaging &amp; Ship</span>
        </div>
        <div class="gantt-task-row gantt-task-row-group">
          <button class="gantt-task-expand gantt-task-expand-expanded">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18l6-6-6-6"/></svg>
          </button>
          <span class="gantt-task-name">Precision Bearing Kit</span>
        </div>
        <div class="gantt-task-row">
          <div class="gantt-task-indent" style="width: 24px;"></div>
          <span class="gantt-task-name">Raw Material Prep</span>
        </div>
        <div class="gantt-task-row">
          <div class="gantt-task-indent" style="width: 24px;"></div>
          <span class="gantt-task-name">Grinding &amp; Polish</span>
        </div>
      </div>
    </div>
    <!-- Chart Area (Right) -->
    <div class="gantt-chart">
      <div class="gantt-chart-scroll">
        <div class="gantt-chart-inner" style="width: 1200px;">
          <!-- Timeline Header -->
          <div class="gantt-header">
            <div class="gantt-header-row gantt-header-row-primary">
              <div class="gantt-header-cell gantt-header-cell-primary" style="width: 300px;">January 2026</div>
              <div class="gantt-header-cell gantt-header-cell-primary" style="width: 300px;">February 2026</div>
              <div class="gantt-header-cell gantt-header-cell-primary" style="width: 300px;">March 2026</div>
              <div class="gantt-header-cell gantt-header-cell-primary" style="width: 300px;">April 2026</div>
            </div>
            <div class="gantt-header-row">
              <div class="gantt-header-cell" style="width: 75px;">W1</div>
              <div class="gantt-header-cell" style="width: 75px;">W2</div>
              <div class="gantt-header-cell" style="width: 75px;">W3</div>
              <div class="gantt-header-cell" style="width: 75px;">W4</div>
              <div class="gantt-header-cell" style="width: 75px;">W5</div>
              <div class="gantt-header-cell gantt-header-cell-today" style="width: 75px;">W6</div>
              <div class="gantt-header-cell" style="width: 75px;">W7</div>
              <div class="gantt-header-cell" style="width: 75px;">W8</div>
              <div class="gantt-header-cell" style="width: 75px;">W9</div>
              <div class="gantt-header-cell" style="width: 75px;">W10</div>
              <div class="gantt-header-cell" style="width: 75px;">W11</div>
              <div class="gantt-header-cell" style="width: 75px;">W12</div>
              <div class="gantt-header-cell" style="width: 75px;">W13</div>
              <div class="gantt-header-cell" style="width: 75px;">W14</div>
              <div class="gantt-header-cell" style="width: 75px;">W15</div>
              <div class="gantt-header-cell" style="width: 75px;">W16</div>
            </div>
          </div>
          <!-- Grid Background -->
          <div class="gantt-grid">
            <div class="gantt-grid-row">
              <div class="gantt-grid-cell" style="width: 75px;"></div>
              <div class="gantt-grid-cell" style="width: 75px;"></div>
              <div class="gantt-grid-cell" style="width: 75px;"></div>
              <div class="gantt-grid-cell" style="width: 75px;"></div>
              <div class="gantt-grid-cell" style="width: 75px;"></div>
              <div class="gantt-grid-cell" style="width: 75px;"></div>
              <div class="gantt-grid-cell" style="width: 75px;"></div>
              <div class="gantt-grid-cell" style="width: 75px;"></div>
              <div class="gantt-grid-cell" style="width: 75px;"></div>
              <div class="gantt-grid-cell" style="width: 75px;"></div>
              <div class="gantt-grid-cell" style="width: 75px;"></div>
              <div class="gantt-grid-cell" style="width: 75px;"></div>
              <div class="gantt-grid-cell" style="width: 75px;"></div>
              <div class="gantt-grid-cell" style="width: 75px;"></div>
              <div class="gantt-grid-cell" style="width: 75px;"></div>
              <div class="gantt-grid-cell" style="width: 75px;"></div>
            </div>
          </div>
          <!-- Today Line -->
          <div class="gantt-today-line" style="left: 412px;"></div>
          <!-- Bars -->
          <div class="gantt-bars">
            <!-- Group bar: Hydraulic Valve Assembly -->
            <div class="gantt-bar-row">
              <div class="gantt-bar gantt-bar-group" style="left: 0; width: 600px;"></div>
            </div>
            <!-- Material Procurement (completed) -->
            <div class="gantt-bar-row">
              <div class="gantt-bar gantt-bar-completed" style="left: 0; width: 150px;">
                <div class="gantt-bar-progress" style="width: 100%;"></div>
                <span class="gantt-bar-label">Procurement</span>
              </div>
            </div>
            <!-- CNC Machining (completed) -->
            <div class="gantt-bar-row">
              <div class="gantt-bar gantt-bar-completed" style="left: 150px; width: 150px;">
                <div class="gantt-bar-progress" style="width: 100%;"></div>
                <span class="gantt-bar-label">CNC Machining</span>
              </div>
            </div>
            <!-- Assembly (in progress, selected) -->
            <div class="gantt-bar-row">
              <div class="gantt-bar gantt-bar-in-progress gantt-bar-selected" style="left: 300px; width: 150px;">
                <div class="gantt-bar-progress" style="width: 65%;"></div>
                <span class="gantt-bar-label">Assembly - 65%</span>
                <div class="gantt-bar-handle gantt-bar-handle-start"></div>
                <div class="gantt-bar-handle gantt-bar-handle-end"></div>
              </div>
            </div>
            <!-- Quality Control (not started) -->
            <div class="gantt-bar-row">
              <div class="gantt-bar gantt-bar-not-started" style="left: 450px; width: 75px;">
                <span class="gantt-bar-label">QC</span>
              </div>
            </div>
            <!-- Packaging (not started) -->
            <div class="gantt-bar-row">
              <div class="gantt-bar gantt-bar-not-started" style="left: 525px; width: 75px;">
                <span class="gantt-bar-label">Pack &amp; Ship</span>
              </div>
            </div>
            <!-- Group bar: Precision Bearing Kit -->
            <div class="gantt-bar-row">
              <div class="gantt-bar gantt-bar-group" style="left: 225px; width: 525px;"></div>
            </div>
            <!-- Raw Material Prep (delayed) -->
            <div class="gantt-bar-row">
              <div class="gantt-bar gantt-bar-delayed" style="left: 225px; width: 150px;">
                <div class="gantt-bar-progress" style="width: 80%;"></div>
                <span class="gantt-bar-label">Material Prep - Delayed</span>
              </div>
            </div>
            <!-- Grinding (on hold) -->
            <div class="gantt-bar-row">
              <div class="gantt-bar gantt-bar-on-hold" style="left: 375px; width: 225px;">
                <span class="gantt-bar-label">Grinding - On Hold</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>`}
    tailwind={`<div class="flex flex-col w-full overflow-hidden bg-base-100 border border-base-300 rounded-box">
  <!-- Toolbar -->
  <div class="flex items-center justify-between gap-4 px-4 py-2 bg-base-200 border-b border-base-300 shrink-0">
    <div class="flex items-center gap-2">
      <h2 class="text-lg font-semibold m-0">ERPlora Q1 Production Schedule</h2>
    </div>
    <div class="flex items-center gap-2">
      <button class="flex items-center gap-1 text-sm px-2 py-1 bg-base-100 border border-base-300 rounded-field hover:bg-base-200">Today</button>
      <div class="flex items-center overflow-hidden bg-base-100 border border-base-300 rounded-field">
        <button class="flex items-center justify-center min-w-8 h-8 px-2 text-sm bg-transparent text-base-content/60 border-r border-base-300 hover:bg-base-200">Day</button>
        <button class="flex items-center justify-center min-w-8 h-8 px-2 text-sm bg-primary text-white hover:brightness-90">Week</button>
        <button class="flex items-center justify-center min-w-8 h-8 px-2 text-sm bg-transparent text-base-content/60 hover:bg-base-200">Month</button>
      </div>
      <button class="flex items-center justify-center w-8 h-8 bg-base-100 border border-base-300 rounded-field text-base-content/60 hover:bg-base-200">
        <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 18l-6-6 6-6"/></svg>
      </button>
      <button class="flex items-center justify-center w-8 h-8 bg-base-100 border border-base-300 rounded-field text-base-content/60 hover:bg-base-200">
        <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18l6-6-6-6"/></svg>
      </button>
    </div>
  </div>
  <!-- Body -->
  <div class="flex flex-1 overflow-hidden relative">
    <!-- Task Panel -->
    <div class="flex flex-col shrink-0 w-[280px] border-r border-base-300 bg-base-100 z-10">
      <div class="flex items-center text-sm font-semibold uppercase h-12 px-4 bg-base-200 border-b border-base-300 text-base-content/60 tracking-wide">Tasks</div>
      <div class="flex-1 overflow-y-auto">
        <div class="flex items-center h-10 px-4 border-b border-base-300 font-semibold bg-base-200">
          <svg class="w-3.5 h-3.5 mr-1 text-base-content/60 rotate-90" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18l6-6-6-6"/></svg>
          <span class="flex-1 text-sm truncate">Hydraulic Valve Assembly</span>
        </div>
        <div class="flex items-center h-10 px-4 border-b border-base-300 hover:bg-primary/5">
          <div class="shrink-0 w-6"></div>
          <span class="flex-1 text-sm truncate">Material Procurement</span>
        </div>
        <div class="flex items-center h-10 px-4 border-b border-base-300 bg-primary/10">
          <div class="shrink-0 w-6"></div>
          <span class="flex-1 text-sm truncate">Assembly</span>
        </div>
      </div>
    </div>
    <!-- Chart with bars (simplified) -->
    <div class="flex-1 flex flex-col overflow-hidden relative">
      <div class="flex-1 overflow-auto relative">
        <div class="relative min-w-full" style="width: 1200px;">
          <div class="sticky top-0 z-[5] bg-base-200 border-b border-base-300">
            <div class="flex h-6">
              <div class="flex items-center justify-center text-xs font-semibold whitespace-nowrap shrink-0 border-r border-base-300" style="width: 300px;">January 2026</div>
              <div class="flex items-center justify-center text-xs font-semibold whitespace-nowrap shrink-0 border-r border-base-300" style="width: 300px;">February 2026</div>
            </div>
          </div>
          <!-- Today line -->
          <div class="absolute top-0 bottom-0 w-0.5 bg-error z-[4]" style="left: 412px;">
            <div class="absolute -top-1.5 -left-1 w-2.5 h-2.5 rounded-full bg-error"></div>
          </div>
          <!-- Bars area -->
          <div class="relative z-[3]">
            <div class="relative flex items-center h-10">
              <div class="absolute h-2 bg-base-content/60 rounded-none" style="left: 0; width: 600px;"></div>
            </div>
            <div class="relative flex items-center h-10">
              <div class="absolute flex items-center h-6 bg-success rounded overflow-hidden cursor-pointer hover:shadow-lg" style="left: 0; width: 150px;">
                <div class="absolute top-0 left-0 bottom-0 bg-black/15 rounded-l" style="width: 100%;"></div>
                <span class="relative text-xs font-medium text-white px-2 truncate z-[1]">Procurement</span>
              </div>
            </div>
            <div class="relative flex items-center h-10">
              <div class="absolute flex items-center h-6 bg-primary rounded overflow-hidden cursor-pointer hover:shadow-lg shadow-[0_0_0_2px_var(--color-base-100),0_0_0_4px_var(--color-primary)]" style="left: 300px; width: 150px;">
                <div class="absolute top-0 left-0 bottom-0 bg-black/15 rounded-l" style="width: 65%;"></div>
                <span class="relative text-xs font-medium text-white px-2 truncate z-[1]">Assembly - 65%</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>`}
    js={`// Scroll to today line
function scrollToToday(ganttEl) {
  const todayLine = ganttEl.querySelector('.gantt-today-line');
  const scrollContainer = ganttEl.querySelector('.gantt-chart-scroll');
  if (todayLine && scrollContainer) {
    const offset = parseInt(todayLine.style.left) - scrollContainer.clientWidth / 2;
    scrollContainer.scrollLeft = Math.max(0, offset);
  }
}

// Toggle task group expand/collapse
document.querySelectorAll('.gantt-task-expand').forEach(btn => {
  btn.addEventListener('click', () => {
    btn.classList.toggle('gantt-task-expand-expanded');
    // Hide/show child rows until next group
    let sibling = btn.closest('.gantt-task-row').nextElementSibling;
    while (sibling && !sibling.classList.contains('gantt-task-row-group')) {
      sibling.style.display = sibling.style.display === 'none' ? '' : 'none';
      sibling = sibling.nextElementSibling;
    }
  });
});

// Zoom controls
document.querySelectorAll('.gantt-zoom-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    document.querySelectorAll('.gantt-zoom-btn').forEach(b =>
      b.classList.remove('gantt-zoom-btn-active'));
    btn.classList.add('gantt-zoom-btn-active');
    // Adjust column widths based on zoom level
  });
});`}
  />

  <CodePreview
    title="Task Bar States"
    semantic={`<div class="gantt" style="max-width: 700px;">
  <div class="gantt-body">
    <div class="gantt-tasks" style="width: 180px;">
      <div class="gantt-tasks-header">Status</div>
      <div class="gantt-tasks-body">
        <div class="gantt-task-row"><span class="gantt-task-name">Not Started</span></div>
        <div class="gantt-task-row"><span class="gantt-task-name">In Progress</span></div>
        <div class="gantt-task-row"><span class="gantt-task-name">Completed</span></div>
        <div class="gantt-task-row"><span class="gantt-task-name">Delayed</span></div>
        <div class="gantt-task-row"><span class="gantt-task-name">On Hold</span></div>
        <div class="gantt-task-row"><span class="gantt-task-name">Group Bar</span></div>
      </div>
    </div>
    <div class="gantt-chart">
      <div class="gantt-chart-scroll">
        <div class="gantt-chart-inner" style="width: 520px;">
          <div class="gantt-header">
            <div class="gantt-header-row">
              <div class="gantt-header-cell" style="width: 130px;">Week 1</div>
              <div class="gantt-header-cell" style="width: 130px;">Week 2</div>
              <div class="gantt-header-cell" style="width: 130px;">Week 3</div>
              <div class="gantt-header-cell" style="width: 130px;">Week 4</div>
            </div>
          </div>
          <div class="gantt-bars">
            <div class="gantt-bar-row">
              <div class="gantt-bar gantt-bar-not-started" style="left: 20px; width: 200px;">
                <span class="gantt-bar-label">Not Started</span>
              </div>
            </div>
            <div class="gantt-bar-row">
              <div class="gantt-bar gantt-bar-in-progress" style="left: 20px; width: 250px;">
                <div class="gantt-bar-progress" style="width: 45%;"></div>
                <span class="gantt-bar-label">In Progress - 45%</span>
              </div>
            </div>
            <div class="gantt-bar-row">
              <div class="gantt-bar gantt-bar-completed" style="left: 20px; width: 200px;">
                <div class="gantt-bar-progress" style="width: 100%;"></div>
                <span class="gantt-bar-label">Completed</span>
              </div>
            </div>
            <div class="gantt-bar-row">
              <div class="gantt-bar gantt-bar-delayed" style="left: 20px; width: 300px;">
                <div class="gantt-bar-progress" style="width: 70%;"></div>
                <span class="gantt-bar-label">Delayed - 70%</span>
              </div>
            </div>
            <div class="gantt-bar-row">
              <div class="gantt-bar gantt-bar-on-hold" style="left: 20px; width: 180px;">
                <span class="gantt-bar-label">On Hold</span>
              </div>
            </div>
            <div class="gantt-bar-row">
              <div class="gantt-bar gantt-bar-group" style="left: 20px; width: 400px;"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>`}
    tailwind={`<div class="flex flex-col gap-3 p-4">
  <div class="flex items-center gap-3">
    <span class="text-sm w-24 shrink-0">Not Started</span>
    <div class="h-6 rounded bg-base-content/30 flex items-center px-2" style="width: 200px;">
      <span class="text-xs font-medium text-white">Not Started</span>
    </div>
  </div>
  <div class="flex items-center gap-3">
    <span class="text-sm w-24 shrink-0">In Progress</span>
    <div class="h-6 rounded bg-primary flex items-center px-2 relative overflow-hidden" style="width: 250px;">
      <div class="absolute top-0 left-0 bottom-0 bg-black/15 rounded-l" style="width: 45%;"></div>
      <span class="relative text-xs font-medium text-white z-[1]">In Progress - 45%</span>
    </div>
  </div>
  <div class="flex items-center gap-3">
    <span class="text-sm w-24 shrink-0">Completed</span>
    <div class="h-6 rounded bg-success flex items-center px-2 relative overflow-hidden" style="width: 200px;">
      <div class="absolute top-0 left-0 bottom-0 bg-black/15 rounded-l" style="width: 100%;"></div>
      <span class="relative text-xs font-medium text-white z-[1]">Completed</span>
    </div>
  </div>
  <div class="flex items-center gap-3">
    <span class="text-sm w-24 shrink-0">Delayed</span>
    <div class="h-6 rounded bg-error flex items-center px-2 relative overflow-hidden" style="width: 300px;">
      <div class="absolute top-0 left-0 bottom-0 bg-black/15 rounded-l" style="width: 70%;"></div>
      <span class="relative text-xs font-medium text-white z-[1]">Delayed - 70%</span>
    </div>
  </div>
  <div class="flex items-center gap-3">
    <span class="text-sm w-24 shrink-0">On Hold</span>
    <div class="h-6 rounded bg-warning flex items-center px-2" style="width: 180px;">
      <span class="text-xs font-medium text-white">On Hold</span>
    </div>
  </div>
  <div class="flex items-center gap-3">
    <span class="text-sm w-24 shrink-0">Group</span>
    <div class="h-2 bg-base-content/60" style="width: 400px;"></div>
  </div>
</div>`}
    js={`// No JS needed — bar states are CSS-only classes`}
  />

  <CodePreview
    title="Milestones and Today Line"
    semantic={`<div class="gantt" style="max-width: 700px;">
  <div class="gantt-body">
    <div class="gantt-tasks" style="width: 180px;">
      <div class="gantt-tasks-header">Milestones</div>
      <div class="gantt-tasks-body">
        <div class="gantt-task-row"><span class="gantt-task-name">Design Review</span></div>
        <div class="gantt-task-row"><span class="gantt-task-name">Prototype Approved</span></div>
        <div class="gantt-task-row"><span class="gantt-task-name">Production Start</span></div>
        <div class="gantt-task-row"><span class="gantt-task-name">Final Delivery</span></div>
      </div>
    </div>
    <div class="gantt-chart">
      <div class="gantt-chart-scroll">
        <div class="gantt-chart-inner" style="width: 520px;">
          <div class="gantt-header">
            <div class="gantt-header-row">
              <div class="gantt-header-cell" style="width: 130px;">Jan</div>
              <div class="gantt-header-cell gantt-header-cell-today" style="width: 130px;">Feb</div>
              <div class="gantt-header-cell" style="width: 130px;">Mar</div>
              <div class="gantt-header-cell" style="width: 130px;">Apr</div>
            </div>
          </div>
          <!-- Today Line -->
          <div class="gantt-today-line" style="left: 165px;"></div>
          <div class="gantt-bars">
            <!-- Design Review (completed milestone) -->
            <div class="gantt-bar-row">
              <div class="gantt-milestone gantt-milestone-completed" style="left: 65px; top: 12px;"></div>
            </div>
            <!-- Prototype Approved (completed milestone) -->
            <div class="gantt-bar-row">
              <div class="gantt-milestone gantt-milestone-completed" style="left: 130px; top: 12px;"></div>
            </div>
            <!-- Production Start (upcoming milestone) -->
            <div class="gantt-bar-row">
              <div class="gantt-milestone" style="left: 195px; top: 12px;"></div>
            </div>
            <!-- Final Delivery (upcoming milestone) -->
            <div class="gantt-bar-row">
              <div class="gantt-milestone gantt-milestone-delayed" style="left: 390px; top: 12px;"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>`}
    tailwind={`<div class="flex flex-col w-full overflow-hidden bg-base-100 border border-base-300 rounded-box" style="max-width: 700px;">
  <div class="flex flex-1 overflow-hidden relative">
    <div class="flex flex-col shrink-0 w-[180px] border-r border-base-300 bg-base-100">
      <div class="flex items-center text-sm font-semibold uppercase h-6 px-4 bg-base-200 border-b border-base-300 text-base-content/60 tracking-wide">Milestones</div>
      <div class="flex items-center h-10 px-4 border-b border-base-300 text-sm">Design Review</div>
      <div class="flex items-center h-10 px-4 border-b border-base-300 text-sm">Prototype Approved</div>
      <div class="flex items-center h-10 px-4 border-b border-base-300 text-sm">Production Start</div>
      <div class="flex items-center h-10 px-4 border-b border-base-300 text-sm">Final Delivery</div>
    </div>
    <div class="flex-1 flex flex-col overflow-hidden relative">
      <div class="flex-1 overflow-auto relative">
        <div class="relative" style="width: 520px;">
          <div class="sticky top-0 z-[5] bg-base-200 border-b border-base-300">
            <div class="flex h-6">
              <div class="flex items-center justify-center text-xs font-medium whitespace-nowrap shrink-0 border-r border-base-300" style="width: 130px;">Jan</div>
              <div class="flex items-center justify-center text-xs font-medium whitespace-nowrap shrink-0 border-r border-base-300 bg-error/10 text-error" style="width: 130px;">Feb</div>
              <div class="flex items-center justify-center text-xs font-medium whitespace-nowrap shrink-0 border-r border-base-300" style="width: 130px;">Mar</div>
              <div class="flex items-center justify-center text-xs font-medium whitespace-nowrap shrink-0 border-r border-base-300" style="width: 130px;">Apr</div>
            </div>
          </div>
          <!-- Today line -->
          <div class="absolute top-0 bottom-0 w-0.5 bg-error z-[4]" style="left: 165px;">
            <div class="absolute -top-1.5 -left-1 w-2.5 h-2.5 rounded-full bg-error"></div>
          </div>
          <!-- Milestones -->
          <div class="relative z-[3]">
            <div class="relative flex items-center h-10">
              <div class="absolute w-4 h-4 bg-success rotate-45 cursor-pointer hover:shadow-lg hover:scale-120" style="left: 65px;"></div>
            </div>
            <div class="relative flex items-center h-10">
              <div class="absolute w-4 h-4 bg-success rotate-45 cursor-pointer hover:shadow-lg hover:scale-120" style="left: 130px;"></div>
            </div>
            <div class="relative flex items-center h-10">
              <div class="absolute w-4 h-4 bg-warning rotate-45 cursor-pointer hover:shadow-lg hover:scale-120" style="left: 195px;"></div>
            </div>
            <div class="relative flex items-center h-10">
              <div class="absolute w-4 h-4 bg-error rotate-45 cursor-pointer hover:shadow-lg hover:scale-120" style="left: 390px;"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>`}
    js={`// Show tooltip on milestone hover
document.querySelectorAll('.gantt-milestone').forEach(ms => {
  ms.addEventListener('mouseenter', (e) => {
    const tooltip = document.querySelector('.gantt-tooltip');
    if (!tooltip) return;
    tooltip.classList.add('gantt-tooltip-visible');
    tooltip.style.left = e.pageX + 'px';
    tooltip.style.top = (e.pageY - 40) + 'px';
  });
  ms.addEventListener('mouseleave', () => {
    const tooltip = document.querySelector('.gantt-tooltip');
    if (tooltip) tooltip.classList.remove('gantt-tooltip-visible');
  });
});`}
  />

  <CodePreview
    title="Compact Gantt"
    semantic={`<div class="gantt gantt-compact" style="max-width: 700px;">
  <div class="gantt-toolbar">
    <div class="gantt-toolbar-start">
      <h2 class="gantt-title">ERPlora Sprint Overview</h2>
    </div>
    <div class="gantt-toolbar-end">
      <button class="gantt-today-btn">Today</button>
    </div>
  </div>
  <div class="gantt-body">
    <div class="gantt-tasks" style="width: 160px;">
      <div class="gantt-tasks-header">Tasks</div>
      <div class="gantt-tasks-body">
        <div class="gantt-task-row"><span class="gantt-task-name">Design specs</span></div>
        <div class="gantt-task-row"><span class="gantt-task-name">Prototype build</span></div>
        <div class="gantt-task-row"><span class="gantt-task-name">Testing</span></div>
        <div class="gantt-task-row"><span class="gantt-task-name">Documentation</span></div>
        <div class="gantt-task-row"><span class="gantt-task-name">Release</span></div>
      </div>
    </div>
    <div class="gantt-chart">
      <div class="gantt-chart-scroll">
        <div class="gantt-chart-inner" style="width: 540px;">
          <div class="gantt-header">
            <div class="gantt-header-row">
              <div class="gantt-header-cell" style="width: 108px;">Mon</div>
              <div class="gantt-header-cell" style="width: 108px;">Tue</div>
              <div class="gantt-header-cell gantt-header-cell-today" style="width: 108px;">Wed</div>
              <div class="gantt-header-cell" style="width: 108px;">Thu</div>
              <div class="gantt-header-cell" style="width: 108px;">Fri</div>
            </div>
          </div>
          <div class="gantt-today-line" style="left: 270px;"></div>
          <div class="gantt-bars">
            <div class="gantt-bar-row">
              <div class="gantt-bar gantt-bar-completed" style="left: 10px; width: 200px;">
                <div class="gantt-bar-progress" style="width: 100%;"></div>
                <span class="gantt-bar-label">Design</span>
              </div>
            </div>
            <div class="gantt-bar-row">
              <div class="gantt-bar gantt-bar-in-progress" style="left: 108px; width: 216px;">
                <div class="gantt-bar-progress" style="width: 60%;"></div>
                <span class="gantt-bar-label">Prototype</span>
              </div>
            </div>
            <div class="gantt-bar-row">
              <div class="gantt-bar gantt-bar-not-started" style="left: 216px; width: 216px;">
                <span class="gantt-bar-label">Testing</span>
              </div>
            </div>
            <div class="gantt-bar-row">
              <div class="gantt-bar gantt-bar-not-started" style="left: 324px; width: 108px;">
                <span class="gantt-bar-label">Docs</span>
              </div>
            </div>
            <div class="gantt-bar-row">
              <div class="gantt-milestone" style="left: 430px; top: 7px;"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>`}
    tailwind={`<div class="flex flex-col w-full overflow-hidden bg-base-100 border border-base-300 rounded-box" style="max-width: 700px;">
  <!-- Toolbar -->
  <div class="flex items-center justify-between gap-4 px-4 py-2 bg-base-200 border-b border-base-300 shrink-0">
    <div class="flex items-center gap-2">
      <h2 class="text-base font-semibold m-0">ERPlora Sprint Overview</h2>
    </div>
    <div class="flex items-center gap-2">
      <button class="flex items-center gap-1 text-xs px-2 py-1 bg-base-100 border border-base-300 rounded-field hover:bg-base-200">Today</button>
    </div>
  </div>
  <!-- Body -->
  <div class="flex flex-1 overflow-hidden relative">
    <!-- Task Panel -->
    <div class="flex flex-col shrink-0 w-40 border-r border-base-300 bg-base-100 z-10">
      <div class="flex items-center text-xs font-semibold uppercase h-10 px-3 bg-base-200 border-b border-base-300 text-base-content/60 tracking-wide">Tasks</div>
      <div class="flex-1 overflow-y-auto">
        <div class="flex items-center h-8 px-3 border-b border-base-300 hover:bg-primary/5">
          <span class="flex-1 text-xs truncate">Design specs</span>
        </div>
        <div class="flex items-center h-8 px-3 border-b border-base-300 hover:bg-primary/5">
          <span class="flex-1 text-xs truncate">Prototype build</span>
        </div>
        <div class="flex items-center h-8 px-3 border-b border-base-300 hover:bg-primary/5">
          <span class="flex-1 text-xs truncate">Testing</span>
        </div>
        <div class="flex items-center h-8 px-3 border-b border-base-300 hover:bg-primary/5">
          <span class="flex-1 text-xs truncate">Documentation</span>
        </div>
        <div class="flex items-center h-8 px-3 border-b border-base-300 hover:bg-primary/5">
          <span class="flex-1 text-xs truncate">Release</span>
        </div>
      </div>
    </div>
    <!-- Chart Area -->
    <div class="flex-1 flex flex-col overflow-hidden relative">
      <div class="flex-1 overflow-auto relative">
        <div class="relative min-w-full" style="width: 540px;">
          <!-- Header -->
          <div class="sticky top-0 z-5 bg-base-200 border-b border-base-300">
            <div class="flex h-10">
              <div class="flex items-center justify-center text-xs font-medium whitespace-nowrap shrink-0 border-r border-base-300 text-base-content/60" style="width: 108px;">Mon</div>
              <div class="flex items-center justify-center text-xs font-medium whitespace-nowrap shrink-0 border-r border-base-300 text-base-content/60" style="width: 108px;">Tue</div>
              <div class="flex items-center justify-center text-xs font-medium whitespace-nowrap shrink-0 border-r border-base-300 bg-error/10 text-error" style="width: 108px;">Wed</div>
              <div class="flex items-center justify-center text-xs font-medium whitespace-nowrap shrink-0 border-r border-base-300 text-base-content/60" style="width: 108px;">Thu</div>
              <div class="flex items-center justify-center text-xs font-medium whitespace-nowrap shrink-0 border-r border-base-300 text-base-content/60" style="width: 108px;">Fri</div>
            </div>
          </div>
          <!-- Today line -->
          <div class="absolute top-0 bottom-0 w-0.5 bg-error z-4" style="left: 270px;">
            <div class="absolute -top-1.5 -left-1 w-2.5 h-2.5 rounded-full bg-error"></div>
          </div>
          <!-- Bars -->
          <div class="relative z-3">
            <!-- Design specs (completed) -->
            <div class="relative flex items-center h-8">
              <div class="absolute flex items-center rounded overflow-hidden cursor-pointer bg-success hover:shadow-lg" style="left: 10px; width: 200px; height: 18px;">
                <div class="absolute top-0 left-0 bottom-0 bg-black/15 rounded-l" style="width: 100%;"></div>
                <span class="relative text-white px-1.5 truncate z-1" style="font-size: 10px;">Design</span>
              </div>
            </div>
            <!-- Prototype build (in progress) -->
            <div class="relative flex items-center h-8">
              <div class="absolute flex items-center rounded overflow-hidden cursor-pointer bg-primary hover:shadow-lg" style="left: 108px; width: 216px; height: 18px;">
                <div class="absolute top-0 left-0 bottom-0 bg-black/15 rounded-l" style="width: 60%;"></div>
                <span class="relative text-white px-1.5 truncate z-1" style="font-size: 10px;">Prototype</span>
              </div>
            </div>
            <!-- Testing (not started) -->
            <div class="relative flex items-center h-8">
              <div class="absolute flex items-center rounded overflow-hidden cursor-pointer bg-base-content/30 hover:shadow-lg" style="left: 216px; width: 216px; height: 18px;">
                <span class="relative text-white px-1.5 truncate z-1" style="font-size: 10px;">Testing</span>
              </div>
            </div>
            <!-- Documentation (not started) -->
            <div class="relative flex items-center h-8">
              <div class="absolute flex items-center rounded overflow-hidden cursor-pointer bg-base-content/30 hover:shadow-lg" style="left: 324px; width: 108px; height: 18px;">
                <span class="relative text-white px-1.5 truncate z-1" style="font-size: 10px;">Docs</span>
              </div>
            </div>
            <!-- Release (milestone) -->
            <div class="relative flex items-center h-8">
              <div class="absolute w-3 h-3 bg-warning rotate-45 cursor-pointer hover:shadow-lg hover:scale-120" style="left: 430px;"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>`}
    js={`// No JS needed — compact is a CSS-only size variant`}
  />

  <!-- Classes Reference -->
  <div class="overflow-x-auto mt-10">
    <h2 class="text-xl font-semibold mb-4">Classes Reference</h2>
    <table class="table w-full text-sm">
      <thead>
        <tr>
          <th>Class</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr><td><code>.gantt</code></td><td>Root container with CSS variables</td></tr>
        <tr><td><code>.gantt-compact</code></td><td>Compact variant (32px rows, 18px bars)</td></tr>
        <tr><td><code>.gantt-readonly</code></td><td>Disables bar dragging and resize handles</td></tr>
        <tr><td><code>.gantt-toolbar</code></td><td>Top toolbar with title and controls</td></tr>
        <tr><td><code>.gantt-toolbar-start</code></td><td>Left section of toolbar</td></tr>
        <tr><td><code>.gantt-toolbar-end</code></td><td>Right section of toolbar</td></tr>
        <tr><td><code>.gantt-title</code></td><td>Chart title text</td></tr>
        <tr><td><code>.gantt-zoom-controls</code></td><td>Segmented zoom level buttons</td></tr>
        <tr><td><code>.gantt-zoom-btn</code></td><td>Individual zoom button</td></tr>
        <tr><td><code>.gantt-zoom-btn-active</code></td><td>Active zoom level (primary bg)</td></tr>
        <tr><td><code>.gantt-nav-btn</code></td><td>Previous/next navigation button</td></tr>
        <tr><td><code>.gantt-today-btn</code></td><td>Scroll-to-today button</td></tr>
        <tr><td><code>.gantt-body</code></td><td>Main body (flexbox: tasks + chart)</td></tr>
        <tr><td><code>.gantt-tasks</code></td><td>Left task panel (fixed width)</td></tr>
        <tr><td><code>.gantt-tasks-header</code></td><td>Task panel column header</td></tr>
        <tr><td><code>.gantt-tasks-body</code></td><td>Scrollable task list area</td></tr>
        <tr><td><code>.gantt-task-row</code></td><td>Single task row in panel</td></tr>
        <tr><td><code>.gantt-task-row-selected</code></td><td>Selected row highlight</td></tr>
        <tr><td><code>.gantt-task-row-group</code></td><td>Group/parent row (bold, bg)</td></tr>
        <tr><td><code>.gantt-task-indent</code></td><td>Indentation spacer for child tasks</td></tr>
        <tr><td><code>.gantt-task-expand</code></td><td>Expand/collapse toggle button</td></tr>
        <tr><td><code>.gantt-task-expand-expanded</code></td><td>Rotated chevron (expanded state)</td></tr>
        <tr><td><code>.gantt-task-name</code></td><td>Task name text (truncated)</td></tr>
        <tr><td><code>.gantt-chart</code></td><td>Right chart area container</td></tr>
        <tr><td><code>.gantt-chart-scroll</code></td><td>Scrollable chart viewport</td></tr>
        <tr><td><code>.gantt-chart-inner</code></td><td>Inner content (set width for total timeline)</td></tr>
        <tr><td><code>.gantt-header</code></td><td>Sticky timeline header</td></tr>
        <tr><td><code>.gantt-header-row</code></td><td>Header row (primary or secondary)</td></tr>
        <tr><td><code>.gantt-header-row-primary</code></td><td>Top-level row with border-bottom</td></tr>
        <tr><td><code>.gantt-header-cell</code></td><td>Individual time period cell</td></tr>
        <tr><td><code>.gantt-header-cell-primary</code></td><td>Bold cell text</td></tr>
        <tr><td><code>.gantt-header-cell-today</code></td><td>Highlighted cell for today</td></tr>
        <tr><td><code>.gantt-header-cell-weekend</code></td><td>Weekend background tint</td></tr>
        <tr><td><code>.gantt-grid</code></td><td>Background grid overlay</td></tr>
        <tr><td><code>.gantt-grid-row</code></td><td>Grid row with bottom border</td></tr>
        <tr><td><code>.gantt-grid-cell</code></td><td>Grid column cell</td></tr>
        <tr><td><code>.gantt-grid-cell-weekend</code></td><td>Weekend column background</td></tr>
        <tr><td><code>.gantt-today-line</code></td><td>Vertical red line marking today</td></tr>
        <tr><td><code>.gantt-bars</code></td><td>Container for all task bars</td></tr>
        <tr><td><code>.gantt-bar-row</code></td><td>Row wrapper for a bar</td></tr>
        <tr><td><code>.gantt-bar</code></td><td>Task bar (absolute positioned)</td></tr>
        <tr><td><code>.gantt-bar-not-started</code></td><td>Gray bar for not-started tasks</td></tr>
        <tr><td><code>.gantt-bar-in-progress</code></td><td>Primary color bar</td></tr>
        <tr><td><code>.gantt-bar-completed</code></td><td>Green bar for completed tasks</td></tr>
        <tr><td><code>.gantt-bar-delayed</code></td><td>Red bar for delayed tasks</td></tr>
        <tr><td><code>.gantt-bar-on-hold</code></td><td>Warning/yellow bar for on-hold tasks</td></tr>
        <tr><td><code>.gantt-bar-group</code></td><td>Thin group/summary bar with arrow ends</td></tr>
        <tr><td><code>.gantt-bar-selected</code></td><td>Selected bar with ring outline</td></tr>
        <tr><td><code>.gantt-bar-dragging</code></td><td>Semi-transparent during drag</td></tr>
        <tr><td><code>.gantt-bar-progress</code></td><td>Dark overlay showing progress %</td></tr>
        <tr><td><code>.gantt-bar-label</code></td><td>White text label inside bar</td></tr>
        <tr><td><code>.gantt-bar-handle</code></td><td>Resize handle (visible on hover)</td></tr>
        <tr><td><code>.gantt-bar-handle-start</code></td><td>Left resize handle</td></tr>
        <tr><td><code>.gantt-bar-handle-end</code></td><td>Right resize handle</td></tr>
        <tr><td><code>.gantt-milestone</code></td><td>Diamond-shaped milestone marker</td></tr>
        <tr><td><code>.gantt-milestone-completed</code></td><td>Green completed milestone</td></tr>
        <tr><td><code>.gantt-milestone-delayed</code></td><td>Red delayed milestone</td></tr>
        <tr><td><code>.gantt-resizer</code></td><td>Draggable column resizer between panels</td></tr>
        <tr><td><code>.gantt-tooltip</code></td><td>Hover tooltip container</td></tr>
        <tr><td><code>.gantt-tooltip-visible</code></td><td>Shows the tooltip</td></tr>
        <tr><td><code>.gantt-dependencies</code></td><td>SVG container for dependency arrows</td></tr>
        <tr><td><code>.gantt-dependency</code></td><td>SVG path for dependency line</td></tr>
        <tr><td><code>.gantt-dependency-arrow</code></td><td>SVG arrowhead for dependency</td></tr>
        <tr><td><code>.gantt-empty</code></td><td>Empty state container</td></tr>
      </tbody>
    </table>
  </div>
</DocsLayout>
