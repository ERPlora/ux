<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>Time Clock - UX Library</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap-grid.min.css">
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <script src="../components/ux-core.js"></script>
  <script src="../components/ux-button.js"></script>
  <script src="../components/ux-navbar.js"></script>
  <script src="../components/ux-content.js"></script>
  <script src="../components/ux-time-clock.js"></script>
  <script src="../components/ux-code-block.js"></script>
  <style>
    .demo-section { margin-bottom: var(--ux-space-xl); }
    .demo-section h3 {
      font-size: var(--ux-font-size-lg);
      font-weight: 600;
      margin-bottom: var(--ux-space-md);
      color: var(--ux-text);
    }
    .demo-section p {
      font-size: var(--ux-font-size-md);
      color: var(--ux-text-secondary);
      margin-bottom: var(--ux-space-md);
    }
    .demo-box {
      background: var(--ux-surface-secondary);
      border-radius: var(--ux-border-radius-lg);
      padding: var(--ux-space-lg);
      margin-bottom: var(--ux-space-md);
    }
    .demo-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: var(--ux-space-lg);
    }
  </style>
</head>
<body class="ux-app">

  <div class="ux-content" style="padding: var(--ux-space-lg);">
    <h1 style="margin-bottom: var(--ux-space-sm);">Time Clock</h1>
    <p style="color: var(--ux-text-secondary); margin-bottom: var(--ux-space-xl);">Employee time tracking component with clock in/out, break management, and history.</p>

    <!-- Basic Time Clock -->
    <section class="demo-section">
      <h3>Basic Time Clock</h3>
      <p>Full-featured time clock with current time display, status indicator, work counters, action buttons, and entry history.</p>
      <div class="demo-box">
        <div class="row justify-content-center">
          <div class="col-12 col-md-8 col-lg-5">
            <div x-data="uxTimeClock()"
                 class="ux-time-clock"
                 :class="{
                   'ux-time-clock--clocked-in': isClockedIn && !isOnBreak,
                   'ux-time-clock--on-break': isOnBreak
                 }">

              <!-- Time Display -->
              <div class="ux-time-clock__display">
                <h2 class="ux-time-clock__time">
                  <span x-text="formattedTime"></span>
                  <span class="ux-time-clock__time-seconds" x-show="showSeconds" x-text="formattedSeconds"></span>
                </h2>
                <p class="ux-time-clock__date" x-text="formattedDate"></p>
                <div class="ux-time-clock__status">
                  <span class="ux-time-clock__status-dot"></span>
                  <span x-text="currentStatus"></span>
                </div>
              </div>

              <!-- Work Counter -->
              <div class="ux-time-clock__counter">
                <div class="ux-time-clock__counter-item">
                  <div class="ux-time-clock__counter-value" x-text="totalWorkedTime"></div>
                  <div class="ux-time-clock__counter-label">Worked</div>
                </div>
                <div class="ux-time-clock__counter-item">
                  <div class="ux-time-clock__counter-value" x-text="totalBreakTime"></div>
                  <div class="ux-time-clock__counter-label">Break</div>
                </div>
              </div>

              <!-- Actions -->
              <div class="ux-time-clock__actions">
                <template x-if="!isClockedIn">
                  <button class="ux-button ux-color-success" @click="clockIn()">
                    <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="margin-right: 8px;">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"/>
                    </svg>
                    Clock In
                  </button>
                </template>
                <template x-if="isClockedIn && !isOnBreak">
                  <button class="ux-button ux-color-warning" @click="startBreak()">
                    <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="margin-right: 8px;">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                    Start Break
                  </button>
                </template>
                <template x-if="isOnBreak">
                  <button class="ux-button ux-color-primary" @click="endBreak()">
                    <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="margin-right: 8px;">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"/>
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                    End Break
                  </button>
                </template>
                <template x-if="isClockedIn">
                  <button class="ux-button ux-color-danger" @click="clockOut()">
                    <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="margin-right: 8px;">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
                    </svg>
                    Clock Out
                  </button>
                </template>
              </div>

              <!-- History -->
              <div class="ux-time-clock__history" x-show="entries.length > 0">
                <h4 class="ux-time-clock__history-title">Today's Entries</h4>
                <ul class="ux-time-clock__history-list">
                  <template x-for="entry in entries" :key="entry.time.getTime()">
                    <li class="ux-time-clock__history-item">
                      <span class="ux-time-clock__history-type">
                        <span class="ux-time-clock__history-icon" :class="'ux-time-clock__history-icon--' + entry.type">
                          <template x-if="entry.type === 'clock-in'">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14"/>
                            </svg>
                          </template>
                          <template x-if="entry.type === 'clock-out'">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7"/>
                            </svg>
                          </template>
                          <template x-if="entry.type === 'break-start'">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6m4-6v6"/>
                            </svg>
                          </template>
                          <template x-if="entry.type === 'break-end'">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"/>
                            </svg>
                          </template>
                        </span>
                        <span x-text="entry.label"></span>
                      </span>
                      <span class="ux-time-clock__history-time" x-text="formatEntryTime(entry.time)"></span>
                    </li>
                  </template>
                </ul>
              </div>

              <!-- Empty State -->
              <div class="ux-time-clock__history" x-show="entries.length === 0">
                <div class="ux-time-clock__history-empty">No entries yet today</div>
              </div>

              <!-- Confirmation Dialog -->
              <template x-teleport="body">
                <div class="ux-time-clock__confirm" :class="confirmOpen && 'ux-time-clock__confirm--open'" @click.self="confirmNo()">
                  <div class="ux-time-clock__confirm-dialog">
                    <div class="ux-time-clock__confirm-content">
                      <h3 class="ux-time-clock__confirm-title" x-text="confirmTitle"></h3>
                      <p class="ux-time-clock__confirm-message" x-text="confirmMessage"></p>
                    </div>
                    <div class="ux-time-clock__confirm-buttons">
                      <button class="ux-time-clock__confirm-button" @click="confirmNo()">Cancel</button>
                      <button class="ux-time-clock__confirm-button ux-time-clock__confirm-button--primary"
                              :class="confirmIsDanger && 'ux-time-clock__confirm-button--danger'"
                              @click="confirmYes()">Confirm</button>
                    </div>
                  </div>
                </div>
              </template>
            </div>
          </div>
        </div>
      </div>
      <pre class="ux-code-block" data-lang="html">&lt;div x-data="uxTimeClock()"
     class="ux-time-clock"
     :class="{
       'ux-time-clock--clocked-in': isClockedIn && !isOnBreak,
       'ux-time-clock--on-break': isOnBreak
     }"&gt;

  &lt;!-- Time Display --&gt;
  &lt;div class="ux-time-clock__display"&gt;
    &lt;h2 class="ux-time-clock__time"&gt;
      &lt;span x-text="formattedTime"&gt;&lt;/span&gt;
      &lt;span class="ux-time-clock__time-seconds" x-text="formattedSeconds"&gt;&lt;/span&gt;
    &lt;/h2&gt;
    &lt;p class="ux-time-clock__date" x-text="formattedDate"&gt;&lt;/p&gt;
    &lt;div class="ux-time-clock__status"&gt;
      &lt;span class="ux-time-clock__status-dot"&gt;&lt;/span&gt;
      &lt;span x-text="currentStatus"&gt;&lt;/span&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;!-- Work Counter --&gt;
  &lt;div class="ux-time-clock__counter"&gt;
    &lt;div class="ux-time-clock__counter-item"&gt;
      &lt;div class="ux-time-clock__counter-value" x-text="totalWorkedTime"&gt;&lt;/div&gt;
      &lt;div class="ux-time-clock__counter-label"&gt;Worked&lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="ux-time-clock__counter-item"&gt;
      &lt;div class="ux-time-clock__counter-value" x-text="totalBreakTime"&gt;&lt;/div&gt;
      &lt;div class="ux-time-clock__counter-label"&gt;Break&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;!-- Actions --&gt;
  &lt;div class="ux-time-clock__actions"&gt;
    &lt;button class="ux-button ux-color-success" @click="clockIn()"&gt;Clock In&lt;/button&gt;
    &lt;button class="ux-button ux-color-warning" @click="startBreak()"&gt;Start Break&lt;/button&gt;
    &lt;button class="ux-button ux-color-primary" @click="endBreak()"&gt;End Break&lt;/button&gt;
    &lt;button class="ux-button ux-color-danger" @click="clockOut()"&gt;Clock Out&lt;/button&gt;
  &lt;/div&gt;

  &lt;!-- History --&gt;
  &lt;div class="ux-time-clock__history"&gt;
    &lt;h4 class="ux-time-clock__history-title"&gt;Today's Entries&lt;/h4&gt;
    &lt;ul class="ux-time-clock__history-list"&gt;
      &lt;template x-for="entry in entries"&gt;
        &lt;li class="ux-time-clock__history-item"&gt;...&lt;/li&gt;
      &lt;/template&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre>
    </section>

    <!-- Glass Variant -->
    <section class="demo-section">
      <h3>Glass Variant</h3>
      <p>Use <code>.ux-time-clock--glass</code> for the iOS-style glass morphism effect.</p>
      <div class="demo-box" style="background: linear-gradient(135deg, var(--ux-primary) 0%, var(--ux-cyan-500) 100%); min-height: 500px;">
        <div class="row justify-content-center">
          <div class="col-12 col-md-8 col-lg-5">
            <div x-data="uxTimeClock({ confirmActions: false })"
                 class="ux-time-clock ux-time-clock--glass"
                 :class="{
                   'ux-time-clock--clocked-in': isClockedIn && !isOnBreak,
                   'ux-time-clock--on-break': isOnBreak
                 }">
              <div class="ux-time-clock__display">
                <h2 class="ux-time-clock__time">
                  <span x-text="formattedTime"></span>
                  <span class="ux-time-clock__time-seconds" x-text="formattedSeconds"></span>
                </h2>
                <p class="ux-time-clock__date" x-text="formattedDate"></p>
                <div class="ux-time-clock__status">
                  <span class="ux-time-clock__status-dot"></span>
                  <span x-text="currentStatus"></span>
                </div>
              </div>
              <div class="ux-time-clock__counter">
                <div class="ux-time-clock__counter-item">
                  <div class="ux-time-clock__counter-value" x-text="totalWorkedTime"></div>
                  <div class="ux-time-clock__counter-label">Worked</div>
                </div>
                <div class="ux-time-clock__counter-item">
                  <div class="ux-time-clock__counter-value" x-text="totalBreakTime"></div>
                  <div class="ux-time-clock__counter-label">Break</div>
                </div>
              </div>
              <div class="ux-time-clock__actions">
                <template x-if="!isClockedIn">
                  <button class="ux-button ux-color-success" @click="clockIn()">Clock In</button>
                </template>
                <template x-if="isClockedIn && !isOnBreak">
                  <button class="ux-button ux-color-warning" @click="startBreak()">Start Break</button>
                </template>
                <template x-if="isOnBreak">
                  <button class="ux-button ux-color-primary" @click="endBreak()">End Break</button>
                </template>
                <template x-if="isClockedIn">
                  <button class="ux-button ux-color-danger" @click="clockOut()">Clock Out</button>
                </template>
              </div>
            </div>
          </div>
        </div>
      </div>
      <pre class="ux-code-block" data-lang="html">&lt;div class="ux-time-clock ux-time-clock--glass"&gt;
  ...
&lt;/div&gt;</pre>
    </section>

    <!-- Compact Variant -->
    <section class="demo-section">
      <h3>Compact Variant</h3>
      <p>Use <code>.ux-time-clock--compact</code> for a smaller version suitable for sidebars or dashboards.</p>
      <div class="demo-box">
        <div class="row justify-content-center">
          <div class="col-12 col-md-6 col-lg-4">
            <div x-data="uxTimeClock({ showSeconds: false, confirmActions: false })"
                 class="ux-time-clock ux-time-clock--compact"
                 :class="{
                   'ux-time-clock--clocked-in': isClockedIn && !isOnBreak,
                   'ux-time-clock--on-break': isOnBreak
                 }">
              <div class="ux-time-clock__display">
                <h2 class="ux-time-clock__time" x-text="formattedTime"></h2>
                <div class="ux-time-clock__status">
                  <span class="ux-time-clock__status-dot"></span>
                  <span x-text="currentStatus"></span>
                </div>
              </div>
              <div class="ux-time-clock__counter">
                <div class="ux-time-clock__counter-item">
                  <div class="ux-time-clock__counter-value" x-text="totalWorkedTime"></div>
                  <div class="ux-time-clock__counter-label">Worked</div>
                </div>
                <div class="ux-time-clock__counter-item">
                  <div class="ux-time-clock__counter-value" x-text="totalBreakTime"></div>
                  <div class="ux-time-clock__counter-label">Break</div>
                </div>
              </div>
              <div class="ux-time-clock__actions">
                <template x-if="!isClockedIn">
                  <button class="ux-button ux-button--sm ux-color-success" @click="clockIn()">Clock In</button>
                </template>
                <template x-if="isClockedIn && !isOnBreak">
                  <button class="ux-button ux-button--sm ux-color-warning" @click="startBreak()">Break</button>
                </template>
                <template x-if="isOnBreak">
                  <button class="ux-button ux-button--sm ux-color-primary" @click="endBreak()">Resume</button>
                </template>
                <template x-if="isClockedIn">
                  <button class="ux-button ux-button--sm ux-color-danger" @click="clockOut()">Clock Out</button>
                </template>
              </div>
            </div>
          </div>
        </div>
      </div>
      <pre class="ux-code-block" data-lang="html">&lt;div x-data="uxTimeClock({ showSeconds: false, confirmActions: false })"
     class="ux-time-clock ux-time-clock--compact"&gt;
  ...
&lt;/div&gt;</pre>
    </section>

    <!-- Without Confirmation -->
    <section class="demo-section">
      <h3>Without Confirmation Dialog</h3>
      <p>Set <code>confirmActions: false</code> to disable the confirmation dialog before clock actions.</p>
      <pre class="ux-code-block" data-lang="html">&lt;div x-data="uxTimeClock({ confirmActions: false })"&gt;
  &lt;!-- Actions execute immediately without confirmation --&gt;
&lt;/div&gt;</pre>
    </section>

    <!-- With Callbacks -->
    <section class="demo-section">
      <h3>Event Callbacks</h3>
      <p>Pass callback functions to handle clock events, useful for server synchronization.</p>
      <div class="demo-box">
        <div class="row justify-content-center">
          <div class="col-12 col-md-8 col-lg-5">
            <div x-data="{
              timeClock: null,
              lastEvent: '',
              init() {
                this.timeClock = uxTimeClock({
                  confirmActions: false,
                  onClockIn: (data) => this.lastEvent = 'Clocked in at ' + data.time.toLocaleTimeString(),
                  onClockOut: (data) => this.lastEvent = 'Clocked out. Total: ' + this.formatMs(data.totalWorked),
                  onBreakStart: (data) => this.lastEvent = 'Break started at ' + data.time.toLocaleTimeString(),
                  onBreakEnd: (data) => this.lastEvent = 'Break ended. Break time: ' + this.formatMs(data.totalBreak)
                });
              },
              formatMs(ms) {
                const h = Math.floor(ms / 3600000);
                const m = Math.floor((ms % 3600000) / 60000);
                return h + 'h ' + m + 'm';
              }
            }">
              <div x-data="timeClock"
                   class="ux-time-clock"
                   :class="{
                     'ux-time-clock--clocked-in': isClockedIn && !isOnBreak,
                     'ux-time-clock--on-break': isOnBreak
                   }">
                <div class="ux-time-clock__display">
                  <h2 class="ux-time-clock__time" x-text="formattedTime"></h2>
                  <div class="ux-time-clock__status">
                    <span class="ux-time-clock__status-dot"></span>
                    <span x-text="currentStatus"></span>
                  </div>
                </div>
                <div class="ux-time-clock__counter">
                  <div class="ux-time-clock__counter-item">
                    <div class="ux-time-clock__counter-value" x-text="totalWorkedTime"></div>
                    <div class="ux-time-clock__counter-label">Worked</div>
                  </div>
                  <div class="ux-time-clock__counter-item">
                    <div class="ux-time-clock__counter-value" x-text="totalBreakTime"></div>
                    <div class="ux-time-clock__counter-label">Break</div>
                  </div>
                </div>
                <div class="ux-time-clock__actions">
                  <template x-if="!isClockedIn">
                    <button class="ux-button ux-color-success" @click="clockIn()">Clock In</button>
                  </template>
                  <template x-if="isClockedIn && !isOnBreak">
                    <button class="ux-button ux-color-warning" @click="startBreak()">Break</button>
                  </template>
                  <template x-if="isOnBreak">
                    <button class="ux-button ux-color-primary" @click="endBreak()">Resume</button>
                  </template>
                  <template x-if="isClockedIn">
                    <button class="ux-button ux-color-danger" @click="clockOut()">Clock Out</button>
                  </template>
                </div>
              </div>
              <div style="margin-top: var(--ux-space-md); padding: var(--ux-space-md); background: var(--ux-surface); border-radius: var(--ux-border-radius); text-align: center;">
                <span style="color: var(--ux-text-secondary);">Last Event:</span>
                <span x-text="lastEvent || 'None yet'"></span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <pre class="ux-code-block" data-lang="javascript">uxTimeClock({
  onClockIn: (data) =&gt; {
    console.log('Clocked in at', data.time);
    // Send to server
    fetch('/api/clock-in', {
      method: 'POST',
      body: JSON.stringify({ time: data.time })
    });
  },
  onClockOut: (data) =&gt; {
    console.log('Clocked out. Total worked:', data.totalWorked);
    // Send to server
    fetch('/api/clock-out', {
      method: 'POST',
      body: JSON.stringify({
        time: data.time,
        totalWorked: data.totalWorked,
        totalBreak: data.totalBreak
      })
    });
  },
  onBreakStart: (data) =&gt; {
    console.log('Break started at', data.time);
  },
  onBreakEnd: (data) =&gt; {
    console.log('Break ended. Total break:', data.totalBreak);
  }
})</pre>
    </section>

    <!-- Custom Events -->
    <section class="demo-section">
      <h3>Custom Events</h3>
      <p>The component dispatches Alpine events that you can listen to.</p>
      <pre class="ux-code-block" data-lang="html">&lt;div x-data="uxTimeClock()"
     @timeclock:clockin="console.log('Clocked in', $event.detail)"
     @timeclock:clockout="console.log('Clocked out', $event.detail)"
     @timeclock:breakstart="console.log('Break started', $event.detail)"
     @timeclock:breakend="console.log('Break ended', $event.detail)"
     @timeclock:reset="console.log('Reset')"&gt;
  ...
&lt;/div&gt;</pre>
      <table style="width: 100%; font-size: var(--ux-font-size-md); margin-top: var(--ux-space-md);">
        <thead>
          <tr style="text-align: left; border-bottom: 1px solid var(--ux-border-color);">
            <th style="padding: var(--ux-space-sm);">Event</th>
            <th style="padding: var(--ux-space-sm);">Detail</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>timeclock:clockin</code></td>
            <td style="padding: var(--ux-space-sm);"><code>{ time: Date }</code></td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>timeclock:clockout</code></td>
            <td style="padding: var(--ux-space-sm);"><code>{ time: Date, totalWorked: ms, totalBreak: ms }</code></td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>timeclock:breakstart</code></td>
            <td style="padding: var(--ux-space-sm);"><code>{ time: Date }</code></td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>timeclock:breakend</code></td>
            <td style="padding: var(--ux-space-sm);"><code>{ time: Date, totalBreak: ms }</code></td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>timeclock:reset</code></td>
            <td style="padding: var(--ux-space-sm);">-</td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- Locale Support -->
    <section class="demo-section">
      <h3>Locale Support</h3>
      <p>Set the <code>dateLocale</code> option to format dates in different languages.</p>
      <div class="demo-box">
        <div class="demo-grid">
          <div x-data="uxTimeClock({ dateLocale: 'es-ES', showSeconds: false, confirmActions: false })"
               class="ux-time-clock ux-time-clock--compact">
            <div class="ux-time-clock__display">
              <h2 class="ux-time-clock__time" x-text="formattedTime"></h2>
              <p class="ux-time-clock__date" x-text="formattedDate"></p>
            </div>
          </div>
          <div x-data="uxTimeClock({ dateLocale: 'fr-FR', showSeconds: false, confirmActions: false })"
               class="ux-time-clock ux-time-clock--compact">
            <div class="ux-time-clock__display">
              <h2 class="ux-time-clock__time" x-text="formattedTime"></h2>
              <p class="ux-time-clock__date" x-text="formattedDate"></p>
            </div>
          </div>
          <div x-data="uxTimeClock({ dateLocale: 'de-DE', showSeconds: false, confirmActions: false })"
               class="ux-time-clock ux-time-clock--compact">
            <div class="ux-time-clock__display">
              <h2 class="ux-time-clock__time" x-text="formattedTime"></h2>
              <p class="ux-time-clock__date" x-text="formattedDate"></p>
            </div>
          </div>
        </div>
      </div>
      <pre class="ux-code-block" data-lang="html">&lt;div x-data="uxTimeClock({ dateLocale: 'es-ES' })"&gt;...&lt;/div&gt;
&lt;div x-data="uxTimeClock({ dateLocale: 'fr-FR' })"&gt;...&lt;/div&gt;
&lt;div x-data="uxTimeClock({ dateLocale: 'de-DE' })"&gt;...&lt;/div&gt;</pre>
    </section>

    <!-- API Reference -->
    <section class="demo-section">
      <h3>API Reference</h3>

      <h4 style="margin-top: var(--ux-space-lg); margin-bottom: var(--ux-space-sm); font-size: var(--ux-font-size-md);">Configuration Options</h4>
      <table style="width: 100%; font-size: var(--ux-font-size-md);">
        <thead>
          <tr style="text-align: left; border-bottom: 1px solid var(--ux-border-color);">
            <th style="padding: var(--ux-space-sm);">Option</th>
            <th style="padding: var(--ux-space-sm);">Type</th>
            <th style="padding: var(--ux-space-sm);">Default</th>
            <th style="padding: var(--ux-space-sm);">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>showSeconds</code></td>
            <td style="padding: var(--ux-space-sm);">Boolean</td>
            <td style="padding: var(--ux-space-sm);"><code>true</code></td>
            <td style="padding: var(--ux-space-sm);">Show seconds in time display</td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>confirmActions</code></td>
            <td style="padding: var(--ux-space-sm);">Boolean</td>
            <td style="padding: var(--ux-space-sm);"><code>true</code></td>
            <td style="padding: var(--ux-space-sm);">Show confirmation dialog before actions</td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>dateLocale</code></td>
            <td style="padding: var(--ux-space-sm);">String</td>
            <td style="padding: var(--ux-space-sm);"><code>'en-US'</code></td>
            <td style="padding: var(--ux-space-sm);">Locale for date formatting</td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>onClockIn</code></td>
            <td style="padding: var(--ux-space-sm);">Function</td>
            <td style="padding: var(--ux-space-sm);"><code>null</code></td>
            <td style="padding: var(--ux-space-sm);">Callback when clocking in</td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>onClockOut</code></td>
            <td style="padding: var(--ux-space-sm);">Function</td>
            <td style="padding: var(--ux-space-sm);"><code>null</code></td>
            <td style="padding: var(--ux-space-sm);">Callback when clocking out</td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>onBreakStart</code></td>
            <td style="padding: var(--ux-space-sm);">Function</td>
            <td style="padding: var(--ux-space-sm);"><code>null</code></td>
            <td style="padding: var(--ux-space-sm);">Callback when starting break</td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>onBreakEnd</code></td>
            <td style="padding: var(--ux-space-sm);">Function</td>
            <td style="padding: var(--ux-space-sm);"><code>null</code></td>
            <td style="padding: var(--ux-space-sm);">Callback when ending break</td>
          </tr>
        </tbody>
      </table>

      <h4 style="margin-top: var(--ux-space-lg); margin-bottom: var(--ux-space-sm); font-size: var(--ux-font-size-md);">Methods</h4>
      <table style="width: 100%; font-size: var(--ux-font-size-md);">
        <thead>
          <tr style="text-align: left; border-bottom: 1px solid var(--ux-border-color);">
            <th style="padding: var(--ux-space-sm);">Method</th>
            <th style="padding: var(--ux-space-sm);">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>clockIn()</code></td>
            <td style="padding: var(--ux-space-sm);">Start a work session</td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>clockOut()</code></td>
            <td style="padding: var(--ux-space-sm);">End the work session</td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>startBreak()</code></td>
            <td style="padding: var(--ux-space-sm);">Start a break (pauses work timer)</td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>endBreak()</code></td>
            <td style="padding: var(--ux-space-sm);">End the break (resumes work timer)</td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>reset()</code></td>
            <td style="padding: var(--ux-space-sm);">Clear all entries and timers</td>
          </tr>
        </tbody>
      </table>

      <h4 style="margin-top: var(--ux-space-lg); margin-bottom: var(--ux-space-sm); font-size: var(--ux-font-size-md);">Properties (Reactive)</h4>
      <table style="width: 100%; font-size: var(--ux-font-size-md);">
        <thead>
          <tr style="text-align: left; border-bottom: 1px solid var(--ux-border-color);">
            <th style="padding: var(--ux-space-sm);">Property</th>
            <th style="padding: var(--ux-space-sm);">Type</th>
            <th style="padding: var(--ux-space-sm);">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>isClockedIn</code></td>
            <td style="padding: var(--ux-space-sm);">Boolean</td>
            <td style="padding: var(--ux-space-sm);">Whether currently clocked in</td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>isOnBreak</code></td>
            <td style="padding: var(--ux-space-sm);">Boolean</td>
            <td style="padding: var(--ux-space-sm);">Whether currently on break</td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>currentStatus</code></td>
            <td style="padding: var(--ux-space-sm);">String</td>
            <td style="padding: var(--ux-space-sm);">Current status text</td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>formattedTime</code></td>
            <td style="padding: var(--ux-space-sm);">String</td>
            <td style="padding: var(--ux-space-sm);">Current time (HH:MM)</td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>formattedSeconds</code></td>
            <td style="padding: var(--ux-space-sm);">String</td>
            <td style="padding: var(--ux-space-sm);">Current seconds (SS)</td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>formattedDate</code></td>
            <td style="padding: var(--ux-space-sm);">String</td>
            <td style="padding: var(--ux-space-sm);">Current date (localized)</td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>totalWorkedTime</code></td>
            <td style="padding: var(--ux-space-sm);">String</td>
            <td style="padding: var(--ux-space-sm);">Total worked time (HH:MM:SS)</td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>totalBreakTime</code></td>
            <td style="padding: var(--ux-space-sm);">String</td>
            <td style="padding: var(--ux-space-sm);">Total break time (HH:MM:SS)</td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>entries</code></td>
            <td style="padding: var(--ux-space-sm);">Array</td>
            <td style="padding: var(--ux-space-sm);">List of today's entries</td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- CSS Classes -->
    <section class="demo-section">
      <h3>CSS Classes</h3>
      <table style="width: 100%; font-size: var(--ux-font-size-md);">
        <thead>
          <tr style="text-align: left; border-bottom: 1px solid var(--ux-border-color);">
            <th style="padding: var(--ux-space-sm);">Class</th>
            <th style="padding: var(--ux-space-sm);">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>.ux-time-clock</code></td>
            <td style="padding: var(--ux-space-sm);">Main container</td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>.ux-time-clock--clocked-in</code></td>
            <td style="padding: var(--ux-space-sm);">State when clocked in (green status)</td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>.ux-time-clock--on-break</code></td>
            <td style="padding: var(--ux-space-sm);">State when on break (yellow status)</td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>.ux-time-clock--compact</code></td>
            <td style="padding: var(--ux-space-sm);">Smaller size variant</td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>.ux-time-clock--glass</code></td>
            <td style="padding: var(--ux-space-sm);">Glass morphism variant</td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>.ux-time-clock__display</code></td>
            <td style="padding: var(--ux-space-sm);">Time display area</td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>.ux-time-clock__time</code></td>
            <td style="padding: var(--ux-space-sm);">Large time text</td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>.ux-time-clock__date</code></td>
            <td style="padding: var(--ux-space-sm);">Date text</td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>.ux-time-clock__status</code></td>
            <td style="padding: var(--ux-space-sm);">Status indicator badge</td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>.ux-time-clock__counter</code></td>
            <td style="padding: var(--ux-space-sm);">Worked/break time counters</td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>.ux-time-clock__actions</code></td>
            <td style="padding: var(--ux-space-sm);">Button container</td>
          </tr>
          <tr>
            <td style="padding: var(--ux-space-sm);"><code>.ux-time-clock__history</code></td>
            <td style="padding: var(--ux-space-sm);">Entry history section</td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- State Persistence -->
    <section class="demo-section">
      <h3>State Persistence</h3>
      <p>The component automatically saves state to localStorage, keyed by date. This means:</p>
      <ul style="color: var(--ux-text-secondary); padding-left: var(--ux-space-lg);">
        <li>Refreshing the page preserves your clock state</li>
        <li>Each day starts fresh with a new storage key</li>
        <li>Use <code>reset()</code> to clear the current day's data</li>
      </ul>
    </section>

    <!-- HTMX + Django -->
    <section class="demo-section">
      <h3>HTMX + Django</h3>
      <p>Sync time clock entries with Django backend using HTMX.</p>
      <pre class="ux-code-block" data-lang="html">&lt;!-- Time clock with server sync --&gt;
&lt;div x-data="uxTimeClock({
       confirmActions: false,
       onClockIn: (data) =&gt; htmx.ajax('POST', '{% url "timeclock:clock-in" %}', {
         values: { time: data.time.toISOString() },
         target: '#entries-list'
       }),
       onClockOut: (data) =&gt; htmx.ajax('POST', '{% url "timeclock:clock-out" %}', {
         values: {
           time: data.time.toISOString(),
           total_worked: data.totalWorked,
           total_break: data.totalBreak
         },
         target: '#entries-list'
       }),
       onBreakStart: (data) =&gt; htmx.ajax('POST', '{% url "timeclock:break-start" %}', {
         values: { time: data.time.toISOString() }
       }),
       onBreakEnd: (data) =&gt; htmx.ajax('POST', '{% url "timeclock:break-end" %}', {
         values: { time: data.time.toISOString(), total_break: data.totalBreak }
       })
     })"
     class="ux-time-clock"
     :class="{
       'ux-time-clock--clocked-in': isClockedIn &amp;&amp; !isOnBreak,
       'ux-time-clock--on-break': isOnBreak
     }"&gt;
  &lt;!-- Time display and controls --&gt;
&lt;/div&gt;

&lt;!-- Load today's entries from server --&gt;
&lt;div id="entries-list"
     hx-get="{% url 'timeclock:entries' %}?date={{ today }}"
     hx-trigger="load"
     hx-swap="innerHTML"&gt;
  &lt;div class="ux-spinner"&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;!-- Clock action buttons with direct HTMX --&gt;
&lt;div class="ux-time-clock__actions"&gt;
  &lt;button class="ux-button ux-color-success"
          hx-post="{% url 'timeclock:clock-in' %}"
          hx-vals='{"time": new Date().toISOString()}'
          hx-target="#time-clock-status"
          hx-swap="outerHTML"
          x-show="!isClockedIn"&gt;
    Clock In
  &lt;/button&gt;

  &lt;button class="ux-button ux-color-danger"
          hx-post="{% url 'timeclock:clock-out' %}"
          hx-confirm="Are you sure you want to clock out?"
          hx-target="#time-clock-status"
          hx-swap="outerHTML"
          x-show="isClockedIn"&gt;
    Clock Out
  &lt;/button&gt;
&lt;/div&gt;

&lt;!-- Weekly timesheet view --&gt;
&lt;div hx-get="{% url 'timeclock:weekly' %}?week={{ current_week }}"
     hx-trigger="load"
     hx-swap="innerHTML"&gt;
  &lt;div class="ux-skeleton" style="height: 200px;"&gt;&lt;/div&gt;
&lt;/div&gt;</pre>
      <pre class="ux-code-block" data-lang="python"># views.py
from django.http import JsonResponse
from django.shortcuts import render
from django.views.decorators.http import require_POST, require_GET
from django.contrib.auth.decorators import login_required
from django.utils import timezone
from datetime import datetime, timedelta
import json

@login_required
def timeclock_view(request):
    """Render time clock page."""
    today = timezone.now().date()
    current_entry = TimeEntry.objects.filter(
        employee=request.user,
        date=today,
        clock_out__isnull=True
    ).first()

    return render(request, 'timeclock/index.html', {
        'today': today,
        'current_entry': current_entry,
        'is_clocked_in': current_entry is not None
    })

@login_required
@require_POST
def clock_in(request):
    """Record clock in time."""
    time_str = request.POST.get('time')
    clock_time = datetime.fromisoformat(time_str.replace('Z', '+00:00'))

    entry = TimeEntry.objects.create(
        employee=request.user,
        date=clock_time.date(),
        clock_in=clock_time
    )

    return render(request, 'timeclock/partials/status.html', {
        'entry': entry,
        'is_clocked_in': True
    })

@login_required
@require_POST
def clock_out(request):
    """Record clock out time and calculate totals."""
    time_str = request.POST.get('time')
    total_worked = int(request.POST.get('total_worked', 0))
    total_break = int(request.POST.get('total_break', 0))
    clock_time = datetime.fromisoformat(time_str.replace('Z', '+00:00'))

    entry = TimeEntry.objects.filter(
        employee=request.user,
        clock_out__isnull=True
    ).first()

    if entry:
        entry.clock_out = clock_time
        entry.total_worked_ms = total_worked
        entry.total_break_ms = total_break
        entry.save()

    return render(request, 'timeclock/partials/status.html', {
        'entry': None,
        'is_clocked_in': False
    })

@login_required
@require_POST
def break_start(request):
    """Record break start time."""
    time_str = request.POST.get('time')
    break_time = datetime.fromisoformat(time_str.replace('Z', '+00:00'))

    entry = TimeEntry.objects.filter(
        employee=request.user,
        clock_out__isnull=True
    ).first()

    if entry:
        BreakEntry.objects.create(
            time_entry=entry,
            start_time=break_time
        )

    return JsonResponse({'success': True})

@login_required
@require_POST
def break_end(request):
    """Record break end time."""
    time_str = request.POST.get('time')
    break_time = datetime.fromisoformat(time_str.replace('Z', '+00:00'))

    break_entry = BreakEntry.objects.filter(
        time_entry__employee=request.user,
        end_time__isnull=True
    ).first()

    if break_entry:
        break_entry.end_time = break_time
        break_entry.save()

    return JsonResponse({'success': True})

@login_required
@require_GET
def entries_list(request):
    """Get time entries for a specific date."""
    date_str = request.GET.get('date', timezone.now().date().isoformat())
    date = datetime.strptime(date_str, '%Y-%m-%d').date()

    entries = TimeEntry.objects.filter(
        employee=request.user,
        date=date
    ).prefetch_related('breaks').order_by('clock_in')

    return render(request, 'timeclock/partials/entries.html', {
        'entries': entries,
        'date': date
    })

@login_required
@require_GET
def weekly_view(request):
    """Get weekly timesheet summary."""
    week_str = request.GET.get('week')
    if week_str:
        year, week = map(int, week_str.split('-W'))
        start_date = datetime.strptime(f'{year}-W{week}-1', '%G-W%V-%u').date()
    else:
        today = timezone.now().date()
        start_date = today - timedelta(days=today.weekday())

    end_date = start_date + timedelta(days=6)

    entries = TimeEntry.objects.filter(
        employee=request.user,
        date__range=[start_date, end_date]
    ).order_by('date', 'clock_in')

    # Group by date
    daily_totals = {}
    for entry in entries:
        if entry.date not in daily_totals:
            daily_totals[entry.date] = {'worked': 0, 'break': 0}
        daily_totals[entry.date]['worked'] += entry.total_worked_ms or 0
        daily_totals[entry.date]['break'] += entry.total_break_ms or 0

    return render(request, 'timeclock/partials/weekly.html', {
        'entries': entries,
        'daily_totals': daily_totals,
        'start_date': start_date,
        'end_date': end_date
    })

# urls.py
from django.urls import path
from . import views

app_name = 'timeclock'
urlpatterns = [
    path('', views.timeclock_view, name='index'),
    path('clock-in/', views.clock_in, name='clock-in'),
    path('clock-out/', views.clock_out, name='clock-out'),
    path('break/start/', views.break_start, name='break-start'),
    path('break/end/', views.break_end, name='break-end'),
    path('entries/', views.entries_list, name='entries'),
    path('weekly/', views.weekly_view, name='weekly'),
]</pre>
    </section>

  </div>
</body>
</html>
