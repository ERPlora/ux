<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>Product Card - UX Library</title>
  <script src="https://unpkg.com/htmx.org@2.0.4"></script>
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <script src="../components/ux-core.js"></script>
  <script src="../components/ux-button.js"></script>
  <script src="../components/ux-badge.js"></script>
  <script src="../components/ux-searchbar.js"></script>
  <script src="../components/ux-product-card.js"></script>
  <style>
    .demo-section { margin-bottom: var(--ux-space-xl); padding: var(--ux-space-lg); }
    .demo-section h3 { font-size: var(--ux-font-size-lg); font-weight: 600; margin-bottom: var(--ux-space-md); color: var(--ux-text); }
    .demo-section p { font-size: var(--ux-font-size-md); color: var(--ux-text-secondary); margin-bottom: var(--ux-space-md); }
    .code-block { background: #1a1a2e; color: #e5e5e5; padding: var(--ux-space-md); border-radius: var(--ux-border-radius); font-family: 'SF Mono', Monaco, monospace; font-size: var(--ux-font-size-sm); overflow-x: auto; white-space: pre; }
    .code-block .tag { color: #ff7b72; }
    .code-block .attr { color: #79c0ff; }
    .code-block .string { color: #a5d6ff; }
    .code-block .comment { color: #8b949e; }
    .section-label { font-weight: 600; margin-bottom: var(--ux-space-sm); display: block; }
  </style>
</head>
<body class="ux-app">

  <!-- Basic Product Grid -->
  <div class="demo-section">
    <h3>Grid de Productos POS</h3>
    <p>Grid de productos con imagenes, precios y boton de agregar rapido. Ideal para punto de venta.</p>

    <div class="ux-product-grid ux-product-grid--4" style="margin-bottom: var(--ux-space-lg);"
         @product-add.window="alert('Agregado: ' + $event.detail.product.name)">

      <!-- Product 1 -->
      <div x-data="uxProductCard({
        product: {
          id: 1,
          name: 'Cafe Americano',
          price: 3.50,
          stock: 100,
          image: 'https://images.unsplash.com/photo-1509042239860-f550ce710b93?w=300&h=300&fit=crop',
          category: 'Bebidas'
        },
        currency: '$'
      })" class="ux-product-card" :class="{ 'ux-product-card--adding': isAdding }" @click="addToCart()">
        <div class="ux-product-card__image-wrapper">
          <img :src="product.image" :alt="product.name" class="ux-product-card__image">
          <button type="button" class="ux-product-card__quick-add" @click="addToCart($event)" :title="labels.addToCart">
            <span x-html="getIcon('plus')"></span>
          </button>
        </div>
        <div class="ux-product-card__content">
          <h4 class="ux-product-card__name" x-text="product.name"></h4>
          <div class="ux-product-card__price-wrapper">
            <span class="ux-product-card__price" x-text="formatPrice(product.price)"></span>
          </div>
        </div>
      </div>

      <!-- Product 2 with Sale -->
      <div x-data="uxProductCard({
        product: {
          id: 2,
          name: 'Cappuccino Grande',
          price: 4.20,
          originalPrice: 5.00,
          stock: 45,
          image: 'https://images.unsplash.com/photo-1572442388796-11668a67e53d?w=300&h=300&fit=crop',
          category: 'Bebidas'
        }
      })" class="ux-product-card" :class="{ 'ux-product-card--adding': isAdding }" @click="addToCart()">
        <div class="ux-product-card__image-wrapper">
          <div class="ux-product-card__badges">
            <span class="ux-product-card__badge ux-product-card__badge--sale">-<span x-text="getDiscountPercent()"></span>%</span>
          </div>
          <img :src="product.image" :alt="product.name" class="ux-product-card__image">
          <button type="button" class="ux-product-card__quick-add" @click="addToCart($event)">
            <span x-html="getIcon('plus')"></span>
          </button>
        </div>
        <div class="ux-product-card__content">
          <h4 class="ux-product-card__name" x-text="product.name"></h4>
          <div class="ux-product-card__price-wrapper">
            <span class="ux-product-card__price ux-product-card__price--sale" x-text="formatPrice(product.price)"></span>
            <span class="ux-product-card__price-original" x-text="formatPrice(product.originalPrice)"></span>
          </div>
        </div>
      </div>

      <!-- Product 3 - Low Stock -->
      <div x-data="uxProductCard({
        product: {
          id: 3,
          name: 'Croissant de Mantequilla',
          price: 2.80,
          stock: 3,
          image: 'https://images.unsplash.com/photo-1555507036-ab1f4038808a?w=300&h=300&fit=crop',
          category: 'Panaderia'
        },
        lowStockThreshold: 5
      })" class="ux-product-card" :class="{ 'ux-product-card--adding': isAdding }" @click="addToCart()">
        <div class="ux-product-card__image-wrapper">
          <div class="ux-product-card__badges">
            <span class="ux-product-card__badge ux-product-card__badge--low-stock">Quedan <span x-text="product.stock"></span></span>
          </div>
          <img :src="product.image" :alt="product.name" class="ux-product-card__image">
          <button type="button" class="ux-product-card__quick-add" @click="addToCart($event)">
            <span x-html="getIcon('plus')"></span>
          </button>
        </div>
        <div class="ux-product-card__content">
          <h4 class="ux-product-card__name" x-text="product.name"></h4>
          <div class="ux-product-card__price-wrapper">
            <span class="ux-product-card__price" x-text="formatPrice(product.price)"></span>
          </div>
          <span class="ux-product-card__stock ux-product-card__stock--low" x-text="getStockText()"></span>
        </div>
      </div>

      <!-- Product 4 - Out of Stock -->
      <div x-data="uxProductCard({
        product: {
          id: 4,
          name: 'Sandwich Club Premium',
          price: 8.50,
          stock: 0,
          image: 'https://images.unsplash.com/photo-1528735602780-2552fd46c7af?w=300&h=300&fit=crop',
          category: 'Comida'
        }
      })" class="ux-product-card ux-product-card--out-of-stock">
        <div class="ux-product-card__image-wrapper">
          <div class="ux-product-card__badges">
            <span class="ux-product-card__badge ux-product-card__badge--out">Agotado</span>
          </div>
          <img :src="product.image" :alt="product.name" class="ux-product-card__image">
        </div>
        <div class="ux-product-card__content">
          <h4 class="ux-product-card__name" x-text="product.name"></h4>
          <div class="ux-product-card__price-wrapper">
            <span class="ux-product-card__price" x-text="formatPrice(product.price)"></span>
          </div>
          <span class="ux-product-card__stock ux-product-card__stock--out" x-text="getStockText()"></span>
        </div>
      </div>

      <!-- Product 5 - New -->
      <div x-data="uxProductCard({
        product: {
          id: 5,
          name: 'Smoothie Tropical',
          price: 5.90,
          stock: 50,
          image: 'https://images.unsplash.com/photo-1505252585461-04db1eb84625?w=300&h=300&fit=crop',
          category: 'Bebidas'
        }
      })" class="ux-product-card" :class="{ 'ux-product-card--adding': isAdding }" @click="addToCart()">
        <div class="ux-product-card__image-wrapper">
          <div class="ux-product-card__badges">
            <span class="ux-product-card__badge ux-product-card__badge--new">Nuevo</span>
          </div>
          <img :src="product.image" :alt="product.name" class="ux-product-card__image">
          <button type="button" class="ux-product-card__quick-add" @click="addToCart($event)">
            <span x-html="getIcon('plus')"></span>
          </button>
        </div>
        <div class="ux-product-card__content">
          <h4 class="ux-product-card__name" x-text="product.name"></h4>
          <div class="ux-product-card__price-wrapper">
            <span class="ux-product-card__price" x-text="formatPrice(product.price)"></span>
          </div>
        </div>
      </div>

      <!-- Product 6 - No Image -->
      <div x-data="uxProductCard({
        product: {
          id: 6,
          name: 'Agua Mineral 500ml',
          price: 1.50,
          stock: 200,
          category: 'Bebidas'
        }
      })" class="ux-product-card" :class="{ 'ux-product-card--adding': isAdding }" @click="addToCart()">
        <div class="ux-product-card__image-wrapper">
          <div class="ux-product-card__placeholder">
            <span x-html="getIcon('placeholder')"></span>
          </div>
          <button type="button" class="ux-product-card__quick-add" @click="addToCart($event)">
            <span x-html="getIcon('plus')"></span>
          </button>
        </div>
        <div class="ux-product-card__content">
          <h4 class="ux-product-card__name" x-text="product.name"></h4>
          <div class="ux-product-card__price-wrapper">
            <span class="ux-product-card__price" x-text="formatPrice(product.price)"></span>
          </div>
        </div>
      </div>

    </div>

    <pre class="code-block"><span class="tag">&lt;div</span> <span class="attr">class</span>=<span class="string">"ux-product-grid ux-product-grid--4"</span><span class="tag">&gt;</span>
  <span class="tag">&lt;div</span> <span class="attr">x-data</span>=<span class="string">"uxProductCard({
    product: {
      id: 1,
      name: 'Cafe Americano',
      price: 3.50,
      stock: 100,
      image: 'https://...',
      category: 'Bebidas'
    },
    currency: '$'
  })"</span> <span class="attr">class</span>=<span class="string">"ux-product-card"</span> <span class="attr">@click</span>=<span class="string">"addToCart()"</span><span class="tag">&gt;</span>
    <span class="tag">&lt;div</span> <span class="attr">class</span>=<span class="string">"ux-product-card__image-wrapper"</span><span class="tag">&gt;</span>
      <span class="tag">&lt;img</span> <span class="attr">:src</span>=<span class="string">"product.image"</span> <span class="attr">class</span>=<span class="string">"ux-product-card__image"</span><span class="tag">&gt;</span>
      <span class="tag">&lt;button</span> <span class="attr">class</span>=<span class="string">"ux-product-card__quick-add"</span> <span class="attr">@click</span>=<span class="string">"addToCart($event)"</span><span class="tag">&gt;</span>+<span class="tag">&lt;/button&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;div</span> <span class="attr">class</span>=<span class="string">"ux-product-card__content"</span><span class="tag">&gt;</span>
      <span class="tag">&lt;h4</span> <span class="attr">class</span>=<span class="string">"ux-product-card__name"</span> <span class="attr">x-text</span>=<span class="string">"product.name"</span><span class="tag">&gt;&lt;/h4&gt;</span>
      <span class="tag">&lt;span</span> <span class="attr">class</span>=<span class="string">"ux-product-card__price"</span> <span class="attr">x-text</span>=<span class="string">"formatPrice(product.price)"</span><span class="tag">&gt;&lt;/span&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
  <span class="tag">&lt;/div&gt;</span>
<span class="tag">&lt;/div&gt;</span></pre>
  </div>

  <!-- Grid Sizes -->
  <div class="demo-section">
    <h3>Tamanos de Grid</h3>
    <p>Controla el numero de columnas con clases: .ux-product-grid--2, --3, --4, --5, --6</p>

    <div class="section-label">3 columnas:</div>
    <div class="ux-product-grid ux-product-grid--3" style="margin-bottom: var(--ux-space-lg);">
      <template x-data x-for="i in 3">
        <div class="ux-product-card">
          <div class="ux-product-card__image-wrapper">
            <div class="ux-product-card__placeholder">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" width="48" height="48"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><path d="M21 15l-5-5L5 21"/></svg>
            </div>
          </div>
          <div class="ux-product-card__content">
            <h4 class="ux-product-card__name">Producto Demo</h4>
            <span class="ux-product-card__price">$9.99</span>
          </div>
        </div>
      </template>
    </div>

    <div class="section-label">6 columnas (compacto):</div>
    <div class="ux-product-grid ux-product-grid--6 ux-product-grid--compact">
      <template x-data x-for="i in 6">
        <div class="ux-product-card ux-product-card--sm">
          <div class="ux-product-card__image-wrapper">
            <div class="ux-product-card__placeholder">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" width="32" height="32"><rect x="3" y="3" width="18" height="18" rx="2"/></svg>
            </div>
          </div>
          <div class="ux-product-card__content">
            <h4 class="ux-product-card__name">Item</h4>
            <span class="ux-product-card__price">$5.00</span>
          </div>
        </div>
      </template>
    </div>

    <pre class="code-block"><span class="comment">&lt;!-- 3 columnas --&gt;</span>
<span class="tag">&lt;div</span> <span class="attr">class</span>=<span class="string">"ux-product-grid ux-product-grid--3"</span><span class="tag">&gt;</span>...<span class="tag">&lt;/div&gt;</span>

<span class="comment">&lt;!-- 6 columnas compacto --&gt;</span>
<span class="tag">&lt;div</span> <span class="attr">class</span>=<span class="string">"ux-product-grid ux-product-grid--6 ux-product-grid--compact"</span><span class="tag">&gt;</span>
  <span class="tag">&lt;div</span> <span class="attr">class</span>=<span class="string">"ux-product-card ux-product-card--sm"</span><span class="tag">&gt;</span>...<span class="tag">&lt;/div&gt;</span>
<span class="tag">&lt;/div&gt;</span></pre>
  </div>

  <!-- Horizontal Card -->
  <div class="demo-section">
    <h3>Tarjeta Horizontal</h3>
    <p>Layout horizontal para listas de productos.</p>

    <div style="max-width: 400px;">
      <div x-data="uxProductCard({
        product: {
          id: 1,
          name: 'Hamburguesa Clasica con Queso y Bacon',
          price: 12.50,
          originalPrice: 15.00,
          stock: 25,
          image: 'https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=200&h=200&fit=crop',
          category: 'Comida',
          sku: 'BURG-001'
        }
      })" class="ux-product-card ux-product-card--horizontal" @click="addToCart()">
        <div class="ux-product-card__image-wrapper">
          <img :src="product.image" :alt="product.name" class="ux-product-card__image">
        </div>
        <div class="ux-product-card__content">
          <span class="ux-product-card__category" x-text="product.category"></span>
          <h4 class="ux-product-card__name" x-text="product.name"></h4>
          <span class="ux-product-card__sku" x-text="product.sku"></span>
          <div class="ux-product-card__price-wrapper">
            <span class="ux-product-card__price ux-product-card__price--sale" x-text="formatPrice(product.price)"></span>
            <span class="ux-product-card__price-original" x-text="formatPrice(product.originalPrice)"></span>
          </div>
        </div>
      </div>
    </div>

    <pre class="code-block"><span class="tag">&lt;div</span> <span class="attr">class</span>=<span class="string">"ux-product-card ux-product-card--horizontal"</span><span class="tag">&gt;</span>
  <span class="tag">&lt;div</span> <span class="attr">class</span>=<span class="string">"ux-product-card__image-wrapper"</span><span class="tag">&gt;</span>...<span class="tag">&lt;/div&gt;</span>
  <span class="tag">&lt;div</span> <span class="attr">class</span>=<span class="string">"ux-product-card__content"</span><span class="tag">&gt;</span>
    <span class="tag">&lt;span</span> <span class="attr">class</span>=<span class="string">"ux-product-card__category"</span><span class="tag">&gt;</span>Categoria<span class="tag">&lt;/span&gt;</span>
    <span class="tag">&lt;h4</span> <span class="attr">class</span>=<span class="string">"ux-product-card__name"</span><span class="tag">&gt;</span>Nombre<span class="tag">&lt;/h4&gt;</span>
    <span class="tag">&lt;span</span> <span class="attr">class</span>=<span class="string">"ux-product-card__sku"</span><span class="tag">&gt;</span>SKU-001<span class="tag">&lt;/span&gt;</span>
    <span class="tag">&lt;span</span> <span class="attr">class</span>=<span class="string">"ux-product-card__price"</span><span class="tag">&gt;</span>$12.50<span class="tag">&lt;/span&gt;</span>
  <span class="tag">&lt;/div&gt;</span>
<span class="tag">&lt;/div&gt;</span></pre>
  </div>

  <!-- Glass Variant -->
  <div class="demo-section">
    <h3>Variante Glass</h3>
    <p>Tarjetas con efecto glass morphism.</p>

    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 2rem; border-radius: var(--ux-border-radius-lg);">
      <div class="ux-product-grid ux-product-grid--3">
        <template x-data x-for="i in 3">
          <div class="ux-product-card ux-product-card--glass">
            <div class="ux-product-card__image-wrapper">
              <div class="ux-product-card__placeholder">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" width="48" height="48"><rect x="3" y="3" width="18" height="18" rx="2"/></svg>
              </div>
            </div>
            <div class="ux-product-card__content">
              <h4 class="ux-product-card__name">Producto Glass</h4>
              <span class="ux-product-card__price">$19.99</span>
            </div>
          </div>
        </template>
      </div>
    </div>

    <pre class="code-block"><span class="tag">&lt;div</span> <span class="attr">class</span>=<span class="string">"ux-product-card ux-product-card--glass"</span><span class="tag">&gt;</span>...<span class="tag">&lt;/div&gt;</span></pre>
  </div>

  <!-- HTMX Integration -->
  <div class="demo-section">
    <h3>Integracion con HTMX</h3>
    <p>Los product cards funcionan perfectamente con HTMX para cargar productos del servidor, agregar al carrito, y actualizar stock en tiempo real.</p>

    <h4 style="margin-top: var(--ux-space-lg); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">Grid de Productos con HTMX</h4>
    <p>Cargar productos desde el servidor y agregar al carrito con HTMX.</p>

    <div class="demo-box" style="display: block;">
      <!-- Products loaded from server -->
      <div id="product-catalog"
           class="ux-product-grid ux-product-grid--4"
           hx-get="/api/products"
           hx-trigger="load"
           hx-swap="innerHTML"
           hx-indicator="#products-loading">
        <div class="ux-spinner htmx-indicator" id="products-loading" style="margin: auto;"></div>
      </div>

      <!-- Cart summary updated by HTMX -->
      <div id="cart-summary" style="margin-top: var(--ux-space-lg); padding: var(--ux-space-md); background: var(--ux-surface-secondary); border-radius: var(--ux-border-radius);">
        <strong>Carrito:</strong> <span id="cart-count">0</span> items - <span id="cart-total">$0.00</span>
      </div>
    </div>

    <pre class="code-block"><span class="comment">&lt;!-- Grid que carga productos del servidor --&gt;</span>
<span class="tag">&lt;div</span> <span class="attr">id</span>=<span class="string">"product-catalog"</span>
     <span class="attr">class</span>=<span class="string">"ux-product-grid ux-product-grid--4"</span>
     <span class="attr">hx-get</span>=<span class="string">"/api/products"</span>
     <span class="attr">hx-trigger</span>=<span class="string">"load"</span>
     <span class="attr">hx-swap</span>=<span class="string">"innerHTML"</span>
     <span class="attr">hx-indicator</span>=<span class="string">"#loading"</span><span class="tag">&gt;</span>
  <span class="tag">&lt;div</span> <span class="attr">class</span>=<span class="string">"ux-spinner htmx-indicator"</span> <span class="attr">id</span>=<span class="string">"loading"</span><span class="tag">&gt;&lt;/div&gt;</span>
<span class="tag">&lt;/div&gt;</span>

<span class="comment">&lt;!-- Respuesta del servidor (HTML parcial): --&gt;</span>
<span class="tag">&lt;div</span> <span class="attr">class</span>=<span class="string">"ux-product-card"</span>
     <span class="attr">hx-post</span>=<span class="string">"/api/cart/add"</span>
     <span class="attr">hx-vals</span>=<span class="string">'{"product_id": 1, "quantity": 1}'</span>
     <span class="attr">hx-target</span>=<span class="string">"#cart-summary"</span>
     <span class="attr">hx-swap</span>=<span class="string">"outerHTML"</span><span class="tag">&gt;</span>
  <span class="tag">&lt;img</span> <span class="attr">src</span>=<span class="string">"..."</span> <span class="attr">class</span>=<span class="string">"ux-product-card__image"</span><span class="tag">&gt;</span>
  <span class="tag">&lt;h4</span> <span class="attr">class</span>=<span class="string">"ux-product-card__name"</span><span class="tag">&gt;</span>Cafe<span class="tag">&lt;/h4&gt;</span>
  <span class="tag">&lt;span</span> <span class="attr">class</span>=<span class="string">"ux-product-card__price"</span><span class="tag">&gt;</span>$3.50<span class="tag">&lt;/span&gt;</span>
<span class="tag">&lt;/div&gt;</span></pre>

    <h4 style="margin-top: var(--ux-space-xl); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">Agregar al Carrito con HTMX</h4>
    <p>Click en producto para agregarlo al carrito via HTMX.</p>

    <div class="demo-box">
      <div class="ux-product-grid ux-product-grid--3" style="max-width: 600px;">
        <!-- Product with HTMX add to cart -->
        <div class="ux-product-card"
             hx-post="/api/cart/add"
             hx-vals='{"product_id": 1, "name": "Cafe Americano", "price": 3.50}'
             hx-target="#htmx-cart-result"
             hx-swap="innerHTML"
             hx-indicator="find .ux-product-card__quick-add"
             style="cursor: pointer;">
          <div class="ux-product-card__image-wrapper">
            <img src="https://images.unsplash.com/photo-1509042239860-f550ce710b93?w=300&h=300&fit=crop"
                 alt="Cafe"
                 class="ux-product-card__image">
            <div class="ux-product-card__quick-add">
              <span class="htmx-indicator" style="display: none;">
                <svg class="ux-spinner ux-spinner--sm" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="3" fill="none" stroke-dasharray="31.4" stroke-linecap="round"><animateTransform attributeName="transform" type="rotate" from="0 12 12" to="360 12 12" dur="1s" repeatCount="indefinite"/></circle></svg>
              </span>
              <span class="htmx-settle">+</span>
            </div>
          </div>
          <div class="ux-product-card__content">
            <h4 class="ux-product-card__name">Cafe Americano</h4>
            <span class="ux-product-card__price">$3.50</span>
          </div>
        </div>

        <!-- Product 2 -->
        <div class="ux-product-card"
             hx-post="/api/cart/add"
             hx-vals='{"product_id": 2, "name": "Croissant", "price": 2.80}'
             hx-target="#htmx-cart-result"
             hx-swap="innerHTML"
             style="cursor: pointer;">
          <div class="ux-product-card__image-wrapper">
            <img src="https://images.unsplash.com/photo-1555507036-ab1f4038808a?w=300&h=300&fit=crop"
                 alt="Croissant"
                 class="ux-product-card__image">
            <div class="ux-product-card__quick-add">+</div>
          </div>
          <div class="ux-product-card__content">
            <h4 class="ux-product-card__name">Croissant</h4>
            <span class="ux-product-card__price">$2.80</span>
          </div>
        </div>

        <!-- Product 3 -->
        <div class="ux-product-card"
             hx-post="/api/cart/add"
             hx-vals='{"product_id": 3, "name": "Smoothie", "price": 5.90}'
             hx-target="#htmx-cart-result"
             hx-swap="innerHTML"
             style="cursor: pointer;">
          <div class="ux-product-card__image-wrapper">
            <img src="https://images.unsplash.com/photo-1505252585461-04db1eb84625?w=300&h=300&fit=crop"
                 alt="Smoothie"
                 class="ux-product-card__image">
            <div class="ux-product-card__quick-add">+</div>
          </div>
          <div class="ux-product-card__content">
            <h4 class="ux-product-card__name">Smoothie Tropical</h4>
            <span class="ux-product-card__price">$5.90</span>
          </div>
        </div>
      </div>

      <div id="htmx-cart-result" style="margin-top: var(--ux-space-md); padding: var(--ux-space-sm); min-height: 40px;"></div>
    </div>

    <pre class="code-block"><span class="comment">&lt;!-- Producto que agrega al carrito con HTMX --&gt;</span>
<span class="tag">&lt;div</span> <span class="attr">class</span>=<span class="string">"ux-product-card"</span>
     <span class="attr">hx-post</span>=<span class="string">"/api/cart/add"</span>
     <span class="attr">hx-vals</span>=<span class="string">'{"product_id": 1, "quantity": 1}'</span>
     <span class="attr">hx-target</span>=<span class="string">"#cart-result"</span>
     <span class="attr">hx-swap</span>=<span class="string">"innerHTML"</span><span class="tag">&gt;</span>
  <span class="tag">&lt;img</span> <span class="attr">src</span>=<span class="string">"..."</span> <span class="attr">class</span>=<span class="string">"ux-product-card__image"</span><span class="tag">&gt;</span>
  <span class="tag">&lt;h4</span> <span class="attr">class</span>=<span class="string">"ux-product-card__name"</span><span class="tag">&gt;</span>Cafe<span class="tag">&lt;/h4&gt;</span>
  <span class="tag">&lt;span</span> <span class="attr">class</span>=<span class="string">"ux-product-card__price"</span><span class="tag">&gt;</span>$3.50<span class="tag">&lt;/span&gt;</span>
<span class="tag">&lt;/div&gt;</span></pre>

    <h4 style="margin-top: var(--ux-space-xl); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">Busqueda y Filtrado con HTMX</h4>
    <p>Filtrar productos en tiempo real con busqueda HTMX.</p>

    <div class="demo-box" style="display: block;">
      <div style="margin-bottom: var(--ux-space-md);">
        <input type="search"
               class="ux-searchbar__input"
               name="search"
               placeholder="Buscar productos..."
               hx-get="/api/products/search"
               hx-trigger="input changed delay:300ms, search"
               hx-target="#filtered-products"
               hx-indicator="#search-spinner"
               style="width: 100%; max-width: 400px;">
        <span class="ux-spinner ux-spinner--sm htmx-indicator" id="search-spinner"></span>
      </div>

      <div class="ux-segment" style="margin-bottom: var(--ux-space-md);">
        <button class="ux-segment__button ux-segment__button--active"
                hx-get="/api/products?category=all"
                hx-target="#filtered-products"
                hx-swap="innerHTML">Todos</button>
        <button class="ux-segment__button"
                hx-get="/api/products?category=bebidas"
                hx-target="#filtered-products"
                hx-swap="innerHTML">Bebidas</button>
        <button class="ux-segment__button"
                hx-get="/api/products?category=comida"
                hx-target="#filtered-products"
                hx-swap="innerHTML">Comida</button>
        <button class="ux-segment__button"
                hx-get="/api/products?category=panaderia"
                hx-target="#filtered-products"
                hx-swap="innerHTML">Panaderia</button>
      </div>

      <div id="filtered-products" class="ux-product-grid ux-product-grid--4">
        <div class="ux-product-card">
          <div class="ux-product-card__image-wrapper">
            <div class="ux-product-card__placeholder" style="display: flex; align-items: center; justify-content: center; height: 150px; background: var(--ux-surface-secondary);">
              <span style="color: var(--ux-text-secondary);">Busca productos...</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <pre class="code-block"><span class="comment">&lt;!-- Busqueda en tiempo real --&gt;</span>
<span class="tag">&lt;input</span> <span class="attr">type</span>=<span class="string">"search"</span>
       <span class="attr">name</span>=<span class="string">"search"</span>
       <span class="attr">hx-get</span>=<span class="string">"/api/products/search"</span>
       <span class="attr">hx-trigger</span>=<span class="string">"input changed delay:300ms"</span>
       <span class="attr">hx-target</span>=<span class="string">"#product-grid"</span><span class="tag">&gt;</span>

<span class="comment">&lt;!-- Filtro por categoria --&gt;</span>
<span class="tag">&lt;div</span> <span class="attr">class</span>=<span class="string">"ux-segment"</span><span class="tag">&gt;</span>
  <span class="tag">&lt;button</span> <span class="attr">hx-get</span>=<span class="string">"/api/products?category=bebidas"</span>
          <span class="attr">hx-target</span>=<span class="string">"#product-grid"</span><span class="tag">&gt;</span>Bebidas<span class="tag">&lt;/button&gt;</span>
  <span class="tag">&lt;button</span> <span class="attr">hx-get</span>=<span class="string">"/api/products?category=comida"</span>
          <span class="attr">hx-target</span>=<span class="string">"#product-grid"</span><span class="tag">&gt;</span>Comida<span class="tag">&lt;/button&gt;</span>
<span class="tag">&lt;/div&gt;</span>

<span class="tag">&lt;div</span> <span class="attr">id</span>=<span class="string">"product-grid"</span> <span class="attr">class</span>=<span class="string">"ux-product-grid"</span><span class="tag">&gt;&lt;/div&gt;</span></pre>

    <h4 style="margin-top: var(--ux-space-xl); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">Actualizar Stock en Tiempo Real</h4>
    <p>Polling HTMX para mantener stock actualizado.</p>

    <div class="demo-box">
      <div id="live-stock-product"
           class="ux-product-card"
           style="max-width: 200px;"
           hx-get="/api/products/1/stock"
           hx-trigger="every 5s"
           hx-swap="outerHTML">
        <div class="ux-product-card__image-wrapper">
          <div class="ux-product-card__badges">
            <span class="ux-product-card__badge ux-product-card__badge--low-stock">Stock: 5</span>
          </div>
          <img src="https://images.unsplash.com/photo-1509042239860-f550ce710b93?w=300&h=300&fit=crop"
               alt="Cafe Americano"
               class="ux-product-card__image">
        </div>
        <div class="ux-product-card__content">
          <h4 class="ux-product-card__name">Cafe Americano</h4>
          <span class="ux-product-card__price">$3.50</span>
          <span class="ux-product-card__stock ux-product-card__stock--low">Stock bajo</span>
        </div>
      </div>
    </div>

    <pre class="code-block"><span class="comment">&lt;!-- Producto con actualizacion de stock cada 5s --&gt;</span>
<span class="tag">&lt;div</span> <span class="attr">id</span>=<span class="string">"product-1"</span>
     <span class="attr">class</span>=<span class="string">"ux-product-card"</span>
     <span class="attr">hx-get</span>=<span class="string">"/api/products/1/stock"</span>
     <span class="attr">hx-trigger</span>=<span class="string">"every 5s"</span>
     <span class="attr">hx-swap</span>=<span class="string">"outerHTML"</span><span class="tag">&gt;</span>
  <span class="comment">&lt;!-- El servidor devuelve el card completo con stock actualizado --&gt;</span>
<span class="tag">&lt;/div&gt;</span>

<span class="comment">&lt;!-- O actualizar solo el badge de stock --&gt;</span>
<span class="tag">&lt;span</span> <span class="attr">id</span>=<span class="string">"stock-badge-1"</span>
      <span class="attr">class</span>=<span class="string">"ux-product-card__badge"</span>
      <span class="attr">hx-get</span>=<span class="string">"/api/products/1/stock-badge"</span>
      <span class="attr">hx-trigger</span>=<span class="string">"every 5s"</span>
      <span class="attr">hx-swap</span>=<span class="string">"outerHTML"</span><span class="tag">&gt;</span>Stock: 5<span class="tag">&lt;/span&gt;</span></pre>

    <h4 style="margin-top: var(--ux-space-xl); margin-bottom: var(--ux-space-sm); color: var(--ux-text);">Paginacion Infinita</h4>
    <p>Cargar mas productos al hacer scroll.</p>

    <div class="demo-box" style="display: block;">
      <div id="infinite-products" class="ux-product-grid ux-product-grid--4">
        <!-- Products loaded here -->
        <div class="ux-product-card">
          <div class="ux-product-card__image-wrapper">
            <div class="ux-product-card__placeholder" style="height: 120px; display: flex; align-items: center; justify-content: center;">1</div>
          </div>
          <div class="ux-product-card__content">
            <h4 class="ux-product-card__name">Producto 1</h4>
            <span class="ux-product-card__price">$9.99</span>
          </div>
        </div>
        <div class="ux-product-card">
          <div class="ux-product-card__image-wrapper">
            <div class="ux-product-card__placeholder" style="height: 120px; display: flex; align-items: center; justify-content: center;">2</div>
          </div>
          <div class="ux-product-card__content">
            <h4 class="ux-product-card__name">Producto 2</h4>
            <span class="ux-product-card__price">$12.99</span>
          </div>
        </div>
        <div class="ux-product-card">
          <div class="ux-product-card__image-wrapper">
            <div class="ux-product-card__placeholder" style="height: 120px; display: flex; align-items: center; justify-content: center;">3</div>
          </div>
          <div class="ux-product-card__content">
            <h4 class="ux-product-card__name">Producto 3</h4>
            <span class="ux-product-card__price">$7.50</span>
          </div>
        </div>
        <div class="ux-product-card">
          <div class="ux-product-card__image-wrapper">
            <div class="ux-product-card__placeholder" style="height: 120px; display: flex; align-items: center; justify-content: center;">4</div>
          </div>
          <div class="ux-product-card__content">
            <h4 class="ux-product-card__name">Producto 4</h4>
            <span class="ux-product-card__price">$15.00</span>
          </div>
        </div>

        <!-- Load more trigger -->
        <div hx-get="/api/products?page=2"
             hx-trigger="revealed"
             hx-swap="outerHTML"
             hx-indicator="#load-more-spinner"
             style="grid-column: 1 / -1; text-align: center; padding: var(--ux-space-lg);">
          <span class="ux-spinner htmx-indicator" id="load-more-spinner"></span>
          <span>Cargando mas productos...</span>
        </div>
      </div>
    </div>

    <pre class="code-block"><span class="comment">&lt;!-- Grid con scroll infinito --&gt;</span>
<span class="tag">&lt;div</span> <span class="attr">id</span>=<span class="string">"products"</span> <span class="attr">class</span>=<span class="string">"ux-product-grid"</span><span class="tag">&gt;</span>
  <span class="comment">&lt;!-- productos... --&gt;</span>

  <span class="comment">&lt;!-- Trigger al final --&gt;</span>
  <span class="tag">&lt;div</span> <span class="attr">hx-get</span>=<span class="string">"/api/products?page=2"</span>
       <span class="attr">hx-trigger</span>=<span class="string">"revealed"</span>
       <span class="attr">hx-swap</span>=<span class="string">"outerHTML"</span><span class="tag">&gt;</span>
    <span class="tag">&lt;span</span> <span class="attr">class</span>=<span class="string">"ux-spinner htmx-indicator"</span><span class="tag">&gt;&lt;/span&gt;</span>
    Cargando...
  <span class="tag">&lt;/div&gt;</span>
<span class="tag">&lt;/div&gt;</span>

<span class="comment">&lt;!-- Respuesta del servidor incluye mas productos + nuevo trigger --&gt;</span></pre>
  </div>

  <!-- API Reference -->
  <div class="demo-section">
    <h3>Componente Alpine.js</h3>
    <div style="background: var(--ux-surface); padding: var(--ux-space-lg); border-radius: var(--ux-border-radius-lg);">
      <pre class="code-block">// uxProductCard - Tarjeta individual
uxProductCard({
  product: {
    id: 1,
    name: 'Producto',
    price: 9.99,
    originalPrice: 12.99,    // Precio original (para descuentos)
    stock: 50,               // Stock disponible
    image: 'https://...',    // URL de imagen
    category: 'Categoria',
    sku: 'SKU-001'
  },
  currency: '$',              // Simbolo de moneda
  locale: 'en-US',            // Locale para formato
  lowStockThreshold: 5,       // Umbral de stock bajo
  showQuickAdd: true,         // Mostrar boton agregar rapido
  labels: {
    addToCart: 'Add to cart',
    outOfStock: 'Out of stock',
    lowStock: 'Low stock',
    inStock: 'In stock'
  }
})

// Propiedades:
product         // Datos del producto
isAdding        // True durante animacion de agregar
isAvailable()   // True si hay stock

// Metodos:
formatPrice(n)      // Formatear precio
getDiscountPercent() // Calcular % descuento
getStockStatus()    // 'available', 'low', 'out'
getStockText()      // Texto de stock
addToCart(event)    // Agregar al carrito
getIcon(name)       // Obtener icono SVG

// Eventos:
@product-add        // { product, quantity }
@product-select     // { product, selected }


// uxProductGrid - Grid con filtros
uxProductGrid({
  products: [...],
  multiSelect: false,
  sortBy: 'name'
})

// Propiedades:
filteredProducts    // Productos filtrados
categories          // Categorias unicas
selectedProducts    // Productos seleccionados

// Metodos:
toggleSelect(product)
isSelected(product)
clearSelection()</pre>
    </div>
  </div>

  <!-- CSS Classes -->
  <div class="demo-section">
    <h3>Clases CSS</h3>
    <div style="background: var(--ux-surface); padding: var(--ux-space-lg); border-radius: var(--ux-border-radius-lg);">
      <pre class="code-block">/* Grid */
.ux-product-grid              // Grid base
.ux-product-grid--2/3/4/5/6   // Numero de columnas
.ux-product-grid--compact     // Gap reducido

/* Tarjeta */
.ux-product-card              // Tarjeta base
.ux-product-card--sm          // Tamano pequeno
.ux-product-card--lg          // Tamano grande
.ux-product-card--horizontal  // Layout horizontal
.ux-product-card--glass       // Variante glass
.ux-product-card--selected    // Seleccionada
.ux-product-card--unavailable // No disponible
.ux-product-card--out-of-stock // Sin stock
.ux-product-card--adding      // Animacion agregar

/* Imagen */
.ux-product-card__image-wrapper
.ux-product-card__image
.ux-product-card__placeholder

/* Badges */
.ux-product-card__badges
.ux-product-card__badge
.ux-product-card__badge--sale
.ux-product-card__badge--new
.ux-product-card__badge--low-stock
.ux-product-card__badge--out

/* Contenido */
.ux-product-card__content
.ux-product-card__name
.ux-product-card__category
.ux-product-card__sku

/* Precio */
.ux-product-card__price-wrapper
.ux-product-card__price
.ux-product-card__price--sale
.ux-product-card__price-original
.ux-product-card__discount

/* Stock */
.ux-product-card__stock
.ux-product-card__stock--low
.ux-product-card__stock--out
.ux-product-card__stock--available

/* Agregar rapido */
.ux-product-card__quick-add</pre>
    </div>
  </div>

</body>
</html>
